<<<<<<< HEAD
Started GET "/products/4" for 127.0.0.1 at 2018-10-08 09:01:23 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
=======
<<<<<<< HEAD
Started GET "/products/11" for 127.0.0.1 at 2018-10-03 10:57:24 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
>>>>>>> Product Init
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:10
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
<<<<<<< HEAD
  Rendered products/_product_rating.html.erb (526.1ms)
  Rendered products/_user_rating.html.erb (10.8ms)
  Rendered products/show.html.erb within layouts/application (859.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.0ms)
  Rendered layouts/_subcategory.html.erb (9.3ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.4ms)
  Rendered layouts/_subcategory.html.erb (32.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (45.9ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 1120ms (Views: 991.4ms | ActiveRecord: 16.0ms)
=======
  Rendered products/show.html.erb within layouts/application (418.7ms)
  Rendered layouts/_header.html.erb (6.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 846ms (Views: 811.7ms | ActiveRecord: 1.9ms)
=======
Started GET "/" for 127.0.0.1 at 2018-10-04 08:39:28 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/nvmintue/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (
>>>>>>> Product Init

Migrations are pending. To resolve this issue, run:
>>>>>>> Product Init

<<<<<<< HEAD
Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-08 09:01:24 +0700
=======
        bin/rails db:migrate RAILS_ENV=development

<<<<<<< HEAD
Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-03 10:57:25 +0700
>>>>>>> Product Init
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-08 09:01:25 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (1.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (26.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.1ms)
  Rendered layouts/_subcategory.html.erb (5.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.7ms)
  Rendered layouts/_subcategory.html.erb (16.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (23.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 91ms (Views: 78.0ms | ActiveRecord: 6.1ms)


Started GET "/product/6.jpg" for 127.0.0.1 at 2018-10-08 09:01:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2018-10-08 10:40:28 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
AbstractController::ActionNotFound (The action 'index' could not be found for ProductsController):
  
actionpack (5.2.1) lib/abstract_controller/base.rb:129:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-08 10:40:31 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:10
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (244.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.1ms)
  Rendered layouts/_subcategory.html.erb (7.1ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.4ms)
  Rendered layouts/_subcategory.html.erb (24.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (36.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 501ms (Views: 443.1ms | ActiveRecord: 9.2ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:17:17 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (730.1ms)
Started GET "/" for 127.0.0.1 at 2018-10-09 09:17:19 +0700
Processing by StaticPagesController#home as HTML
Started GET "/" for 127.0.0.1 at 2018-10-09 09:17:20 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/static_pages_controller.rb:4
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (83.0ms)
  Rendered static_pages/home.html.erb within layouts/application (94.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  ↳ app/views/layouts/_header.html.erb:38
  ↳ app/views/layouts/_header.html.erb:38
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  ↳ app/views/layouts/_subcategory.html.erb:6
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  ↳ app/views/layouts/_subcategory.html.erb:6
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.9ms)
  Rendered layouts/_subcategory.html.erb (3.1ms)
  Rendered layouts/_subcategory.html.erb (33.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  Rendered layouts/_subcategory.html.erb (29.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.8ms)
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  Rendered layouts/_subcategory.html.erb (32.3ms)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_subcategory.html.erb:7
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (10.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  Rendered layouts/_subcategory.html.erb (80.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (7.4ms)
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (87.6ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  ↳ app/views/layouts/_subcategory.html.erb:3
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (114.1ms)
  Rendered layouts/_subcategory.html.erb (11.9ms)
  Rendered layouts/_header.html.erb (112.8ms)
  Rendered layouts/_subcategory.html.erb (92.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  Rendered layouts/_footer.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 955ms (Views: 450.1ms | ActiveRecord: 7.1ms)


  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (138.7ms)
Completed 200 OK in 472ms (Views: 443.2ms | ActiveRecord: 6.3ms)


  Rendered layouts/_footer.html.erb (0.7ms)
Started GET "/" for 127.0.0.1 at 2018-10-09 09:17:20 +0700
Completed 200 OK in 2929ms (Views: 2741.5ms | ActiveRecord: 11.1ms)


Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.1ms)
  Rendered layouts/_subcategory.html.erb (7.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.2ms)
  Rendered layouts/_subcategory.html.erb (24.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (33.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 113ms (Views: 98.2ms | ActiveRecord: 6.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-09 09:17:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.5ms)
  Rendered products/_user_rating.html.erb (2.7ms)
  Rendered products/show.html.erb within layouts/application (14.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.1ms)
  Rendered layouts/_subcategory.html.erb (15.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.6ms)
  Rendered layouts/_subcategory.html.erb (32.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (38.9ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 147ms (Views: 101.6ms | ActiveRecord: 9.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-09 09:17:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
=======
):
  
activerecord (5.2.1) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
>>>>>>> Product Init
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
<<<<<<< HEAD
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
=======
>>>>>>> Product Init
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
<<<<<<< HEAD
Started GET "/" for 127.0.0.1 at 2018-10-09 09:17:34 +0700
=======
<<<<<<< HEAD
Started GET "/" for 127.0.0.1 at 2018-10-03 11:19:29 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
>>>>>>> Product Init
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-09 09:17:34 +0700
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (50.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.4ms)
  Rendered layouts/_subcategory.html.erb (10.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.7ms)
  Rendered layouts/_subcategory.html.erb (26.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (33.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 227ms (Views: 207.5ms | ActiveRecord: 8.0ms)


Started GET "/products/6" for 127.0.0.1 at 2018-10-09 09:17:35 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 6]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 6]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 6)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.3ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/show.html.erb within layouts/application (14.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (2.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.2ms)
  Rendered layouts/_subcategory.html.erb (8.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.3ms)
  Rendered layouts/_subcategory.html.erb (31.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (42.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 140ms (Views: 114.2ms | ActiveRecord: 11.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-09 09:17:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/6" for 127.0.0.1 at 2018-10-09 09:19:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 6]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 6]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 6)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.9ms)
  Rendered products/_user_rating.html.erb (3.0ms)
  Rendered products/show.html.erb within layouts/application (15.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.0ms)
  Rendered layouts/_subcategory.html.erb (10.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.9ms)
  Rendered layouts/_subcategory.html.erb (20.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (32.2ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 143ms (Views: 88.7ms | ActiveRecord: 8.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-09 09:19:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login" for 127.0.0.1 at 2018-10-09 09:19:22 +0700
Processing by SessionsController#new as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (84.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.5ms)
  Rendered layouts/_subcategory.html.erb (9.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.9ms)
  Rendered layouts/_subcategory.html.erb (19.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (25.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 207ms (Views: 181.4ms | ActiveRecord: 4.3ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-09 09:19:22 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/login" for 127.0.0.1 at 2018-10-09 09:19:25 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xsCW96TXes6ULmzKKkCIPAaQIzn9G8MJFafknHXpJGxRn8sKTuY2vuqGfyChrcVEmsJMjwEkT3FmlLdlSgMdSg==", "session"=>{"email"=>"dong@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:44
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:44
Redirected to http://localhost:3000/
Completed 302 Found in 115ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:19:25 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (33.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.6ms)
  Rendered layouts/_subcategory.html.erb (7.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.8ms)
  Rendered layouts/_subcategory.html.erb (20.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:14
  Rendered layouts/_header.html.erb (34.7ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 141ms (Views: 127.0ms | ActiveRecord: 5.5ms)


Started GET "/suggestions" for 127.0.0.1 at 2018-10-09 09:20:15 +0700
Processing by SuggestionsController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  Rendering suggestions/new.html.erb within layouts/application
  Rendered suggestions/new.html.erb within layouts/application (2.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.5ms)
  Rendered layouts/_subcategory.html.erb (7.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.6ms)
  Rendered layouts/_subcategory.html.erb (19.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:14
  Rendered layouts/_header.html.erb (46.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 133ms (Views: 83.6ms | ActiveRecord: 7.5ms)


Started POST "/suggestions" for 127.0.0.1 at 2018-10-09 09:20:20 +0700
Processing by SuggestionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZSknExdVUF+bAx7j3fnmpXmg11QuK2HT1IUamdnq9GAdTsDuXmGE0zbt3SXhj4F/edow7axjJmlRtqb9HAqstA==", "suggestion"=>{"name"=>"1", "description"=>"1", "cartegory_id"=>"1", "image"=>"1"}, "commit"=>"Send suggestion"}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/suggestions_controller.rb:8
  [1m[36mSuggestion Create (13.5ms)[0m  [1m[32mINSERT INTO "suggestions" ("name", "description", "cartegory_id", "image", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "1"], ["description", "1"], ["cartegory_id", 1], ["image", "1"], ["created_at", "2018-10-09 02:20:20.329750"], ["updated_at", "2018-10-09 02:20:20.329750"]]
  ↳ app/controllers/suggestions_controller.rb:8
  [1m[35m (498.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/suggestions_controller.rb:8
Redirected to http://localhost:3000/
Completed 302 Found in 524ms (ActiveRecord: 512.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:20:20 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (59.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.6ms)
  Rendered layouts/_subcategory.html.erb (12.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.8ms)
  Rendered layouts/_subcategory.html.erb (22.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:14
  Rendered layouts/_header.html.erb (35.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 183ms (Views: 148.0ms | ActiveRecord: 8.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:20:39 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.3ms)
  Rendered layouts/_subcategory.html.erb (6.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.8ms)
  Rendered layouts/_subcategory.html.erb (16.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:14
  Rendered layouts/_header.html.erb (23.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 97ms (Views: 86.2ms | ActiveRecord: 4.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2018-10-09 09:21:24 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NyrfLI1bd8lLeD+Yw0TRYcrKImtWdnE1N7BU9bF7qL9PTTjRxG+jReaW/F7/Mra7yrDF0tQ+No+yg+iRdJvwaw=="}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:44
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:44
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:21:24 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (24.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.0ms)
  Rendered layouts/_subcategory.html.erb (6.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.1ms)
  Rendered layouts/_subcategory.html.erb (20.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (29.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 129ms (Views: 100.6ms | ActiveRecord: 6.8ms)


Started GET "/login" for 127.0.0.1 at 2018-10-09 09:21:24 +0700
Processing by SessionsController#new as HTML
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (0.8ms)
  Rendered layouts/_subcategory.html.erb (4.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.5ms)
  Rendered layouts/_subcategory.html.erb (14.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (20.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 74ms (Views: 65.1ms | ActiveRecord: 3.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-09 09:21:26 +0700
Processing by UsersController#new as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:21:26 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (13.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.4ms)
  Rendered layouts/_subcategory.html.erb (9.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.8ms)
  Rendered layouts/_subcategory.html.erb (22.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (33.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 114ms (Views: 101.6ms | ActiveRecord: 6.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-09 09:21:29 +0700
Processing by UsersController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:21:29 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (15.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.6ms)
  Rendered layouts/_subcategory.html.erb (6.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.2ms)
  Rendered layouts/_subcategory.html.erb (19.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (26.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 93ms (Views: 81.8ms | ActiveRecord: 4.5ms)


Started GET "/login" for 127.0.0.1 at 2018-10-09 09:21:29 +0700
Processing by SessionsController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.2ms)
  Rendered layouts/_subcategory.html.erb (14.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.9ms)
  Rendered layouts/_subcategory.html.erb (28.5ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (41.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 106ms (Views: 91.7ms | ActiveRecord: 7.3ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-09 09:21:31 +0700
Processing by UsersController#new as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)


<<<<<<< HEAD
Started GET "/" for 127.0.0.1 at 2018-10-09 09:21:31 +0700
=======
  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe63c76b4c8>:0x00007fe63c769b00>):
    79:     <div class="col-sm-12">
=======
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (76.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (97.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (74.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (78.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (52.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (44.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001044227)
  [1m[35m (1.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "quantity" integer, "category" varchar, "price" integer, "rate" float DEFAULT 0.0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001044227_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001044227"]]
  ↳ bin/rails:9
  [1m[35m (88.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (94.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "poroduct_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (78.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPictureToProducts (20181002040452)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "products" ADD "picture" varchar[0m
  ↳ db/migrate/20181002040452_add_picture_to_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002040452"]]
  ↳ bin/rails:9
  [1m[35m (55.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-04 01:40:40.870108"], ["updated_at", "2018-10-04 01:40:40.870108"]]
  ↳ bin/rails:9
  [1m[35m (50.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for 127.0.0.1 at 2018-10-04 08:40:50 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/nvmintue/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (198.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:16
  Rendered layouts/_header.html.erb (24.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 417ms (Views: 404.8ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:2
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:2
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-04 01:41:59.598412"], ["updated_at", "2018-10-04 01:41:59.598412"], ["password_digest", "$2a$10$kilCqqOkl4Sh9whV0vF8w.rLZ1VlGPl3nyXx3ByGgbWuiG096Yvd."]]
  ↳ db/seeds.rb:2
  [1m[35m (82.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:2
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:10
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:10
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-04 01:41:59.749434"], ["updated_at", "2018-10-04 01:41:59.749434"], ["password_digest", "$2a$10$FpkgUU52hn.CnMu/9JHuPOJBBW5xcdaGU1qY5QQDYkq/htKd1LeKO"]]
  ↳ db/seeds.rb:10
  [1m[35m (63.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:10
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-1@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ferdinand Sawayn"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-1@railstutorial.org"], ["created_at", "2018-10-04 01:41:59.935481"], ["updated_at", "2018-10-04 01:41:59.935481"], ["password_digest", "$2a$10$xaBXp1QyLFzH710od4DbFO8UWjkxZuHZPEO5P0u1a8IQFJwx8mLxq"]]
  ↳ db/seeds.rb:26
  [1m[35m (51.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-2@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Donald Beer"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-2@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.056838"], ["updated_at", "2018-10-04 01:42:00.056838"], ["password_digest", "$2a$10$AxSAOrj3cyEr99wwwrF5F.JqTmPgzrADuWqpQHUAJjzIeghP548X2"]]
  ↳ db/seeds.rb:26
  [1m[35m (53.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-3@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Rigoberto Gleason"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-3@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.178784"], ["updated_at", "2018-10-04 01:42:00.178784"], ["password_digest", "$2a$10$wciwhH.My0ZN5NeCW6b0OOGCFkeVigtZEr7auBuJ3PL0w2spR.weu"]]
  ↳ db/seeds.rb:26
  [1m[35m (55.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-4@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Cody Ward"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-4@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.307296"], ["updated_at", "2018-10-04 01:42:00.307296"], ["password_digest", "$2a$10$eMgqm69ogRtV/UCV2pH5N.s8556QbW.VPg4n/BPUpZ4fFWf9hPW0e"]]
  ↳ db/seeds.rb:26
  [1m[35m (42.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-5@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Wilbert McClure"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-5@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.417125"], ["updated_at", "2018-10-04 01:42:00.417125"], ["password_digest", "$2a$10$x5/c0rPmCqC/Rv/gYIyPk.F3n5h5CJ5cuCCSit0ypvoRzDbcNsIna"]]
  ↳ db/seeds.rb:26
  [1m[35m (55.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-6@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claud Renner"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-6@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.540329"], ["updated_at", "2018-10-04 01:42:00.540329"], ["password_digest", "$2a$10$g6wF4L2/zzwiaM50D7xZlOEVFMZSaWkOI1Wormha0MuF2LloTwr8m"]]
  ↳ db/seeds.rb:26
  [1m[35m (56.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-7@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Josue Stokes"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-7@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.663312"], ["updated_at", "2018-10-04 01:42:00.663312"], ["password_digest", "$2a$10$w/.KYJaUUIQkTeBahlOCzujgCY3JzH6KbmoTbk7OF.p2TF5R1DO6G"]]
  ↳ db/seeds.rb:26
  [1m[35m (57.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-8@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mrs. Homer Legros"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-8@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.791441"], ["updated_at", "2018-10-04 01:42:00.791441"], ["password_digest", "$2a$10$MXNUpnhXTI9HueD8lO143.oKK89.D2f.NmmTw9Pweav2rxldYQ3yC"]]
  ↳ db/seeds.rb:26
  [1m[35m (52.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-9@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Luis Abbott"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-9@railstutorial.org"], ["created_at", "2018-10-04 01:42:00.911070"], ["updated_at", "2018-10-04 01:42:00.911070"], ["password_digest", "$2a$10$BLwFxXgdhgbdW89.F2/90uDGlGsftiIzn4HCKBTe5tQlyfgSU22SG"]]
  ↳ db/seeds.rb:26
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-10@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Miss Fallon Graham"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-10@railstutorial.org"], ["created_at", "2018-10-04 01:42:01.058142"], ["updated_at", "2018-10-04 01:42:01.058142"], ["password_digest", "$2a$10$03uaEyUnyfw/o19yE0IIl.j8wFmIN0j.bajsVR4x/ut.s8CvgK2Iq"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 1"], ["description", "description"], ["category", "None"], ["price", 1000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.121270"], ["updated_at", "2018-10-04 01:42:01.121270"]]
  ↳ db/seeds.rb:42
  [1m[35m (60.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 2"], ["description", "description"], ["category", "None"], ["price", 2000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.185177"], ["updated_at", "2018-10-04 01:42:01.185177"]]
  ↳ db/seeds.rb:42
  [1m[35m (62.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 3"], ["description", "description"], ["category", "None"], ["price", 3000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.251525"], ["updated_at", "2018-10-04 01:42:01.251525"]]
  ↳ db/seeds.rb:42
  [1m[35m (78.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 4"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 4"], ["description", "description"], ["category", "None"], ["price", 4000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.333176"], ["updated_at", "2018-10-04 01:42:01.333176"]]
  ↳ db/seeds.rb:42
  [1m[35m (63.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 5"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 5"], ["description", "description"], ["category", "None"], ["price", 5000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.400213"], ["updated_at", "2018-10-04 01:42:01.400213"]]
  ↳ db/seeds.rb:42
  [1m[35m (53.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 6"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 6"], ["description", "description"], ["category", "None"], ["price", 6000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.458928"], ["updated_at", "2018-10-04 01:42:01.458928"]]
  ↳ db/seeds.rb:42
  [1m[35m (46.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 7"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 7"], ["description", "description"], ["category", "None"], ["price", 7000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.510008"], ["updated_at", "2018-10-04 01:42:01.510008"]]
  ↳ db/seeds.rb:42
  [1m[35m (59.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 8"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 8"], ["description", "description"], ["category", "None"], ["price", 8000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.575592"], ["updated_at", "2018-10-04 01:42:01.575592"]]
  ↳ db/seeds.rb:42
  [1m[35m (85.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 9"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 9"], ["description", "description"], ["category", "None"], ["price", 9000000], ["rate", 4.5], ["created_at", "2018-10-04 01:42:01.672451"], ["updated_at", "2018-10-04 01:42:01.672451"]]
  ↳ db/seeds.rb:42
  [1m[35m (53.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
Started GET "/" for 127.0.0.1 at 2018-10-04 08:42:14 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/nvmintue/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (186.1ms)
Completed 500 Internal Server Error in 226ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (Nil location provided. Can't build URI.):
>>>>>>> Product Init
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= link_to product do %>
    83:           <%= image_tag(product.image, class: "img") %>
    84:           <div class="content">
    85:             <div class="line"></div>
<<<<<<< HEAD
  
app/views/static_pages/home.html.erb:82:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313416810100'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313416810100'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:06:25 +0700
>>>>>>> Product Init
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (24.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.5ms)
  Rendered layouts/_subcategory.html.erb (10.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.9ms)
  Rendered layouts/_subcategory.html.erb (21.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (26.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 108ms (Views: 87.1ms | ActiveRecord: 7.5ms)


Started GET "/login" for 127.0.0.1 at 2018-10-09 09:21:31 +0700
Processing by SessionsController#new as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.0ms)
  Rendered layouts/_subcategory.html.erb (7.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.7ms)
  Rendered layouts/_subcategory.html.erb (25.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (32.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 100ms (Views: 88.4ms | ActiveRecord: 5.3ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-09 09:21:32 +0700
Processing by UsersController#new as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:21:32 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (13.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.0ms)
  Rendered layouts/_subcategory.html.erb (6.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.7ms)
  Rendered layouts/_subcategory.html.erb (18.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (24.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 89ms (Views: 74.3ms | ActiveRecord: 4.3ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-09 09:21:35 +0700
Processing by UsersController#new as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:21:35 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:37
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (0.8ms)
  Rendered layouts/_subcategory.html.erb (5.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.5ms)
  Rendered layouts/_subcategory.html.erb (15.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:37
  Rendered layouts/_header.html.erb (23.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 98ms (Views: 79.9ms | ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:25:54 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (25.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.1ms)
  Rendered layouts/_subcategory.html.erb (10.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.9ms)
  Rendered layouts/_subcategory.html.erb (26.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (39.5ms)
  Rendered layouts/_footer.html.erb (1.6ms)
Completed 200 OK in 160ms (Views: 111.7ms | ActiveRecord: 8.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:25:55 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (9.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.2ms)
  Rendered layouts/_subcategory.html.erb (5.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.9ms)
  Rendered layouts/_subcategory.html.erb (16.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (22.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 83ms (Views: 72.3ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:27:55 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (23.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (2.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (2.7ms)
  Rendered layouts/_subcategory.html.erb (13.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.9ms)
  Rendered layouts/_subcategory.html.erb (28.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (37.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 134ms (Views: 112.0ms | ActiveRecord: 10.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:27:59 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (25.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  Rendered layouts/_subcategory.html.erb (254.5ms)
  Rendered layouts/_header.html.erb (260.8ms)
Completed 500 Internal Server Error in 345ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined method `children_categories1' for #<#<Class:0x00007f1abc1b1920>:0x000055adbde79828>
Did you mean?  children_categories):
    1: <% categories.each do |cate| %>
    2:   <% child_category = children_categories1(cate.id) %>
    3:   <% if child_category.count > 0 %>
    4:   <li class="dropdown-submenu mydrop">
    5:     <a href="#" class="dropdown-toggle" data-toggle="dropdown"><%= cate.name %> </a>
  
app/views/layouts/_subcategory.html.erb:2:in `block in _app_views_layouts__subcategory_html_erb__275329843812245588_69876338094980'
app/views/layouts/_subcategory.html.erb:1:in `each'
app/views/layouts/_subcategory.html.erb:1:in `_app_views_layouts__subcategory_html_erb__275329843812245588_69876338094980'
app/views/layouts/_header.html.erb:44:in `block in _app_views_layouts__header_html_erb__4364779137600902347_69876338189860'
app/views/layouts/_header.html.erb:37:in `each'
app/views/layouts/_header.html.erb:37:in `_app_views_layouts__header_html_erb__4364779137600902347_69876338189860'
app/views/layouts/application.html.erb:16:in `_app_views_layouts_application_html_erb__1800970202475144919_47102352005700'
Started GET "/" for 127.0.0.1 at 2018-10-09 09:28:02 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (13.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.3ms)
  Rendered layouts/_subcategory.html.erb (9.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.5ms)
  Rendered layouts/_subcategory.html.erb (28.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (35.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 108ms (Views: 93.0ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:28:25 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (15.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.4ms)
  Rendered layouts/_subcategory.html.erb (7.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.6ms)
  Rendered layouts/_subcategory.html.erb (19.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 9]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (25.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 93ms (Views: 80.3ms | ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:34:17 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 1.3ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:40: syntax error, unexpected tSTRING_DEND, expecting keyword_then or ';' or '\n'
...       if child_category.any? } 
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:44: syntax error, unexpected tSTRING_DEND, expecting '}'
...ategories: child_category.to_a} );@output_buffer.safe_append...
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
'.freeze;             end 
                      ^~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
          end
          ^~~):
  
app/views/layouts/_header.html.erb:40: syntax error, unexpected tSTRING_DEND, expecting keyword_then or ';' or '\n'
app/views/layouts/_header.html.erb:44: syntax error, unexpected tSTRING_DEND, expecting '}'
app/views/layouts/_header.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_header.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_header.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:16:in `_app_views_layouts_application_html_erb__1800970202475144919_69876512862780'
Started GET "/" for 127.0.0.1 at 2018-10-09 09:34:32 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (1.8ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 1.5ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:40: syntax error, unexpected tSTRING_DEND, expecting keyword_then or ';' or '\n'
...       if child_category.any? } 
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:44: syntax error, unexpected tSTRING_DEND, expecting '}'
...ategories: child_category.to_a} );@output_buffer.safe_append...
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
'.freeze;             end 
                      ^~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/layouts/_header.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
          end
          ^~~):
  
<<<<<<< HEAD
app/views/layouts/_header.html.erb:40: syntax error, unexpected tSTRING_DEND, expecting keyword_then or ';' or '\n'
app/views/layouts/_header.html.erb:44: syntax error, unexpected tSTRING_DEND, expecting '}'
app/views/layouts/_header.html.erb:45: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_header.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_header.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:16:in `_app_views_layouts_application_html_erb__1800970202475144919_69876369886380'
Started GET "/" for 127.0.0.1 at 2018-10-09 09:34:53 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.4ms)
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.0ms)
  Rendered layouts/_subcategory.html.erb (8.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.8ms)
  Rendered layouts/_subcategory.html.erb (21.3ms)
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 9], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (29.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 136ms (Views: 124.5ms | ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:35:06 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.7ms)
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.4ms)
  Rendered layouts/_subcategory.html.erb (7.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.8ms)
  Rendered layouts/_subcategory.html.erb (22.1ms)
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 9], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (34.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 122ms (Views: 111.1ms | ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 09:35:11 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
=======
app/views/static_pages/home.html.erb:146: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2018-10-03 13:13:12 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/static_pages/home.html.erb:146: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/static_pages/home.html.erb:146: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2018-10-03 13:13:28 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendering html template
  Rendered html template (0.1ms)
  Rendered static_pages/home.html.erb within layouts/application (214.6ms)
Completed 500 Internal Server Error in 227ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe63f420e00>:0x00007fe63c74e800>):
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <% render html: product %>
    83:         <%= link_to product do %>
    84:           <%= image_tag(product.product_image, class: "img") %>
    85:           <div class="content">
    86:             <div class="line"></div>
  
app/views/static_pages/home.html.erb:83:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313416751660'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313416751660'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:13:35 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendering html template
  Rendered html template (0.1ms)
  Rendered static_pages/home.html.erb within layouts/application (235.8ms)
Completed 500 Internal Server Error in 253ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe63f420e00>:0x00007fe63c7b0848>):
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= render html: product %>
    83:         <%= link_to product do %>
    84:           <%= image_tag(product.product_image, class: "img") %>
    85:           <div class="content">
    86:             <div class="line"></div>
  
app/views/static_pages/home.html.erb:83:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313416953200'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313416953200'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:14:27 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (284.2ms)
Completed 500 Internal Server Error in 296ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe63f420e00>:0x00007fe640668dd8>):
    112:     <div class="col-sm-12">
    113:       <% @hot.each do |product| %>
    114:       <div class="col-sm-2 pi fix">
    115:         <%= link_to product do %>
    116:           <%= image_tag(product.image, class: "img") %>
    117:           <div class="content">
    118:             <div class="line"></div>
  
app/views/static_pages/home.html.erb:115:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313449835440'
app/views/static_pages/home.html.erb:113:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313449835440'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:14:43 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (183.0ms)
Completed 500 Internal Server Error in 197ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe63f420e00>:0x00007fe6406e8f60>):
    112:     <div class="col-sm-12">
    113:       <% @hot.each do |product| %>
    114:       <div class="col-sm-2 pi fix">
    115:         <%= link_to product do %>
    116:           <%= image_tag(product.image, class: "img") %>
    117:           <div class="content">
    118:             <div class="line"></div>
  
app/views/static_pages/home.html.erb:115:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313450098140'
app/views/static_pages/home.html.erb:113:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313450098140'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:15:40 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (13.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (8.0ms)
Completed 200 OK in 102ms (Views: 94.1ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:16:24 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (238.3ms)
Completed 500 Internal Server Error in 252ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe63f420e00>:0x00007fe640e811f0>):
    79:     <div class="col-sm-12">
=======
    86:             <p class="citem">$ <%= product.price %></p>
  
app/views/static_pages/home.html.erb:83:in `block (2 levels) in _app_views_static_pages_home_html_erb__1597360343490400933_46952462040320'
app/views/static_pages/home.html.erb:82:in `block in _app_views_static_pages_home_html_erb__1597360343490400933_46952462040320'
app/views/static_pages/home.html.erb:80:in `each'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb__1597360343490400933_46952462040320'
Started GET "/" for 127.0.0.1 at 2018-10-04 08:43:07 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (Nil location provided. Can't build URI.):
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= link_to product do %>
    83:           <%= image_tag(product.image, class: "img") %>
    84:           <div class="content">
    85:             <div class="line"></div>
    86:             <p class="citem">$ <%= product.price %></p>
  
app/views/static_pages/home.html.erb:83:in `block (2 levels) in _app_views_static_pages_home_html_erb__1597360343490400933_70350524249340'
app/views/static_pages/home.html.erb:82:in `block in _app_views_static_pages_home_html_erb__1597360343490400933_70350524249340'
app/views/static_pages/home.html.erb:80:in `each'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb__1597360343490400933_70350524249340'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (74.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (89.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (68.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (77.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (63.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (37.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001044227)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "quantity" integer, "category" varchar, "price" integer, "rate" float DEFAULT 0.0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001044227_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001044227"]]
  ↳ bin/rails:9
  [1m[35m (68.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "poroduct_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (69.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPictureToProducts (20181002040452)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "products" ADD "picture" varchar[0m
  ↳ db/migrate/20181002040452_add_picture_to_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002040452"]]
  ↳ bin/rails:9
  [1m[35m (70.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-04 01:49:06.319695"], ["updated_at", "2018-10-04 01:49:06.319695"]]
  ↳ bin/rails:9
  [1m[35m (44.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (75.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (83.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (81.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (77.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (57.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (44.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001044227)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "quantity" integer, "category" varchar, "price" integer, "rate" float DEFAULT 0.0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001044227_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001044227"]]
  ↳ bin/rails:9
  [1m[35m (74.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (86.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "poroduct_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (72.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPictureToProducts (20181002040452)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "products" ADD "picture" varchar[0m
  ↳ db/migrate/20181002040452_add_picture_to_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002040452"]]
  ↳ bin/rails:9
  [1m[35m (65.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-04 01:49:29.107295"], ["updated_at", "2018-10-04 01:49:29.107295"]]
  ↳ bin/rails:9
  [1m[35m (52.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:2
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:2
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-04 01:49:32.461151"], ["updated_at", "2018-10-04 01:49:32.461151"], ["password_digest", "$2a$10$uwfg2Np2ch88uZyzCUjTSOxbhfPQKSEF1ecyk9M4Z6xHJCjXkG9Ha"]]
  ↳ db/seeds.rb:2
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:2
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:10
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:10
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-04 01:49:32.597521"], ["updated_at", "2018-10-04 01:49:32.597521"], ["password_digest", "$2a$10$7Ul5YhEfu6DLiMpKeh3tU.FdB/ycQZllQ50sHSHPq.lsz9P.fgXVy"]]
  ↳ db/seeds.rb:10
  [1m[35m (82.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:10
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-1@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Blake Daniel"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-1@railstutorial.org"], ["created_at", "2018-10-04 01:49:32.792244"], ["updated_at", "2018-10-04 01:49:32.792244"], ["password_digest", "$2a$10$OCy7nAJ5EtTDCMNb250gUueZME1aTK7xtnpLroYdg67EgeEAHDchO"]]
  ↳ db/seeds.rb:26
  [1m[35m (53.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-2@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Edris Smith"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-2@railstutorial.org"], ["created_at", "2018-10-04 01:49:32.910112"], ["updated_at", "2018-10-04 01:49:32.910112"], ["password_digest", "$2a$10$6uEoAGq91aU8HMedLMUKzePBLJ/GQfsGyssqo6Jvs.jt209lODL7K"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-3@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Barney Jacobi"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-3@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.033314"], ["updated_at", "2018-10-04 01:49:33.033314"], ["password_digest", "$2a$10$lxCqS/5nHqdLtFZ5.hdOZO0yJp0RUdbTLYzukyhiyh5pbi7CBry7K"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-4@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Quincy Simonis"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-4@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.157214"], ["updated_at", "2018-10-04 01:49:33.157214"], ["password_digest", "$2a$10$x9x5dYkO7.f7AmzDijNOsu04HaWWJUYatNdf.tAJRxo5KfeF5aZhm"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-5@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Dale Nitzsche"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-5@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.280988"], ["updated_at", "2018-10-04 01:49:33.280988"], ["password_digest", "$2a$10$Kf9XdQPomsczixEbASTG7.6qAaxjXg2FdFMl.bpTzArp6YcFMokSu"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-6@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mr. Lavonia Moore"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-6@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.404657"], ["updated_at", "2018-10-04 01:49:33.404657"], ["password_digest", "$2a$10$Luib5kNtA5rnyhe6KacXwu3AooprNvgyR5fHGJwz7k/xzDE70H0aG"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-7@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Guillermo Jast"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-7@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.528168"], ["updated_at", "2018-10-04 01:49:33.528168"], ["password_digest", "$2a$10$GskKok892DZzymPtzhg4qu8vm7tMGeYPUa4LqTMO25v4PRtVyYVZG"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-8@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Rosita Sawayn"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-8@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.659501"], ["updated_at", "2018-10-04 01:49:33.659501"], ["password_digest", "$2a$10$nz1IbHFrpvcLm6Ksl3t41OH8AQWltZV14pbw2zgObmowMQlfktP4G"]]
  ↳ db/seeds.rb:26
  [1m[35m (43.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-9@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Cory Kshlerin"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-9@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.775191"], ["updated_at", "2018-10-04 01:49:33.775191"], ["password_digest", "$2a$10$AJr4kcGZHR/dIcI9uIW0seIOcrLUMsAKvcilLaO7G1PnSIzXOH5EG"]]
  ↳ db/seeds.rb:26
  [1m[35m (43.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-10@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Voncile Fay"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-10@railstutorial.org"], ["created_at", "2018-10-04 01:49:33.890762"], ["updated_at", "2018-10-04 01:49:33.890762"], ["password_digest", "$2a$10$kg0i6oyvaRroKGez3XUdDe6SeB7NdG8lwp4.9Bo.PD9aMlFiyMWTu"]]
  ↳ db/seeds.rb:26
  [1m[35m (42.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 1"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 1000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:33.952152"], ["updated_at", "2018-10-04 01:49:33.952152"]]
  ↳ db/seeds.rb:42
  [1m[35m (48.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 2"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 2000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.004518"], ["updated_at", "2018-10-04 01:49:34.004518"]]
  ↳ db/seeds.rb:42
  [1m[35m (43.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 3"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 3000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.052177"], ["updated_at", "2018-10-04 01:49:34.052177"]]
  ↳ db/seeds.rb:42
  [1m[35m (55.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 4"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 4"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 4000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.110224"], ["updated_at", "2018-10-04 01:49:34.110224"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 5"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 5"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 5000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.167205"], ["updated_at", "2018-10-04 01:49:34.167205"]]
  ↳ db/seeds.rb:42
  [1m[35m (55.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 6"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 6"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 6000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.225263"], ["updated_at", "2018-10-04 01:49:34.225263"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 7"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 7"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 7000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.282731"], ["updated_at", "2018-10-04 01:49:34.282731"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 8"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 8"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 8000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.340610"], ["updated_at", "2018-10-04 01:49:34.340610"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 9"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 9"], ["description", "description"], ["image", "product/default-product.png"], ["category", "None"], ["price", 9000000], ["rate", 4.5], ["created_at", "2018-10-04 01:49:34.398264"], ["updated_at", "2018-10-04 01:49:34.398264"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
Started GET "/" for 127.0.0.1 at 2018-10-04 08:49:38 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (The asset "product/default-product.png" is not present in the asset pipeline.):
>>>>>>> Product Init
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= link_to product do %>
    83:           <%= image_tag(product.image, class: "img") %>
    84:           <div class="content">
    85:             <div class="line"></div>
<<<<<<< HEAD
  
app/views/static_pages/home.html.erb:82:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313454079580'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313454079580'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:17:16 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.3ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 107ms (Views: 101.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:17:30 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (5.4ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (4.7ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 111ms (Views: 101.1ms | ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:17:48 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (2.3ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (29.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 118ms (Views: 111.0ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:17:59 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (24.5ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 112ms (Views: 107.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:18:21 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.9ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (18.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 116ms (Views: 109.4ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:20:17 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.4ms)[0m  [1m[34mSELECT products.id as product_id,
                              products.image as product_image,
                              products.price as product_price,
                              products.name as product_name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (22.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 98ms (Views: 92.1ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:23:22 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (39.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 118ms (Views: 107.8ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:23:53 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT products.name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (30.4ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 113ms (Views: 104.8ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:24:09 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT products.name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 112ms (Views: 105.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:24:10 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT products.name FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 98ms (Views: 89.1ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:25:30 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (25.4ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 3.6ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <% @hot.each do |product| %>
    81:       <%= @hot.inspect %>
    82:       <%= @hot[0].name %>
    83:       
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313419869900'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:25:48 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.5ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <% @hot.each do |product| %>
    81:       <%= @hot.inspect %>
    82:       <%= @hot[0].name %>
    83:       
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313419130540'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:26:08 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.3ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.0ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <%= @hot[0].name %><% if false %>
    81:       <% @hot.each do |product| %>
    82:       <%= @hot.inspect %>
    83:       <%= @hot[0].name %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_47001613941000'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:26:18 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (2.8ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.5ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <%= @hot[0].name %>
    81:       <% if false %>
    82:       <% @hot.each do |product| %>
    83:       <%= @hot.inspect %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313450497640'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:26:27 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 84ms (Views: 79.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:27:25 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 109ms (Views: 102.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:27:31 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (2.4ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.7ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <%= @hot[0].name %>
    81:       <% if false %>
    82:       <% @hot.each do |product| %>
    83:       <%= @hot.inspect %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313453477680'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:27:49 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (2.0ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (14.7ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <%= @hot[0].name %>
    81:       <% if false %>
    82:       <% @hot.each do |product| %>
    83:       <%= @hot.inspect %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_47001605908980'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:29:31 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (13.1ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 82ms (Views: 78.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:29:46 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.6ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (17.3ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <%= @hot.explain %>
    81:       <% if false %>
    82:       <% @hot.each do |product| %>
    83:       <%= @hot.inspect %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313454138800'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:29:56 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  [1m[36mOrderDetail Load (1.1ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/controllers/static_pages_controller.rb:7
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.3ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
  
app/controllers/static_pages_controller.rb:7:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:30:42 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  [1m[36mOrderDetail Load (1.6ms)[0m  [1m[34mSELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/controllers/static_pages_controller.rb:7
Completed 500 Internal Server Error in 13ms (ActiveRecord: 3.1ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: product.image: SELECT products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC):
  
app/controllers/static_pages_controller.rb:7:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:30:49 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  [1m[36mOrderDetail Load (2.8ms)[0m  [1m[34mSELECT  products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:9
Completed 500 Internal Server Error in 22ms (ActiveRecord: 6.1ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: product.image: SELECT  products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?):
  
app/controllers/static_pages_controller.rb:9:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:30:56 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT  products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:9
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.6ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: product.image: SELECT  products.id, products.name, product.image, product.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?):
  
app/controllers/static_pages_controller.rb:9:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:31:12 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT  products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:9
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 27ms (Views: 1.1ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:31:27 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.3ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (25.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 99ms (Views: 89.5ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:31:50 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 101ms (Views: 91.9ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:32:03 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 121ms (Views: 112.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:32:15 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.5ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 111ms (Views: 104.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:32:21 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.2ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (18.2ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 112ms (Views: 105.7ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:32:28 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.8ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (256.4ms)
Completed 500 Internal Server Error in 272ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007fe64088efe0>:0x00007fe6447aea90>):
    81:       
    82:       
    83:       <div class="col-sm-2 pi fix">
    84:         <%= link_to product do %>
    85:           <%= image_tag(product.image, class: "img") %>
    86:           <div class="content">
    87:             <div class="line"></div>
  
app/views/static_pages/home.html.erb:84:in `block in _app_views_static_pages_home_html_erb___3606571443543490090_70313484057060'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb___3606571443543490090_70313484057060'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:32:37 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 75.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:34:26 +0700
  [1m[35m (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (31.0ms)[0m  [1m[34mSELECT products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC[0m
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (564.0ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (1.7ms)
Completed 200 OK in 2369ms (Views: 2319.3ms | ActiveRecord: 32.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:34:32 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from home at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/static_pages_controller.rb:6)
>>>>>>> Product Init
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.8ms)
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (4.3ms)
  Rendered layouts/_header.html.erb (10.4ms)
Completed 500 Internal Server Error in 74ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (wrong number of arguments (given 1, expected 0)):
    3:   <% if child_category.count > 0 %>
    4:   <li class="dropdown-submenu mydrop">
    5:     <a href="#" class="dropdown-toggle" data-toggle="dropdown"><%= cate.name %> </a>
    6:     <% if child_category.any? 1 %>
    7:       <% child_category.each do |child| %>
    8:         <% categories.delete(child) %>
    9:       <% end %>
  
app/views/layouts/_subcategory.html.erb:6:in `block in _app_views_layouts__subcategory_html_erb__275329843812245588_69876403624680'
app/views/layouts/_subcategory.html.erb:1:in `each'
app/views/layouts/_subcategory.html.erb:1:in `_app_views_layouts__subcategory_html_erb__275329843812245588_69876403624680'
app/views/layouts/_header.html.erb:44:in `block in _app_views_layouts__header_html_erb__4364779137600902347_69876403730960'
app/views/layouts/_header.html.erb:37:in `each'
app/views/layouts/_header.html.erb:37:in `_app_views_layouts__header_html_erb__4364779137600902347_69876403730960'
app/views/layouts/application.html.erb:16:in `_app_views_layouts_application_html_erb__1800970202475144919_69876338209720'
Started GET "/" for 127.0.0.1 at 2018-10-09 09:35:15 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" IS NULL[0m
  ↳ app/controllers/application_controller.rb:9
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
<<<<<<< HEAD
  Rendered static_pages/home.html.erb within layouts/application (17.4ms)
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 1]]
  ↳ app/views/layouts/_header.html.erb:41
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 2]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 4]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 5], ["LIMIT", 1]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 5]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 6]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (1.9ms)
  Rendered layouts/_subcategory.html.erb (10.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 3], ["LIMIT", 1]]
  ↳ app/views/layouts/_subcategory.html.erb:6
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 3]]
  ↳ app/views/layouts/_subcategory.html.erb:7
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 7]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE "categories"."parent_id" = ?[0m  [["parent_id", 8]]
  ↳ app/views/layouts/_subcategory.html.erb:3
  Rendered layouts/_subcategory.html.erb (3.8ms)
  Rendered layouts/_subcategory.html.erb (25.4ms)
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."parent_id" = ? LIMIT ?[0m  [["parent_id", 9], ["LIMIT", 1]]
  ↳ app/views/layouts/_header.html.erb:40
  Rendered layouts/_header.html.erb (33.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 95ms (Views: 81.0ms | ActiveRecord: 7.5ms)
=======
  Rendered static_pages/home.html.erb within layouts/application (39.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 126ms (Views: 119.0ms | ActiveRecord: 0.7ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 13:34:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (14.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:10
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.8ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 171ms (Views: 81.8ms | ActiveRecord: 17.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 13:34:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 13:34:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/7" for 127.0.0.1 at 2018-10-03 13:34:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 7]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (2.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 7]]
  ↳ app/controllers/products_controller.rb:10
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 92ms (Views: 78.3ms | ActiveRecord: 3.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 13:34:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 13:34:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-03 13:34:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:10
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 96ms (Views: 87.6ms | ActiveRecord: 1.3ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-03 13:34:53 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/8.jpg" for 127.0.0.1 at 2018-10-03 13:34:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:38:13 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:OrderDetail> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/order_detail.rb:5)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT  products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (51.1ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 153ms (Views: 117.8ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:38:15 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:OrderDetail> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/order_detail.rb:5)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT  products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (37.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 116ms (Views: 107.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 13:39:24 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:OrderDetail> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/order_detail.rb:5)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.6ms)[0m  [1m[34mSELECT  products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (300.8ms)
Completed 500 Internal Server Error in 314ms (ActiveRecord: 4.7ms)


  
ActionView::Template::Error (undefined method `order_detail_path' for #<#<Class:0x00007ff1342033c0>:0x00007ff1342019f8>):
    120:     <div class="col-sm-12">
    121:       <% @hot.each do |product| %>
    122:       <div class="col-sm-2 pi fix">
    123:         <%= link_to product do %>
    124:           <%= image_tag(product.image, class: "img") %>
    125:           <div class="content">
    126:             <div class="line"></div>
  
app/views/static_pages/home.html.erb:123:in `block in _app_views_static_pages_home_html_erb__2449323281090649254_70336969186820'
app/views/static_pages/home.html.erb:121:in `_app_views_static_pages_home_html_erb__2449323281090649254_70336969186820'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:39:48 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:OrderDetail> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/order_detail.rb:5)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (0.8ms)[0m  [1m[34mSELECT  products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (42.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 120ms (Views: 114.7ms | ActiveRecord: 0.8ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 13:40:08 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:10
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 140ms (Views: 95.6ms | ActiveRecord: 2.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 13:40:08 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 13:44:06 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:OrderDetail> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/order_detail.rb:5)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mOrderDetail Load (1.0ms)[0m  [1m[34mSELECT  products.id, products.name, products.image, products.price FROM "order_details" INNER JOIN "products" ON "products"."id" = "order_details"."product_id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (57.5ms)
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 13:44:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 289ms (Views: 282.9ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:23:16 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY "products"."created_at" DESC, count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (501.5ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 886ms (Views: 860.4ms | ActiveRecord: 2.2ms)


Started GET "/products/12" for 127.0.0.1 at 2018-10-03 14:23:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 12]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 12]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 112ms (Views: 95.9ms | ActiveRecord: 1.9ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-03 14:23:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/6.jpg" for 127.0.0.1 at 2018-10-03 14:23:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 14:30:48 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:8)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)


  
ActiveRecord::ConfigurationError (Can't join 'Product' to association named 'order_detail'; perhaps you misspelled it?):
  
app/controllers/static_pages_controller.rb:5:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 14:30:59 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:8)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY "products"."created_at" DESC, count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 45ms (Views: 3.6ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:31:09 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:8)
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY "products"."created_at" DESC, count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 28ms (Views: 0.8ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:31:43 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:8)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 34ms (Views: 1.3ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:31:52 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:32:27 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:32:32 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (54.5ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 127ms (Views: 113.6ms | ActiveRecord: 4.6ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 14:32:35 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (17.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 137ms (Views: 100.7ms | ActiveRecord: 4.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:32:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 9]]
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:32:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/7" for 127.0.0.1 at 2018-10-03 14:32:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 7]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 7]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 118ms (Views: 102.7ms | ActiveRecord: 1.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:32:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 7]]
Started GET "/" for 127.0.0.1 at 2018-10-03 14:36:18 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:36:18 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (45.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 122ms (Views: 110.3ms | ActiveRecord: 2.0ms)


  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 14:36:26 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:8)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY "products"."created_at" DESC, count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (63.3ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 162ms (Views: 144.6ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:36:35 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (63.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 156ms (Views: 135.8ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:36:55 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:8)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY "products"."created_at" DESC, count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (70.2ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 186ms (Views: 169.5ms | ActiveRecord: 3.3ms)


Started GET "/login" for 127.0.0.1 at 2018-10-03 14:38:26 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 57.4ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2018-10-03 14:38:31 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NH9y76yqmEkgpF/TEF8QCTU+Li3So0Vsug5e20VD2N8YSkil9+3YXOow7h25rJtmIpJMbh9SBMEewomxkezQGw==", "session"=>{"email"=>"dong@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 94ms (Views: 80.9ms | ActiveRecord: 2.0ms)


Started POST "/login" for 127.0.0.1 at 2018-10-03 14:38:36 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rJhOzFnYj1hYYjrv8Kc9COdHz06eakmSgfiPbqzhRfV46Yg9cS1q/39UqF2QozkmeH6RlRp/c0wCDgMeC7yQaw==", "session"=>{"email"=>"dong@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 77.3ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2018-10-03 14:38:37 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 78ms (Views: 74.1ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-10-03 14:38:50 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 63ms (Views: 59.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:38:53 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (56.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 134ms (Views: 116.4ms | ActiveRecord: 2.2ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 14:39:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 126ms (Views: 96.2ms | ActiveRecord: 3.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:39:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 14:41:41 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:41:41 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:6)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (69.2ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 154ms (Views: 138.6ms | ActiveRecord: 1.8ms)


  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 14:41:42 +0700
Processing by ProductsController#show as HTML
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:41:42 +0700
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:41:42 +0700
  Parameters: {"id"=>"9"}
  
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 349ms (Views: 66.9ms | ActiveRecord: 3.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:41:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login" for 127.0.0.1 at 2018-10-03 14:54:21 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 14:54:21 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 102ms (Views: 97.2ms | ActiveRecord: 0.0ms)


  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/login" for 127.0.0.1 at 2018-10-03 14:54:24 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JOyqdkhlVp4iogivLYGTuoFPTuDj36t+pkkyURJ/OzUI2ZA8EyIWi+g2uWGEchjVluMsoy4u6tMCheU7xtAz8Q==", "session"=>{"email"=>"dong@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:9
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 101ms (Views: 76.2ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:54:38 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (44.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 113ms (Views: 100.8ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:54:40 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (54.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (2.0ms)
Completed 200 OK in 142ms (Views: 130.5ms | ActiveRecord: 0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2018-10-03 14:54:47 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:54:47 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (33.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 90ms (Views: 80.0ms | ActiveRecord: 1.0ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:03 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:03 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (38.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 96ms (Views: 91.0ms | ActiveRecord: 1.3ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:04 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:04 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (29.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 94ms (Views: 90.0ms | ActiveRecord: 0.6ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:05 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:05 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (30.4ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 92ms (Views: 86.2ms | ActiveRecord: 0.6ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:06 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:06 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (34.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 101ms (Views: 94.3ms | ActiveRecord: 2.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:07 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:07 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (36.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 98ms (Views: 89.9ms | ActiveRecord: 1.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:10 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:10 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (40.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 101ms (Views: 90.7ms | ActiveRecord: 2.9ms)


Started GET "/login" for 127.0.0.1 at 2018-10-03 14:55:13 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:14 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:14 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (48.4ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 112ms (Views: 105.5ms | ActiveRecord: 1.3ms)


Started GET "/login" for 127.0.0.1 at 2018-10-03 14:55:15 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 95ms (Views: 90.6ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-03 14:55:17 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:55:17 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (42.6ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 113ms (Views: 100.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:56:07 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (38.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 111ms (Views: 103.0ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 14:56:07 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (36.3ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 128ms (Views: 121.3ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 15:07:52 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (65.6ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 166ms (Views: 146.5ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 15:07:55 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (43.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 128ms (Views: 121.9ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 15:20:16 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY product.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (24.9ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.id: SELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY product.id ORDER BY count(order_details.product_id) DESC LIMIT ?):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= link_to product do %>
    83:           <%= image_tag(product.image, class: "img") %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb__3050878883710501671_69813153840540'
Started GET "/" for 127.0.0.1 at 2018-10-03 15:20:55 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (53.8ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 130ms (Views: 118.1ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 15:21:54 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.id LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/static_pages_controller.rb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (33.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 126965ms (Views: 102.1ms | ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 15:24:05 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (47.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2933ms (Views: 107.2ms | ActiveRecord: 3.0ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 15:24:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 88ms (Views: 65.7ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:24:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mOrderDetail Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "order_details" WHERE "order_details"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mOrderDetail Load (0.4ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 9]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 9]]
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/7" for 127.0.0.1 at 2018-10-03 15:25:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 7]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 7]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 104ms (Views: 96.9ms | ActiveRecord: 0.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 7]]
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 15:25:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:18 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:18 +0700
  
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.5ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 402ms (Views: 364.9ms | ActiveRecord: 1.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 15:25:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:21 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:21 +0700
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  
  
  ↳ app/controllers/products_controller.rb:46
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  
  ↳ app/controllers/products_controller.rb:9
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (48.2ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 395ms (Views: 337.8ms | ActiveRecord: 1.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:25:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 15:30:50 +0700
Processing by StaticPagesController#home as HTML
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)


  
ArgumentError (tried to create Proc object without a block):
  
app/models/product.rb:4:in `lambda'
app/models/product.rb:4:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/static_pages_controller.rb:3:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 15:42:34 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (58.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 145ms (Views: 131.3ms | ActiveRecord: 2.1ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 15:42:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 115ms (Views: 78.2ms | ActiveRecord: 3.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:42:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 15:43:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 84ms (Views: 68.6ms | ActiveRecord: 1.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:43:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 15:43:16 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (43.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 132ms (Views: 126.5ms | ActiveRecord: 0.9ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:43:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 15:43:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:43:20 +0700
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:43:20 +0700
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
  ↳ app/controllers/products_controller.rb:6
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 387ms (Views: 336.4ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 15:43:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:21:16 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:4: syntax error, unexpected keyword_do_block
  scope :hot_trend, do
                    ^~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:10: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/models/product.rb:4: syntax error, unexpected keyword_do_block
app/models/product.rb:10: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/static_pages_controller.rb:3:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:21:26 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (17.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (1351.5ms)
  Rendered layouts/_header.html.erb (8.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 3378ms (Views: 3293.1ms | ActiveRecord: 20.0ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:22:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:46
  [1m[35m (24.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ app/controllers/products_controller.rb:9
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 204ms (Views: 72.5ms | ActiveRecord: 28.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 19:22:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:22:29 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 19:22:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (179.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 284ms (Views: 270.8ms | ActiveRecord: 0.5ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:47:24 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 19:47:24 +0700
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 19:47:24 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
  
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:47:31 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (49.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 130ms (Views: 120.0ms | ActiveRecord: 2.3ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:47:32 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:47:37 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:47:43 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:51:31 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (48.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 115ms (Views: 104.8ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 19:52:17 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (73.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 157ms (Views: 145.3ms | ActiveRecord: 6.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 19:52:19 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (39.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 121ms (Views: 113.9ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 19:52:25 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (60.2ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 137ms (Views: 125.4ms | ActiveRecord: 5.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 19:52:35 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (478.7ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 817ms (Views: 797.1ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 19:52:50 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (48.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 123ms (Views: 112.8ms | ActiveRecord: 2.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:55:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 27ms (Views: 1.7ms | ActiveRecord: 3.1ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:55:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 1.5ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:55:52 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib2):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:56:04 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (49.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 130ms (Views: 122.8ms | ActiveRecord: 2.1ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:56:06 +0700
  
LoadError (Unable to autoload constant Product_lib, expected /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/lib/product_lib.rb to define it):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:56:12 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib2):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 19:56:27 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (48.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 114ms (Views: 104.7ms | ActiveRecord: 2.2ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:56:28 +0700
  
ActionController::RoutingError (undefined local variable or method `product_lib' for ProductsController:Class):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:56:36 +0700
  
ActionController::RoutingError (undefined local variable or method `abc' for ProductsController:Class):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:56:44 +0700
  
ActionController::RoutingError (undefined local variable or method `product_lib' for ProductsController:Class):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:56:49 +0700
  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/lib/product_lib.rb:1: class/module name must be CONSTANT
module abc
          ^):
  
lib/product_lib.rb:1: class/module name must be CONSTANT
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:57:05 +0700
  
LoadError (Unable to autoload constant Product_lib, expected /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/lib/product_lib.rb to define it):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:57:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 32ms (Views: 1.5ms | ActiveRecord: 4.2ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:58:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.0ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:58:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 19:58:45 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.4ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 65ms (Views: 62.0ms | ActiveRecord: 0.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:58:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:58:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 19:58:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:00:16 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:00:19 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (450.8ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 649ms (Views: 638.5ms | ActiveRecord: 2.9ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:00:20 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:10 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:03:12 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (44.1ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 100ms (Views: 92.3ms | ActiveRecord: 1.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:13 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:36 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:03:38 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (105.2ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 177ms (Views: 165.7ms | ActiveRecord: 3.1ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:40 +0700
  
ActionController::RoutingError (uninitialized constant ProductsController::Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:47 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 41ms (Views: 1.9ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 20:03:49 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (372.8ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 652ms (Views: 648.5ms | ActiveRecord: 0.6ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.5ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:03:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 20:03:58 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (32.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 89ms (Views: 83.5ms | ActiveRecord: 0.7ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:04:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:04:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:49
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 8ms (Views: 2.1ms | ActiveRecord: 1.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:04:11 +0700
  
LoadError (cannot load such file -- Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:04:13 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (38.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 95ms (Views: 86.1ms | ActiveRecord: 1.5ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:04:15 +0700
  
LoadError (cannot load such file -- Product_lib):
  
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:05:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.8ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 5.1ms)


  
ActionView::Template::Error (undefined method `times' for nil:NilClass):
    26:     <div class="col-sm-5 pd-right">
    27:       <h4><i class="fa fa-check" aria-hidden="true" Style="color:green"></i> <%= @product.name %></h4>
    28:       <div class="start">
    29:         <% @starton.times do %>
    30:             <%= image_tag("rating/star-on.png") %>
    31:         <% end %>
    32: 
  
app/views/products/show.html.erb:29:in `_app_views_products_show_html_erb__1756143798664421017_69864895341560'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:05:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 101ms (Views: 69.0ms | ActiveRecord: 3.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:05:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/9?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F9&point=4&user_id=1" for 127.0.0.1 at 2018-10-03 20:05:37 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"A6HB6k6D5bPHZ20dglj1zq47ok+ytMZNmbQsqGbn+Am94syw4Dcmhu+bDX6urDaC7IKbJFMAu0AYU50NQjdM3A==", "old"=>"http://localhost:3000/products/9", "point"=>"4", "user_id"=>"1", "id"=>"9"}
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:41
  [1m[36mRating Update (3.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-03 13:05:37.780109"], ["id", 10]]
  ↳ app/controllers/products_controller.rb:41
  [1m[35m (244.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:41
Redirected to http://localhost:3000/products/9
Completed 302 Found in 257ms (ActiveRecord: 248.0ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:05:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 94ms (Views: 85.7ms | ActiveRecord: 1.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:05:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/9?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F9&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:05:41 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"9QoUXEMq7Nb166S6p9PeSq6y5BxaFuQWJBb9en5nO1tLSRkG7Z4v490XxNmLJx0G7Avdd7uimRul8UzfWrePjg==", "old"=>"http://localhost:3000/products/9", "point"=>"5", "user_id"=>"1", "id"=>"9"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:41
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 13:05:41.623062"], ["id", 10]]
  ↳ app/controllers/products_controller.rb:41
  [1m[35m (320.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:41
Redirected to http://localhost:3000/products/9
Completed 302 Found in 331ms (ActiveRecord: 321.9ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:05:41 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 74ms (Views: 66.1ms | ActiveRecord: 0.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:05:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/9?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F9&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 20:05:49 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"MncuM9fOskrPyJiQg/sonrhyskA9UAgvJRdP7ofGZg+MNCNpeXpxf+c0+POvD+vS+suLK9zkdSKk8P5LoxbS2g==", "old"=>"http://localhost:3000/products/9", "point"=>"1", "user_id"=>"1", "id"=>"9"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:41
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 13:05:49.376465"], ["id", 10]]
  ↳ app/controllers/products_controller.rb:41
  [1m[35m (322.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:41
Redirected to http://localhost:3000/products/9
Completed 302 Found in 335ms (ActiveRecord: 324.3ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:05:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 81ms (Views: 72.4ms | ActiveRecord: 1.5ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:05:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/9?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F9&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:05:52 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"P87NNRKuLir/6+z5lu9s1xzgpYtG7a4ojiM8PVflMOmBjcBvvBrtH9cXjJq6G6+bXlmc4KdZ0yUPxI2YczWEPA==", "old"=>"http://localhost:3000/products/9", "point"=>"5", "user_id"=>"1", "id"=>"9"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:41
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 13:05:52.553080"], ["id", 10]]
  ↳ app/controllers/products_controller.rb:41
  [1m[35m (309.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:41
Redirected to http://localhost:3000/products/9
Completed 302 Found in 320ms (ActiveRecord: 310.9ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:05:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:50
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 71ms (Views: 65.9ms | ActiveRecord: 0.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:05:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:06:41 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:7)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (38.2ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 107ms (Views: 96.6ms | ActiveRecord: 1.6ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:06:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:06:42 +0700
Processing by ProductsController#show as HTML
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:06:42 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:06:42 +0700
  Parameters: {"id"=>"9"}
  
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
  
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 336ms (Views: 53.2ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:06:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/9?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F9&point=3&user_id=1" for 127.0.0.1 at 2018-10-03 20:06:45 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"t/UT9SN6uOCOaGOucXmg7XiiVqCXlvZ9hpZM/ZuBjnkJth6vjc571aaUA81djWOhOhtvy3Yii3AHcf1Yv1E6rA==", "old"=>"http://localhost:3000/products/9", "point"=>"3", "user_id"=>"1", "id"=>"9"}
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-03 13:06:45.720963"], ["id", 10]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (407.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/9
Completed 302 Found in 420ms (ActiveRecord: 409.4ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:06:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 78ms (Views: 71.5ms | ActiveRecord: 0.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:06:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 11]]
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mProduct Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 9]]
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 11]]
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 11]]
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mRating Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  [1m[36mOrderDetail Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "order_details" WHERE "order_details"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mOrderDetail Load (0.7ms)[0m  [1m[34mSELECT "order_details".* FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 9]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "order_details" WHERE "order_details"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 11]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRating Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:40:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 123ms (Views: 81.8ms | ActiveRecord: 7.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:40:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/9?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F9&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:40:24 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"GJnH+NbqXgkDesHhwgJYZL3YY4aglLzCXPRTTDDvBcim2sqieF6dPCuGoYLu9pso/2Fa7UEgwc/dE+LpFD+xHQ==", "old"=>"http://localhost:3000/products/9", "point"=>"5", "user_id"=>"1", "id"=>"9"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/9
Completed 302 Found in 42ms (ActiveRecord: 1.6ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:40:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 72ms (Views: 64.7ms | ActiveRecord: 0.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:40:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/9" for 127.0.0.1 at 2018-10-03 20:40:27 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 9]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 91ms (Views: 83.8ms | ActiveRecord: 0.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:40:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:40:29 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (37.6ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 106ms (Views: 100.4ms | ActiveRecord: 0.7ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:40:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:40:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 71ms (Views: 62.5ms | ActiveRecord: 1.3ms)


Started GET "/products/product/default-product.jpg" for 127.0.0.1 at 2018-10-03 20:40:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/default-product.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:40:34 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"ZKT61qsHlpebZdesl/2iMd+r1fOu3fhA5y7jo74XjXTa5/eMBbNVorOZt8+7CWF9nRLsmE9phU1myVIGmsc5oQ==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:40:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 72ms (Views: 67.7ms | ActiveRecord: 0.5ms)


Started GET "/products/product/default-product.jpg" for 127.0.0.1 at 2018-10-03 20:40:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/default-product.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 20:40:55 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (51.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 124ms (Views: 118.8ms | ActiveRecord: 0.9ms)


Started GET "/product/default-product.jpg" for 127.0.0.1 at 2018-10-03 20:40:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/default-product.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-03 20:40:59 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 69ms (Views: 60.7ms | ActiveRecord: 1.2ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-03 20:40:59 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:41:23 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"cK95SN4PBW4EOk1U6+IOGR4VOMuk3GkNTd5CoYOiTzHO7HQScLvGWyzGLTfHFs1VXKwBoEVoFADMOfMEp3L75A==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "user_id"=>"1", "id"=>"4"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/4
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-03 20:41:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 74ms (Views: 68.4ms | ActiveRecord: 0.6ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-03 20:41:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (261.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (259.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (239.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (4.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (242.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (190.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (210.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (302.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (274.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (300.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (319.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (292.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-03 13:50:10.567477"], ["updated_at", "2018-10-03 13:50:10.567477"]]
  ↳ bin/rails:9
  [1m[35m (252.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:2
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:2
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-03 13:50:19.419381"], ["updated_at", "2018-10-03 13:50:19.419381"], ["password_digest", "$2a$10$xwkHZWGz6se.Z210IrW/wOvX0Z0dGRHCAA2aOVosRhCkWb/Kq3D7S"]]
  ↳ db/seeds.rb:2
  [1m[35m (317.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:2
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:10
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:10
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-03 13:50:19.820011"], ["updated_at", "2018-10-03 13:50:19.820011"], ["password_digest", "$2a$10$iK6aRIq4WZU8AUm6NmCS..dji0Sac4r148HI0wOXwg/mRNNs4o7TW"]]
  ↳ db/seeds.rb:10
  [1m[35m (234.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:10
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:69
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:69
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:69
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ db/seeds.rb:69
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (251.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (238.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (226.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (241.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (564.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (241.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (250.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (231.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (230.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (241.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (234.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-03 13:53:46.139771"], ["updated_at", "2018-10-03 13:53:46.139771"]]
  ↳ bin/rails:9
  [1m[35m (224.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-03 13:53:49.900135"], ["updated_at", "2018-10-03 13:53:49.900135"], ["password_digest", "$2a$10$GezH/2w4ZxR/CXnNBl/tV.5EZivXxc32UBZaJtxvviPInkBconzeS"]]
  ↳ db/seeds.rb:70
  [1m[35m (313.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-03 13:53:50.302122"], ["updated_at", "2018-10-03 13:53:50.302122"], ["password_digest", "$2a$10$dguVJ.2NJP1zUrjrKuDRJOegVADGsJkFo0Ob5m.SdEV4fkIwhbZ/m"]]
  ↳ db/seeds.rb:78
  [1m[35m (186.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Gabriel Reilly"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Gabriel Reilly"], ["description", "Et ipsum quos molestiae."], ["image", "product/7.jpg"], ["quantity", 7], ["price", 7.0], ["created_at", "2018-10-03 13:53:50.588382"], ["updated_at", "2018-10-03 13:53:50.588382"]]
  ↳ db/seeds.rb:88
  [1m[35m (242.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Mr. Lesley Moore"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mr. Lesley Moore"], ["description", "Culpa ducimus voluptate ut."], ["image", "product/5.jpg"], ["quantity", 5], ["price", 5.0], ["created_at", "2018-10-03 13:53:50.841663"], ["updated_at", "2018-10-03 13:53:50.841663"]]
  ↳ db/seeds.rb:88
  [1m[35m (224.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:95
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mRating Create (1.4ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 1], ["rating", 4], ["created_at", "2018-10-03 13:53:51.087125"], ["updated_at", "2018-10-03 13:53:51.087125"]]
  ↳ db/seeds.rb:95
  [1m[35m (254.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:95
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:96
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mRating Create (1.3ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 1], ["rating", 2], ["created_at", "2018-10-03 13:53:51.347425"], ["updated_at", "2018-10-03 13:53:51.347425"]]
  ↳ db/seeds.rb:96
  [1m[35m (250.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:96
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:97
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ db/seeds.rb:97
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (226.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (213.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (214.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (245.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (220.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (225.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (237.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (221.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (227.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (241.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (259.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (2.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-03 13:54:21.652935"], ["updated_at", "2018-10-03 13:54:21.652935"]]
  ↳ bin/rails:9
  [1m[35m (236.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-03 13:54:26.004660"], ["updated_at", "2018-10-03 13:54:26.004660"], ["password_digest", "$2a$10$MxGRV0Eb69ejiL5QdIorfeAHrl2fqVMZQYP5R9YMmlMGu8Z5HRaHi"]]
  ↳ db/seeds.rb:70
  [1m[35m (246.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-03 13:54:26.342115"], ["updated_at", "2018-10-03 13:54:26.342115"], ["password_digest", "$2a$10$Q0AY/Po/H2Bfl4Oem4vkGuccD6Wzr1/cm9E/Smm/kIwMhq2I3ZTle"]]
  ↳ db/seeds.rb:78
  [1m[35m (233.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Danica Kautzer DVM"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Danica Kautzer DVM"], ["description", "Iusto error totam deleniti."], ["image", "product/4.jpg"], ["quantity", 4], ["price", 4.0], ["created_at", "2018-10-03 13:54:26.739950"], ["updated_at", "2018-10-03 13:54:26.739950"]]
  ↳ db/seeds.rb:88
  [1m[35m (233.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Benjamin O'Conner"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Benjamin O'Conner"], ["description", "Consequatur minima cumque enim."], ["image", "product/4.jpg"], ["quantity", 4], ["price", 4.0], ["created_at", "2018-10-03 13:54:26.980529"], ["updated_at", "2018-10-03 13:54:26.980529"]]
  ↳ db/seeds.rb:88
  [1m[35m (628.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Ms. Clarinda Wintheiser"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Clarinda Wintheiser"], ["description", "Assumenda soluta rerum praesentium."], ["image", "product/2.jpg"], ["quantity", 2], ["price", 2.0], ["created_at", "2018-10-03 13:54:27.621750"], ["updated_at", "2018-10-03 13:54:27.621750"]]
  ↳ db/seeds.rb:88
  [1m[35m (244.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Olevia Casper"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Olevia Casper"], ["description", "Porro recusandae velit corporis."], ["image", "product/4.jpg"], ["quantity", 4], ["price", 4.0], ["created_at", "2018-10-03 13:54:27.874090"], ["updated_at", "2018-10-03 13:54:27.874090"]]
  ↳ db/seeds.rb:88
  [1m[35m (241.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:95
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mRating Create (1.8ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 1], ["rating", 4], ["created_at", "2018-10-03 13:54:28.145374"], ["updated_at", "2018-10-03 13:54:28.145374"]]
  ↳ db/seeds.rb:95
  [1m[35m (218.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:95
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:96
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mRating Create (2.0ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 1], ["rating", 2], ["created_at", "2018-10-03 13:54:28.372521"], ["updated_at", "2018-10-03 13:54:28.372521"]]
  ↳ db/seeds.rb:96
  [1m[35m (215.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:96
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:97
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mRating Create (1.5ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 3], ["rating", 5], ["created_at", "2018-10-03 13:54:28.599958"], ["updated_at", "2018-10-03 13:54:28.599958"]]
  ↳ db/seeds.rb:97
  [1m[35m (192.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:97
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:98
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mRating Create (2.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 4], ["created_at", "2018-10-03 13:54:28.804229"], ["updated_at", "2018-10-03 13:54:28.804229"]]
  ↳ db/seeds.rb:98
  [1m[35m (229.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:98
Started GET "/" for 127.0.0.1 at 2018-10-03 20:54:37 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 79ms (Views: 65.1ms | ActiveRecord: 2.7ms)


Started GET "/product/8.jpg" for 127.0.0.1 at 2018-10-03 20:54:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product_rating/1" for 127.0.0.1 at 2018-10-03 20:54:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/product_rating/1"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/130" for 127.0.0.1 at 2018-10-03 20:54:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"130"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
Redirected to http://localhost:3000/
Filter chain halted as :load_product rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-03 20:54:56 +0700
Processing by StaticPagesController#home as HTML
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 79ms (Views: 71.7ms | ActiveRecord: 0.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:55:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 113ms (Views: 78.7ms | ActiveRecord: 1.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 20:55:06 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"OIYelI1l4y4o8y9V6ixBpBA6AI4Gh8GUKc64+8SzVXGGxRPOI9EgGwAPTzbG2ILoUoM55eczvJmoKQle4GPhpA==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 13:55:06.261789"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (260.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 299ms (ActiveRecord: 262.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:55:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 74ms (Views: 63.9ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:55:10 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"tiTWGGgebcisqBx6h+RSnBqUdFfIrAluLfWftnbh8SwIZ9tCxqqu/YRUfBmrEJHQWC1NPCkYdGOsEi4TUjFF+Q==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (2.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 13:55:10.038099"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (338.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 355ms (ActiveRecord: 341.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:55:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.4ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 85ms (Views: 76.3ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 20:55:24 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"JoY/EreIT73xKcMRv36I4GbJkcsMtGluzC6UQFkN0cCYxTJIGTyMiNnVo3KTikusJHCooO0AFGNNySXlfd1lFQ==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 13:55:24.875230"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (305.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 321ms (ActiveRecord: 307.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:55:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 91ms (Views: 79.0ms | ActiveRecord: 1.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2&user_id=1" for 127.0.0.1 at 2018-10-03 20:55:29 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"q95Hfh75OzbYZRCyJhtFLMpHwBRBX15z/myRcCjdOucVnUoksE34A/CZcNEK74ZgiP75f6DrI35/iyDVDA2OMg==", "old"=>"http://localhost:3000/products/1", "point"=>"2", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (4.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-03 13:55:29.050153"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (319.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 335ms (ActiveRecord: 324.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:55:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 94ms (Views: 83.7ms | ActiveRecord: 2.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:55:31 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"zFZBOlqw2eZcYwkkEvEP1dyhFp0bhDBUfQEU5tLmPBFyFUxg9AQa03SfaUc+BcyZnhgv9vowTVn85qVD9jaIxA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 13:55:31.801399"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (332.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 349ms (ActiveRecord: 334.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 20:55:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 84ms (Views: 75.3ms | ActiveRecord: 1.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/2" for 127.0.0.1 at 2018-10-03 20:55:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 94ms (Views: 85.1ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 20:55:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F2&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:55:40 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"tLaPmn6sM4/a5cu5y17V7TXurjz3evO8G3mDII6slcIK9YLA0BjwuvIZq9rnqhahd1eXVxbOjrGanjKFqnwhFw==", "old"=>"http://localhost:3000/products/2", "point"=>"5", "user_id"=>"1", "id"=>"2"}
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:23:in `update_rating'
app/controllers/products_controller.rb:16:in `rating'
Started GET "/products/3" for 127.0.0.1 at 2018-10-03 20:56:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 81ms (Views: 71.6ms | ActiveRecord: 1.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 20:56:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:56:19 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"IG9sjzQZrfuagM0JteG9bm4F024iZksZfSjUjwz5X6yeLGHVmq1uzrJ8rWqZFX4iLLzqBcPSNhT8z2UqKCnreQ==", "old"=>"http://localhost:3000/products/3", "point"=>"5", "user_id"=>"1", "id"=>"3"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:23:in `update_rating'
app/controllers/products_controller.rb:16:in `rating'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 20:57:08 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"IG9sjzQZrfuagM0JteG9bm4F024iZksZfSjUjwz5X6yeLGHVmq1uzrJ8rWqZFX4iLLzqBcPSNhT8z2UqKCnreQ==", "old"=>"http://localhost:3000/products/3", "point"=>"5", "user_id"=>"1", "id"=>"3"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:23:in `update_rating'
app/controllers/products_controller.rb:16:in `rating'
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:01:29 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"IG9sjzQZrfuagM0JteG9bm4F024iZksZfSjUjwz5X6yeLGHVmq1uzrJ8rWqZFX4iLLzqBcPSNhT8z2UqKCnreQ==", "old"=>"http://localhost:3000/products/3", "point"=>"5", "user_id"=>"1", "id"=>"3"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.8ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:23:in `update_rating'
app/controllers/products_controller.rb:16:in `rating'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:01:34 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"IG9sjzQZrfuagM0JteG9bm4F024iZksZfSjUjwz5X6yeLGHVmq1uzrJ8rWqZFX4iLLzqBcPSNhT8z2UqKCnreQ==", "old"=>"http://localhost:3000/products/3", "point"=>"1", "user_id"=>"1", "id"=>"3"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:23:in `update_rating'
app/controllers/products_controller.rb:16:in `rating'
Started GET "/" for 127.0.0.1 at 2018-10-03 21:01:37 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (286.3ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 467ms (Views: 453.4ms | ActiveRecord: 1.3ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-03 21:01:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2018-10-03 21:01:43 +0700
  
AbstractController::ActionNotFound (The action 'index' could not be found for ProductsController):
  
actionpack (5.2.1) lib/abstract_controller/base.rb:129:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:01:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 117ms (Views: 89.3ms | ActiveRecord: 1.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:01:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:01:49 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"CtAf4gROq64QV3QTLWFXUU0Eum+v5Zkk7TvRby6fQAu0kxK4qvpomzirFHABlZQdD72DBE5R5Cls3GDKCk/03g==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 14:01:50.009747"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (298.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 347ms (ActiveRecord: 301.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:01:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (3.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 101ms (Views: 89.1ms | ActiveRecord: 3.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:01:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:01:53 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"EUzLbyF6JUVFQHXymYVcVNUR00UDDkVK6ODv8Q79GqqvD8Y1j87mcG28FZG1cZ8Yl6jqLuK6OEdpB15UKi2ufw==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:26
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[36mRating Update (2.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:01:53.215643"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:26
  [1m[35m (319.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:26
Redirected to http://localhost:3000/products/1
Completed 302 Found in 340ms (ActiveRecord: 322.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:01:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.8ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 116ms (Views: 103.8ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:01:53 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/2" for 127.0.0.1 at 2018-10-03 21:01:57 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (49.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 129ms (Views: 114.2ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:01:57 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F2&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:02:02 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"Etl+Q5+piJdyeENQS9dMUskAPMN4vokBp6sbKRaU/uysmnMZMR1LolqEIzNnI48ei7kFqJkK9AwmTKqMMkRKOQ==", "old"=>"http://localhost:3000/products/2", "point"=>"5", "user_id"=>"1", "id"=>"2"}
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:23:in `update_rating'
app/controllers/products_controller.rb:16:in `rating'
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mRating Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings"[0m
Started GET "/products/4" for 127.0.0.1 at 2018-10-03 21:03:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 117ms (Views: 76.3ms | ActiveRecord: 3.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:03:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-03 21:03:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 93ms (Views: 85.9ms | ActiveRecord: 0.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-03 21:03:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-03 21:04:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 90ms (Views: 82.5ms | ActiveRecord: 1.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:04:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:04:04 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"YdJ4z0ile1RQ9N2hS931X4Wv7ioluFdj2FnKS2Gjs8LfkXWV5hG4YXgIvcJnKTYTxxbXQcQMKm5ZvnvuRXMHFw==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "user_id"=>"1", "id"=>"4"}
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:18:in `rating'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:04:08 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"YdJ4z0ile1RQ9N2hS931X4Wv7ioluFdj2FnKS2Gjs8LfkXWV5hG4YXgIvcJnKTYTxxbXQcQMKm5ZvnvuRXMHFw==", "old"=>"http://localhost:3000/products/4", "point"=>"1", "user_id"=>"1", "id"=>"4"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:18:in `rating'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:04:12 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 94ms (Views: 80.7ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:04:12 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:04:14 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"PEbTeZfEfAzxJS6mbdCcIQSzAciuqGij758OSk5t7x2CBd4jOXC/OdnZTsVBJF9tRgo4o08cFa5ueL/var1byA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 35ms (ActiveRecord: 1.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:04:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 83ms (Views: 76.1ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:04:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:04:17 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"l1PeAl+sMiNxcTzN+u3taoN17iyo10sAgDNXOFKo+jQpENNY8RjxFlmNXK7WGS4mwczXR0ljNg0B1OaddnhO4Q==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (4.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 14:04:17.872643"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (333.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 354ms (ActiveRecord: 338.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:04:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 80ms (Views: 73.1ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:04:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:04:24 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"EO3aTGtrPyIUk38xNksYdFfVSU0E7dyE9M4XRBoZvOGurtcWxd/8FzxvH1Iav9s4FWxwJuVZoYl1KabhPskINA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (1.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:04:24.450841"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (216.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 230ms (ActiveRecord: 218.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:04:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 85ms (Views: 76.1ms | ActiveRecord: 1.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:04:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (219.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (225.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (224.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (256.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (331.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (219.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (226.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (228.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (234.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (240.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (240.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-03 14:07:54.658629"], ["updated_at", "2018-10-03 14:07:54.658629"]]
  ↳ bin/rails:9
  [1m[35m (205.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-03 14:08:23.986226"], ["updated_at", "2018-10-03 14:08:23.986226"], ["password_digest", "$2a$10$pVvmjxAmwYxJeB1RF8Ywy.1s0hYG7M0iEIWhpq03I1tdrI0BCoNKm"]]
  ↳ db/seeds.rb:70
  [1m[35m (254.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (263.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (230.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (245.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (262.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (212.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (224.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (247.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (219.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (236.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (234.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (225.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-03 14:09:01.335002"], ["updated_at", "2018-10-03 14:09:01.335002"]]
  ↳ bin/rails:9
  [1m[35m (207.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-03 14:09:04.904746"], ["updated_at", "2018-10-03 14:09:04.904746"], ["password_digest", "$2a$10$taSRwf7N4XCWvybCNqFq1uFIfFJYt853jx76rQxYH97KpIsLIDFQa"]]
  ↳ db/seeds.rb:70
  [1m[35m (311.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-03 14:09:05.308570"], ["updated_at", "2018-10-03 14:09:05.308570"], ["password_digest", "$2a$10$gXlKqaN2ps1xN7a8HIfjK.4MGAl4noVlRdXSwS.WXpq1x3zQGDu0a"]]
  ↳ db/seeds.rb:78
  [1m[35m (222.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Audrey Luettgen"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Audrey Luettgen"], ["description", "Mollitia quia impedit non."], ["image", "product/5.jpg"], ["quantity", 5], ["price", 5.0], ["created_at", "2018-10-03 14:09:05.690610"], ["updated_at", "2018-10-03 14:09:05.690610"]]
  ↳ db/seeds.rb:88
  [1m[35m (229.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Ms. Bobbie Kovacek"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Bobbie Kovacek"], ["description", "In error ut corrupti."], ["image", "product/3.jpg"], ["quantity", 3], ["price", 3.0], ["created_at", "2018-10-03 14:09:05.928012"], ["updated_at", "2018-10-03 14:09:05.928012"]]
  ↳ db/seeds.rb:88
  [1m[35m (297.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Song Weimann"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Song Weimann"], ["description", "Mollitia magni laboriosam et."], ["image", "product/8.jpg"], ["quantity", 8], ["price", 8.0], ["created_at", "2018-10-03 14:09:06.232893"], ["updated_at", "2018-10-03 14:09:06.232893"]]
  ↳ db/seeds.rb:88
  [1m[35m (307.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Melita Morar"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Melita Morar"], ["description", "Vero ducimus odio molestias."], ["image", "product/6.jpg"], ["quantity", 6], ["price", 6.0], ["created_at", "2018-10-03 14:09:06.553492"], ["updated_at", "2018-10-03 14:09:06.553492"]]
  ↳ db/seeds.rb:88
  [1m[35m (226.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:95
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mRating Create (1.3ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 1], ["rating", 4], ["created_at", "2018-10-03 14:09:06.811026"], ["updated_at", "2018-10-03 14:09:06.811026"]]
  ↳ db/seeds.rb:95
  [1m[35m (219.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:95
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:96
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mRating Create (1.7ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 1], ["rating", 2], ["created_at", "2018-10-03 14:09:07.036873"], ["updated_at", "2018-10-03 14:09:07.036873"]]
  ↳ db/seeds.rb:96
  [1m[35m (211.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:96
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:97
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mRating Create (2.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 3], ["rating", 5], ["created_at", "2018-10-03 14:09:07.255660"], ["updated_at", "2018-10-03 14:09:07.255660"]]
  ↳ db/seeds.rb:97
  [1m[35m (229.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:97
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:98
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mRating Create (1.8ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 4], ["created_at", "2018-10-03 14:09:07.495817"], ["updated_at", "2018-10-03 14:09:07.495817"]]
  ↳ db/seeds.rb:98
  [1m[35m (305.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:98
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:09:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 117ms (Views: 77.0ms | ActiveRecord: 4.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-03 21:09:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:09:13 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"aeOg3gL4qELOE0B/mSFVY60m/UXUIqqTazFgIKfz5R7XoK2ErExrd+bvIBy11ZYv75/ELjWW157q1tGFgyNRyw==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (2.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:09:14.002083"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (371.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 413ms (ActiveRecord: 376.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:09:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 82ms (Views: 71.8ms | ActiveRecord: 1.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-03 21:09:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:09:18 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"spceL9zW0FvzA8A6hjGMdvZJdZL7b06iLxoIg0zodYEM1BN1cmITbtv/oFmqxU86tPBM+RrbM6+u/bkmaDjBVA==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 14:09:18.765586"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (328.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 346ms (ActiveRecord: 330.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:09:19 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 71ms (Views: 61.4ms | ActiveRecord: 1.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-03 21:09:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3&user_id=1" for 127.0.0.1 at 2018-10-03 21:09:23 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"bFQIiEF7/v7XuUzszMxegalAwA/WvSZ/UEwVL4s/ARXSFwXS7889y/9FLI/gOJ3N6/n5ZDcJW3LRq6SKr++1wA==", "old"=>"http://localhost:3000/products/1", "point"=>"3", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (4.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-03 14:09:23.221713"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (370.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 389ms (ActiveRecord: 374.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:09:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.4ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 101ms (Views: 91.7ms | ActiveRecord: 3.5ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-03 21:09:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:09:26 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"eia18GwIbfBL5dQ2lxirwL9hnVwh3OTQLlPxtPCOhrnEZbiqwryuxWMZtFW77GiM/dikN8Bomd2vtEAR1F4ybA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:09:26.648422"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (193.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 207ms (ActiveRecord: 195.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:09:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 77ms (Views: 64.7ms | ActiveRecord: 2.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-03 21:09:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:09:30 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"9mQge8EfHyiJ/N4KUgOiW+2gVhp0OnWx8M77Z0tAiA5IJy0hb6vcHaEAvml+92EXrxlvcZWOCLxxKUrCb5A82w==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? AND "ratings"."product_id" = ? LIMIT ?[0m  [["user_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (2.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 14:09:30.680882"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (327.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 343ms (ActiveRecord: 331.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:09:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 92ms (Views: 83.6ms | ActiveRecord: 1.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-03 21:09:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (226.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (239.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (226.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (228.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (235.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (220.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (266.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (255.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (227.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (334.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (235.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-03 14:18:34.756582"], ["updated_at", "2018-10-03 14:18:34.756582"]]
  ↳ bin/rails:9
  [1m[35m (223.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-03 14:18:39.802541"], ["updated_at", "2018-10-03 14:18:39.802541"], ["password_digest", "$2a$10$PnxPw7bM1hGmqoulKsmjuuMKaDlkqOFDMPBCHFHiA1EqX/tqxmJB."]]
  ↳ db/seeds.rb:70
  [1m[35m (317.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-03 14:18:40.205640"], ["updated_at", "2018-10-03 14:18:40.205640"], ["password_digest", "$2a$10$S.FQjeX/bEwLqjw0vHUj.uEU.bDof9OiEHzDW47vJgdG7MLoP1Z82"]]
  ↳ db/seeds.rb:78
  [1m[35m (247.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 0"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 0"], ["description", "none"], ["image", "product/4.jpg"], ["quantity", 4], ["price", 4.0], ["created_at", "2018-10-03 14:18:40.477503"], ["updated_at", "2018-10-03 14:18:40.477503"]]
  ↳ db/seeds.rb:88
  [1m[35m (247.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 1"], ["description", "none"], ["image", "product/6.jpg"], ["quantity", 6], ["price", 6.0], ["created_at", "2018-10-03 14:18:40.733878"], ["updated_at", "2018-10-03 14:18:40.733878"]]
  ↳ db/seeds.rb:88
  [1m[35m (239.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 2"], ["description", "none"], ["image", "product/6.jpg"], ["quantity", 6], ["price", 6.0], ["created_at", "2018-10-03 14:18:40.985325"], ["updated_at", "2018-10-03 14:18:40.985325"]]
  ↳ db/seeds.rb:88
  [1m[35m (245.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 3"], ["description", "none"], ["image", "product/7.jpg"], ["quantity", 7], ["price", 7.0], ["created_at", "2018-10-03 14:18:41.243309"], ["updated_at", "2018-10-03 14:18:41.243309"]]
  ↳ db/seeds.rb:88
  [1m[35m (211.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:95
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mRating Create (2.0ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 1], ["rating", 4], ["created_at", "2018-10-03 14:18:41.482788"], ["updated_at", "2018-10-03 14:18:41.482788"]]
  ↳ db/seeds.rb:95
  [1m[35m (227.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:95
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:96
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mRating Create (1.6ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 1], ["rating", 2], ["created_at", "2018-10-03 14:18:41.723289"], ["updated_at", "2018-10-03 14:18:41.723289"]]
  ↳ db/seeds.rb:96
  [1m[35m (225.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:96
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:97
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mRating Create (0.9ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 3], ["rating", 5], ["created_at", "2018-10-03 14:18:41.961757"], ["updated_at", "2018-10-03 14:18:41.961757"]]
  ↳ db/seeds.rb:97
  [1m[35m (244.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:97
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:98
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mRating Create (1.3ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 4], ["created_at", "2018-10-03 14:18:42.217664"], ["updated_at", "2018-10-03 14:18:42.217664"]]
  ↳ db/seeds.rb:98
  [1m[35m (230.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:98
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mRating Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 2], ["LIMIT", 1]]
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:25:31 +0700
  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/products_controller.rb:2: syntax error, unexpected '\n', expecting =>
...d_product, only: :show, :rating
...                               ^):
  
app/controllers/products_controller.rb:2: syntax error, unexpected '\n', expecting =>
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:30:06 +0700
  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/products_controller.rb:2: syntax error, unexpected '\n', expecting =>
...t, only: :show, :product_rating
...                               ^):
  
app/controllers/products_controller.rb:2: syntax error, unexpected '\n', expecting =>
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:30:27 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 106ms (Views: 72.5ms | ActiveRecord: 3.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:30:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:30:31 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"K0IjUWBY0RCOzoyy52LQl9THUOS5nr0Vl0O/pz1VmwaVAS4LzuwSJaYy7NHLlhPbln5pj1gqwBgWpA4CGYUv0w==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `ratings' for nil:NilClass):
  
app/controllers/products_controller.rb:14:in `rating'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:30:58 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"K0IjUWBY0RCOzoyy52LQl9THUOS5nr0Vl0O/pz1VmwaVAS4LzuwSJaYy7NHLlhPbln5pj1gqwBgWpA4CGYUv0w==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `ratings' for nil:NilClass):
  
app/controllers/products_controller.rb:14:in `rating'
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:03 +0700
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:13 +0700
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:15 +0700
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:19 +0700
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:27 +0700
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:32 +0700
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:35 +0700
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:39 +0700
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:44 +0700
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."id" = ? LIMIT ?[0m  [["product_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Started PUT "/__web_console/repl_sessions/92b63302b5f31e2f346b3595266a1d1c" for 127.0.0.1 at 2018-10-03 21:31:53 +0700
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:32:56 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"K0IjUWBY0RCOzoyy52LQl9THUOS5nr0Vl0O/pz1VmwaVAS4LzuwSJaYy7NHLlhPbln5pj1gqwBgWpA4CGYUv0w==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `ratings' for nil:NilClass):
  
app/controllers/products_controller.rb:14:in `rating'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:33:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (34.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 153ms (Views: 96.8ms | ActiveRecord: 4.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:33:00 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:33:01 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"5rFSqmX7qTnpe8e4uvQnvCQer77w05qoTab/ualQrTdY8l/wy09qDMGHp9uWAOTwZqeW1RFn56XMQU4cjYAZ4g==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `ratings' for nil:NilClass):
  
app/controllers/products_controller.rb:14:in `rating'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:33:15 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"5rFSqmX7qTnpe8e4uvQnvCQer77w05qoTab/ualQrTdY8l/wy09qDMGHp9uWAOTwZqeW1RFn56XMQU4cjYAZ4g==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 38ms (Views: 1.2ms | ActiveRecord: 4.4ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:33:26 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"5rFSqmX7qTnpe8e4uvQnvCQer77w05qoTab/ualQrTdY8l/wy09qDMGHp9uWAOTwZqeW1RFn56XMQU4cjYAZ4g==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 46ms (Views: 0.9ms | ActiveRecord: 3.6ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:34:38 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"5rFSqmX7qTnpe8e4uvQnvCQer77w05qoTab/ualQrTdY8l/wy09qDMGHp9uWAOTwZqeW1RFn56XMQU4cjYAZ4g==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:22
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 14:34:38.151363"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[35m (259.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:22
Redirected to http://localhost:3000/products/1
Completed 302 Found in 322ms (ActiveRecord: 263.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:34:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 76ms (Views: 65.0ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:34:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:34:42 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"k27Ztv+0NS2K0wsP2KbKzxcdwKRQDbe3COIDC/zbHTktLdTsUQD2GKIva2z0UgmDVaT5z7G5yrqJBbKu2Aup7A==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:34:42.248604"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[35m (378.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:22
Redirected to http://localhost:3000/products/1
Completed 302 Found in 397ms (ActiveRecord: 381.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:34:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 80ms (Views: 71.1ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:34:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4&user_id=1" for 127.0.0.1 at 2018-10-03 21:34:46 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"HEPDUshOmfPS7Eis8UZ4xPzeKKFjqL7GZo6bhhmHgruiAM4IZvpaxvoQKM/dsruIvmcRyoIcw8vnaSojPVc2bg==", "old"=>"http://localhost:3000/products/1", "point"=>"4", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[36mRating Update (2.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-03 14:34:46.943199"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[35m (326.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:22
Redirected to http://localhost:3000/products/1
Completed 302 Found in 343ms (ActiveRecord: 330.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:34:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 80ms (Views: 67.0ms | ActiveRecord: 1.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:34:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2&user_id=1" for 127.0.0.1 at 2018-10-03 21:34:50 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"Vpxs9m1jZjykmzk9ahM41CQsVO+VcV7zfekOuYsPnFfo32Gsw9elCYxnWV5G5/uYZpVthHTFI/78Dr8cr98ogg==", "old"=>"http://localhost:3000/products/1", "point"=>"2", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-03 14:34:50.615384"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:22
  [1m[35m (322.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:22
Redirected to http://localhost:3000/products/1
Completed 302 Found in 339ms (ActiveRecord: 325.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:34:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 88ms (Views: 76.2ms | ActiveRecord: 1.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:34:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRating Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRating Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRating Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Started GET "/products/2" for 127.0.0.1 at 2018-10-03 21:36:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 56.7ms | ActiveRecord: 2.8ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-03 21:36:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F2&point=3&user_id=1" for 127.0.0.1 at 2018-10-03 21:36:43 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"384Ivs44qX7snYvHZFjPJE7HH825S17rs07ixJ7+s9hhjQXkYIxqS8Rh66RIrAxoDH4mplj/I+YyqVNhui4HDQ==", "old"=>"http://localhost:3000/products/2", "point"=>"3", "user_id"=>"1", "id"=>"2"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:29
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:16:in `rating'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:43:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 246ms (Views: 204.4ms | ActiveRecord: 4.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:43:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:43:49 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"7v6w4W7gy5Drh5CEMRy1DovLfx//MazNlEiPIbVOEEBQvb27wFQIpcN78Ocd6HZCyXJGdB6F0cAVrz6EkZ6klQ==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (3.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:43:49.785739"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (338.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 457ms (ActiveRecord: 344.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:43:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (34.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 137ms (Views: 114.3ms | ActiveRecord: 1.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:43:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:44:12 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 278ms (Views: 243.8ms | ActiveRecord: 2.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:44:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:44:15 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"O2G2ij94W+u2D8krsEjIiJ6vMaz+zvuRF2tPSBen66uFIrvQkcyY3p7zqUicvAvE3BYIxx96hpyWjP7tM3dffg==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 35ms (ActiveRecord: 3.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:44:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 72ms (Views: 65.0ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:44:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:44:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (2.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.0ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 219ms (Views: 170.5ms | ActiveRecord: 7.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:44:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:44:56 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"tEjSyZY7U+RPGevhgDGzOyyGtzNaCS24LKhVaK83cdMKC9+TOI+Q0Wfli4KsxXB3bj+OWLu9ULWtT+TNi+fFBg==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (2.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 41ms (ActiveRecord: 3.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:44:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 99ms (Views: 92.3ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:44:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:50:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 120ms (Views: 75.8ms | ActiveRecord: 4.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:50:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:50:09 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"XNM+3xmMSjwn15FiKFQI41VAsgq+okotu4W0NDljWGvikDOFtziJCQ8r8QEEoMuvF/mLYV8WNyA6YgWRHbPsvg==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 42ms (ActiveRecord: 2.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:50:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 79ms (Views: 69.4ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:50:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:50:26 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (437.3ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 821ms (Views: 770.5ms | ActiveRecord: 5.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:50:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1&user_id=1" for 127.0.0.1 at 2018-10-03 21:50:30 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"93fqpMQwb7+4//BMC28SVijwFd/ySrg/yUCL2l5T6f5JNOf+aoSsipADkC8nm9EaakkstBP+xTJIpzp/eoNdKw==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (2.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 14:50:30.368084"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (928.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 965ms (ActiveRecord: 931.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:50:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 73ms (Views: 65.0ms | ActiveRecord: 0.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:50:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2&user_id=1" for 127.0.0.1 at 2018-10-03 21:50:34 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"Yh7jurlcYSyFniNmHDPtJScq7P+rJ0rnEoOviu7/YOTcXe7gF+iiGa1iQwUwxy5pZZPVlEqTN+qTZB4vyi/UMQ==", "old"=>"http://localhost:3000/products/1", "point"=>"2", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (2.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-03 14:50:34.603091"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (337.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 353ms (ActiveRecord: 341.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:50:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 87ms (Views: 79.0ms | ActiveRecord: 0.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:50:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5&user_id=1" for 127.0.0.1 at 2018-10-03 21:50:37 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"MMDuStp4narb3gX2Ol/t8yuq39OAs1po7kXdhM66yb6Og+MQdMxen/MiZZUWqy6/aRPmuGEHJ2Vvomwh6mp9aw==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "user_id"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 14:50:37.703225"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (311.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 326ms (ActiveRecord: 314.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:50:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 77ms (Views: 68.5ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:50:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 21:51:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 90ms (Views: 79.8ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 21:51:22 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 22:07:16 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (26.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (357.4ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1535ms (Views: 1310.5ms | ActiveRecord: 82.2ms)


Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:07:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-03 22:12:46 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 103ms (Views: 90.6ms | ActiveRecord: 3.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:12:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (17.3ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 169ms (Views: 107.1ms | ActiveRecord: 5.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:12:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:14:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 121ms (Views: 77.9ms | ActiveRecord: 5.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:14:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:14:33 +0700
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (440.6ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 832ms (Views: 781.9ms | ActiveRecord: 4.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:14:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old_url=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-03 22:14:41 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"G5sC8jMRoqCKvkWJg3Vx03MtBVHpCmGjyplMKQiQyJel2A+onaVhlaJCJeqvgbKfMZQ8Ogi+HK5Lfv2MLEB8Qg==", "old_url"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to 
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.8ms)


  
ActionController::ActionControllerError (Cannot redirect to nil!):
  
app/controllers/products_controller.rb:25:in `rating'
Started POST "/product_rating/1?old_url=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-03 22:15:34 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"G5sC8jMRoqCKvkWJg3Vx03MtBVHpCmGjyplMKQiQyJel2A+onaVhlaJCJeqvgbKfMZQ8Ogi+HK5Lfv2MLEB8Qg==", "old_url"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to 
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.6ms)


  
ActionController::ActionControllerError (Cannot redirect to nil!):
  
app/controllers/products_controller.rb:25:in `rating'
Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:16:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 91ms (Views: 80.7ms | ActiveRecord: 1.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:16:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-03 22:16:06 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"FaqbzmyeN6Yp6bDhfVzB97y+2p9Vn6vXRz6IYeQWSdWr6ZaUwir0kwEV0IJRqAK7/gfj9LQr1trG2TnEwMb9AA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 16ms (ActiveRecord: 2.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:16:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 84ms (Views: 73.3ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:16:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-03 22:16:10 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"2zVFx8AXdncTQXwO7GpAY/TinfvVXkdkxBy1PGbxYdJldkidbqO1Qju9HG3AnoMvtlukkDTqOmlF+wSZQiHVBw==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (2.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-03 15:16:10.417514"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (308.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 327ms (ActiveRecord: 312.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:16:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 82ms (Views: 75.6ms | ActiveRecord: 0.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:16:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3" for 127.0.0.1 at 2018-10-03 22:16:13 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"orFcbSEluGouU3YOSbK5ffUDZ7nmYiH31FIfYvwm0dQc8lE3j5F7XwavFm1lRnoxt7pe0gfWXPpVta7H2PZlAQ==", "old"=>"http://localhost:3000/products/1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-03 15:16:13.768756"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (278.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 297ms (ActiveRecord: 281.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:16:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 73.8ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:16:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-03 22:16:16 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"+/OOAFdg1kKVdHZut1zC3WD1jWYm7prMiW85rb+hOJBFsINa+dQVd72IFg2bqAGRIky0Dcda58EIiIgIm3GMRQ==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (5.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-03 15:16:16.886939"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (374.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 392ms (ActiveRecord: 380.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-03 22:16:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 86ms (Views: 77.2ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-03 22:16:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRating Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/" for 127.0.0.1 at 2018-10-04 14:08:09 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (12.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (663.9ms)
  Rendered layouts/_header.html.erb (9.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 2656ms (Views: 2569.2ms | ActiveRecord: 15.9ms)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (12.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ db/seeds.rb:70
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:09:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 181ms (Views: 106.5ms | ActiveRecord: 5.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:09:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 14:09:28 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"ntbFza1GMEqKuAfokdoi7AjlrsDOlV/5VFyirYqH7H+DfC0usA/buJxqgs5GfNSgmt1c4/9Xln7l4OUXC0MzmA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (13.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 127ms (ActiveRecord: 15.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:09:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 77ms (Views: 67.8ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:09:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 14:09:31 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"xnHmD7GajlncO9kLzZV9gBDGomC3JI4SoOkChjbxrJfb2w7srNNlq8rpXC0aM4vMgv5QQ4bmR5URVUU8tzVzcA==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (1.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 07:09:31.652866"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (1099.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 1119ms (ActiveRecord: 1102.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:09:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 83ms (Views: 74.5ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:09:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 14:12:27 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (297.1ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 484ms (Views: 467.7ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 14:12:32 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.7ms)
Completed 200 OK in 94ms (Views: 85.2ms | ActiveRecord: 0.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:13:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 145ms (Views: 104.0ms | ActiveRecord: 2.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:13:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 14:13:14 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"kB7ai+jHjF1dNbq2cuV1BAcSnF/Iv0l0edjZx2BEvC2NtDJo9Y5nr0vnP5ClQ4NIlSpufPl9gPPIZJ594YBjyg==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 07:13:14.345737"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (414.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 465ms (ActiveRecord: 417.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:13:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 82ms (Views: 71.1ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:13:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 14:52:14 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (377.3ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 668ms (Views: 646.0ms | ActiveRecord: 1.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:52:19 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 123ms (Views: 80.9ms | ActiveRecord: 2.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:52:20 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:54:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 81ms (Views: 72.2ms | ActiveRecord: 1.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:54:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 14:54:55 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY product.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.8ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.1ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.id: SELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY product.id ORDER BY count(order_details.product_id) DESC LIMIT ?):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= link_to product do %>
    83:           <%= image_tag(product.image, class: "img") %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb__2571752383677023600_70055149114520'
Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:54:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 14:54:59 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY product.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (13.8ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (SQLite3::SQLException: no such column: product.id: SELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY product.id ORDER BY count(order_details.product_id) DESC LIMIT ?):
    77:   </div>
    78:   <div class="row product">
    79:     <div class="col-sm-12">
    80:       <% @hot.each do |product| %>
    81:       <div class="col-sm-2 pi fix">
    82:         <%= link_to product do %>
    83:           <%= image_tag(product.image, class: "img") %>
  
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb__2571752383677023600_70055082555000'
Started GET "/" for 127.0.0.1 at 2018-10-04 14:55:14 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY products.id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.1ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 101ms (Views: 79.9ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 14:55:28 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (17.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (14.5ms)
Completed 200 OK in 118ms (Views: 102.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 14:57:03 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)


  
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `task' for #<Product::ActiveRecord_Relation:0x00007f6dd081fae8>
Did you mean?  take):
  
app/controllers/static_pages_controller.rb:5:in `home'
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  [1m[36mProduct Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "products" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
Started GET "/" for 127.0.0.1 at 2018-10-04 14:57:48 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `task' for #<Class:0x00007f6df0aa8768>
Did you mean?  take):
  
app/controllers/static_pages_controller.rb:5:in `home'
Started GET "/" for 127.0.0.1 at 2018-10-04 14:58:04 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.4ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 111ms (Views: 87.9ms | ActiveRecord: 2.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:58:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (4.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 130ms (Views: 96.3ms | ActiveRecord: 6.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:58:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 14:58:11 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"ojS0+/ZIUSXU9rux+CcoRuNdzNLbkC2Os1dNFwzT6IS/nlwY6wG618IkPpcvgd4KcWU+8epS5AkC6wqtjRc3Yw==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 41ms (ActiveRecord: 2.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:58:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (22.2ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 96ms (Views: 88.5ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:58:12 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 14:58:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 87ms (Views: 76.9ms | ActiveRecord: 1.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 14:58:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 15:21:49 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:5
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (22.4ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 97ms (Views: 90.0ms | ActiveRecord: 1.1ms)


Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:21:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:21:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:21:51 +0700
Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:21:51 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (55.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 318ms (Views: 271.1ms | ActiveRecord: 1.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:21:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:22:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:22:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:22:52 +0700
Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:22:52 +0700
  ↳ app/controllers/products_controller.rb:31
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  ↳ lib/controller/product_lib.rb:3
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  
  ↳ lib/controller/product_lib.rb:6
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (70.4ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 360ms (Views: 315.0ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:22:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 15:22:54 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"chHHR1Z5nMCVMKVmML2RVywxidysvfYOUbLOCAm+5RBvuy+kSzB3MoPiIEDnG2cbvgl7/51/P4ngDomyiHo69w==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:22:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 76ms (Views: 67.1ms | ActiveRecord: 1.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:22:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:24:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 126ms (Views: 78.2ms | ActiveRecord: 8.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:24:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:24:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (21.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 91ms (Views: 83.8ms | ActiveRecord: 0.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:24:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:04 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 89ms (Views: 81.7ms | ActiveRecord: 0.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 81ms (Views: 73.5ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (2.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 109ms (Views: 94.9ms | ActiveRecord: 3.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.9ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 112ms (Views: 96.8ms | ActiveRecord: 3.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 83ms (Views: 74.6ms | ActiveRecord: 0.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 90ms (Views: 73.7ms | ActiveRecord: 2.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:57 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 92ms (Views: 84.5ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:25:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 84ms (Views: 74.9ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:25:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:26:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 95ms (Views: 86.2ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:26:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 15:29:16 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"7pWoMmmgfYon9YvXfMQMAWVohnjzV0D3gyNeElDaUkzzP0DRdOmWeDEnDvGrYvpN91B0W8KViXAynxmo0R6Nqw==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 08:29:16.835032"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (259.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 333ms (ActiveRecord: 263.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:29:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 82ms (Views: 73.3ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:29:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:29:19 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 90ms (Views: 77.8ms | ActiveRecord: 1.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:29:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 15:31:48 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 92ms (Views: 82.6ms | ActiveRecord: 1.1ms)


Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:31:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-04 15:31:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.3ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:78: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:80: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/products/show.html.erb:78: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/products/show.html.erb:80: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2018-10-04 15:31:51 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 104ms (Views: 97.4ms | ActiveRecord: 0.9ms)


Started GET "/products/2" for 127.0.0.1 at 2018-10-04 15:31:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.9ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.2ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:78: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:80: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/products/show.html.erb:78: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/products/show.html.erb:80: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2018-10-04 15:31:55 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (35.0ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 113ms (Views: 100.3ms | ActiveRecord: 2.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:31:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.0ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:78: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:80: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/products/show.html.erb:78: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/products/show.html.erb:80: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:32:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (16.4ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.9ms)
Completed 200 OK in 111ms (Views: 103.3ms | ActiveRecord: 1.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:32:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:32:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 90ms (Views: 79.4ms | ActiveRecord: 1.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:32:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:33:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.0ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 95ms (Views: 78.8ms | ActiveRecord: 5.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:33:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:33:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 113ms (Views: 101.3ms | ActiveRecord: 1.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:33:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:34:59 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 118ms (Views: 82.4ms | ActiveRecord: 3.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:34:59 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:35:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 161ms (Views: 102.8ms | ActiveRecord: 6.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:35:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 15:35:27 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"SA7qpbtl8AIbs7742wqvdUkl/odgvG1tT530owC8MCtVpAJGpiwb8A1hO94MrFk52x0MpFF+pOr+IbMZgXjvzA==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 08:35:27.753118"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (364.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 420ms (ActiveRecord: 369.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:35:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (16.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 101ms (Views: 90.4ms | ActiveRecord: 1.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:35:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 15:35:31 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"G7a8mWFoiN4HqhWK8vUNBS6NpkKzxoctTCzhXWcl2vkGHFR6fCFjLBF4kKwlU/tJvLVUYYIETqr9kKbn5uEFHg==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (3.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 08:35:31.806972"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (325.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 355ms (ActiveRecord: 331.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:35:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 107ms (Views: 93.5ms | ActiveRecord: 2.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:35:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:36:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 94ms (Views: 78.9ms | ActiveRecord: 2.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:36:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:36:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 127ms (Views: 79.2ms | ActiveRecord: 7.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:36:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 15:36:55 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"iy6zHzP1VvOl83OR8aXBxR2jcB1KdgywgUwFjj90TfWWhFv8Lry9AbMh9rcmAzeJj5uCPnu0xTcw8EI0vrCSEg==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:14
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Update (1.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 08:36:55.875270"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (376.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/1
Completed 302 Found in 419ms (ActiveRecord: 380.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 15:36:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 87ms (Views: 77.1ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 15:36:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:02:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ (byebug):1
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:04:14 +0700
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 82208ms (Views: 73.1ms | ActiveRecord: 7.0ms)


Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 3584ms (Views: 109.2ms | ActiveRecord: 4.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 16:04:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:04:22 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (77.6ms)
  Rendered layouts/_header.html.erb (12.6ms)
  Rendered layouts/_footer.html.erb (4.3ms)
Completed 200 OK in 13505ms (Views: 686.6ms | ActiveRecord: 6.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 16:04:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:05:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 322ms (ActiveRecord: 3.6ms)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007f6df885ce70>
Did you mean?  user_url):
  
app/controllers/products_controller.rb:14:in `check_user_rating'
app/controllers/products_controller.rb:9:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:06:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 68ms (Views: 25.6ms | ActiveRecord: 3.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:06:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 57ms (Views: 1.6ms | ActiveRecord: 4.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:07:05 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 45ms (Views: 2.0ms | ActiveRecord: 4.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:08:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 13145ms (Views: 1.1ms | ActiveRecord: 9.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:09:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 51ms (Views: 0.8ms | ActiveRecord: 4.8ms)


Started GET "/products/2" for 127.0.0.1 at 2018-10-04 16:10:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:15
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 45ms (Views: 1.0ms | ActiveRecord: 7.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:10:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:15
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 31ms (Views: 1.6ms | ActiveRecord: 3.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:11:37 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  Rendered products/show.html.erb within layouts/application (538.8ms)
Completed 500 Internal Server Error in 598ms (ActiveRecord: 5.5ms)


  
ActionView::Template::Error (undefined local variable or method `check_user_rating' for #<#<Class:0x00007f6dd03a1160>:0x00007f6dd0393218>
Did you mean?  check_box_tag):
    60:     <div id="menu1" class="tab-pane fade">
    61:       <h3>Đánh giá sản phẩm đi nào </h3>
    62:       <div class="start">
    63:         <% if check_user_rating %>
    64:           <% for i in 1..5 %>
    65:             <%= link_to rating_path(point: i, old: request.original_url),method: :post do %>
    66:                 <%= image_tag("rating/star-off.png",title: "#{i}") %>
  
app/views/products/show.html.erb:63:in `_app_views_products_show_html_erb__3240023853808739137_70054810815660'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:11:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (523.2ms)
Completed 500 Internal Server Error in 587ms (ActiveRecord: 5.4ms)


  
ActionView::Template::Error (undefined local variable or method `check_user_rating' for #<#<Class:0x00007f6dec0ea478>:0x00007f6dec0e8510>
Did you mean?  check_box_tag):
    60:     <div id="menu1" class="tab-pane fade">
    61:       <h3>Đánh giá sản phẩm đi nào </h3>
    62:       <div class="start">
    63:         <% if check_user_rating %>
    64:           <% for i in 1..5 %>
    65:             <%= link_to rating_path(point: i, old: request.original_url),method: :post do %>
    66:                 <%= image_tag("rating/star-off.png",title: "#{i}") %>
  
app/views/products/show.html.erb:63:in `_app_views_products_show_html_erb__3240023853808739137_70055044273960'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:12:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  [1m[36mRating Load (1.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.1ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
  Rendered products/show.html.erb within layouts/application (444.8ms)
Completed 500 Internal Server Error in 488ms (ActiveRecord: 5.4ms)


  
ActionView::Template::Error (undefined local variable or method `check_user_rating' for #<#<Class:0x00007f6df04d3a68>:0x00007f6df04d1fb0>
Did you mean?  check_box_tag):
    60:     <div id="menu1" class="tab-pane fade">
    61:       <h3>Đánh giá sản phẩm đi nào </h3>
    62:       <div class="start">
    63:         <% if check_user_rating %>
    64:           <% for i in 1..5 %>
    65:             <%= link_to rating_path(point: i, old: request.original_url),method: :post do %>
    66:                 <%= image_tag("rating/star-off.png",title: "#{i}") %>
  
app/views/products/show.html.erb:63:in `_app_views_products_show_html_erb__3240023853808739137_70055079879020'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:12:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (17.6ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (compared with non class/module):
    60:     <div id="menu1" class="tab-pane fade">
    61:       <h3>Đánh giá sản phẩm đi nào </h3>
    62:       <div class="start">
    63:         <% if @user_rating <= 0 %>
    64:           <% for i in 1..5 %>
    65:             <%= link_to rating_path(point: i, old: request.original_url),method: :post do %>
    66:                 <%= image_tag("rating/star-off.png",title: "#{i}") %>
  
app/views/products/show.html.erb:63:in `_app_views_products_show_html_erb__3240023853808739137_70054809077660'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:12:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (53.2ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 128ms (Views: 116.6ms | ActiveRecord: 1.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 16:12:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:15:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (bad value for range):
    68:           <% end %>
    69:         <% else %>
    70:           <!-- star -->
    71:           <% for i in 1..@user_rating %>
    72:             <%= link_to rating_path(point: i, old: request.original_url),method: :post do %>
    73:                 <%= image_tag("rating/star-on.png",title: "#{i}") %>
    74:             <% end %>
  
app/views/products/show.html.erb:71:in `_app_views_products_show_html_erb__3240023853808739137_70055081068200'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:22:03 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:25
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[36mRating Update (1.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", nil], ["updated_at", "2018-10-04 09:22:04.116102"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[35m (393.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:25
Redirected to 
Completed 500 Internal Server Error in 500ms (ActiveRecord: 400.6ms)


  
ActionController::ActionControllerError (Cannot redirect to nil!):
  
app/controllers/products_controller.rb:30:in `rating'
lib/controller/product_lib.rb:15:in `user_rating_on'
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:24:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 44ms (ActiveRecord: 4.1ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:25:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (3.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.8ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:26:03 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:26:04 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:26:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.1ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:27:08 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.9ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:27:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 47ms (ActiveRecord: 6.4ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:27:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.6ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/" for 127.0.0.1 at 2018-10-04 16:27:24 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (29.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 113ms (Views: 101.1ms | ActiveRecord: 2.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:27:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.7ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:27:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 43ms (ActiveRecord: 3.7ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:28:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 39ms (ActiveRecord: 8.0ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/" for 127.0.0.1 at 2018-10-04 16:28:12 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (28.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 107ms (Views: 99.0ms | ActiveRecord: 1.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:28:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.6ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:28:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 5910ms (ActiveRecord: 5.7ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:8:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:28:59 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 14460ms (ActiveRecord: 2.1ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:8:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:30:27 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/products_controller.rb:9: syntax error, unexpected tIVAR, expecting keyword_end
    render :html @ratings.inspect
                 ^~~~~~~~):
  
app/controllers/products_controller.rb:9: syntax error, unexpected tIVAR, expecting keyword_end
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:30:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 37ms (ActiveRecord: 4.3ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:7:in `show'
  [1m[36mRating Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  [1m[36mRating Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
  [1m[36mRating Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  [1m[36mRating Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  [1m[36mRating Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:33:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:34:47 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 91816ms (ActiveRecord: 2.9ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:8:in `show'
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
Completed 500 Internal Server Error in 1395ms (ActiveRecord: 3.1ms)


  
TypeError (nil can't be coerced into Integer):
  
app/controllers/products_controller.rb:9:in `-'
app/controllers/products_controller.rb:9:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:34:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
Completed 500 Internal Server Error in 3092ms (ActiveRecord: 1.7ms)


  
TypeError (nil can't be coerced into Integer):
  
app/controllers/products_controller.rb:9:in `-'
app/controllers/products_controller.rb:9:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:35:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 3655ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (undefined method `times' for nil:NilClass):
    26:     <div class="col-sm-5 pd-right">
    27:       <h4><i class="fa fa-check" aria-hidden="true" Style="color:green"></i> <%= @product.name %></h4>
    28:       <div class="start">
    29:         <% @starton.times do %>
    30:             <%= image_tag("rating/star-on.png") %>
    31:         <% end %>
    32: 
  
app/views/products/show.html.erb:29:in `_app_views_products_show_html_erb__3208316270373753328_70120510924120'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:35:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.1ms)
Completed 500 Internal Server Error in 42ms (Views: 3.1ms | ActiveRecord: 4.4ms)


  
TypeError (nil can't be coerced into Integer):
  
app/controllers/products_controller.rb:9:in `-'
app/controllers/products_controller.rb:9:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:36:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.0ms)
Completed 500 Internal Server Error in 37ms (Views: 0.8ms | ActiveRecord: 4.8ms)


  
TypeError (nil can't be coerced into Integer):
  
app/controllers/products_controller.rb:9:in `-'
app/controllers/products_controller.rb:9:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:36:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.1ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 45ms (Views: 1.3ms | ActiveRecord: 3.9ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:7:in `+'
lib/controller/product_lib.rb:7:in `block in star_on'
lib/controller/product_lib.rb:6:in `star_on'
app/controllers/products_controller.rb:8:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:36:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.0ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:4
  [1m[36mRating Load (3.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:7
Completed 500 Internal Server Error in 12594ms (Views: 1.2ms | ActiveRecord: 8.0ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:8:in `+'
lib/controller/product_lib.rb:8:in `block in star_on'
lib/controller/product_lib.rb:7:in `star_on'
app/controllers/products_controller.rb:8:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:37:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:4
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:7
Completed 500 Internal Server Error in 4074ms (Views: 1.5ms | ActiveRecord: 5.8ms)


  
TypeError (nil can't be coerced into Integer):
  
lib/controller/product_lib.rb:8:in `+'
lib/controller/product_lib.rb:8:in `block in star_on'
lib/controller/product_lib.rb:7:in `star_on'
app/controllers/products_controller.rb:8:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:38:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:42
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:4
Completed 500 Internal Server Error in 292ms (ActiveRecord: 2.3ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NameError (undefined local variable or method `ratings' for #<ProductsController:0x0000555fe77f2370>
Did you mean?  rating
               @ratings):
  
app/controllers/products_controller.rb:7:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:38:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:42
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:7
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:10
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.3ms)


  
TypeError (nil can't be coerced into Integer):
  
app/controllers/products_controller.rb:11:in `+'
app/controllers/products_controller.rb:11:in `block in show'
app/controllers/products_controller.rb:10:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:39:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 200 OK in 52ms (Views: 1.5ms | ActiveRecord: 4.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:51:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:7
  Rendering html template
  Rendered html template (0.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 200 OK in 18ms (Views: 1.4ms | ActiveRecord: 1.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 16:51:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (359.6ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 605ms (Views: 557.2ms | ActiveRecord: 4.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 16:51:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 16:51:10 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (51.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 116ms (Views: 106.6ms | ActiveRecord: 1.2ms)


Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 16:51:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 19:13:48 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (9.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (639.4ms)
  Rendered layouts/_header.html.erb (5.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 2750ms (Views: 2622.2ms | ActiveRecord: 16.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:16:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (16.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 122ms (Views: 64.8ms | ActiveRecord: 18.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:16:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 19:16:37 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"SZQttAloN5jrEV9mKvsRz/h4leXUssB+md9E2uHdXw/i7CfwQHt6pxn+xJqLjiaUNIPMNHf1+EGnKsaq6UyOgQ==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (10.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Update (30.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 12:16:37.515981"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (343.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
Redirected to http://localhost:3000/products/1
Completed 302 Found in 505ms (ActiveRecord: 387.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:16:37 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 70ms (Views: 63.1ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:16:37 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:20:17 +0700
  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/lib/controller/product_lib.rb:17: syntax error, unexpected end-of-input, expecting keyword_end):
  
lib/controller/product_lib.rb:17: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/products_controller.rb:3:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:20:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 55ms (Views: 17.5ms | ActiveRecord: 3.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:20:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 39ms (Views: 1.0ms | ActiveRecord: 3.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:21:30 +0700
  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/controllers/products_controller.rb:11: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
...t+"_"+user_star_on @user_rating
...                   ^~~~~~~~~~~~):
  
app/controllers/products_controller.rb:11: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:21:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 39ms (ActiveRecord: 2.6ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<Rating::ActiveRecord_Relation:0x00007fc86596aae8>):
  
lib/controller/product_lib.rb:18:in `user_star_on'
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:22:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 45ms (ActiveRecord: 4.4ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<Rating::ActiveRecord_Relation:0x00007fc86656ad20>):
  
lib/controller/product_lib.rb:18:in `user_star_on'
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:22:22 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 39ms (Views: 1.8ms | ActiveRecord: 3.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:22:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 39ms (ActiveRecord: 2.8ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<Rating::ActiveRecord_Relation:0x00007fc868492900>):
  
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:22:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 38ms (Views: 1.8ms | ActiveRecord: 3.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:23:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:11
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:24:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.9ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<Rating::ActiveRecord_Relation:0x00007fc87c8b86d8>):
  
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:24:41 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 34ms (Views: 1.7ms | ActiveRecord: 2.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:24:44 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:24:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 1.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:24:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 33ms (Views: 0.9ms | ActiveRecord: 2.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:24:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 34ms (Views: 0.8ms | ActiveRecord: 2.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:25:05 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.0ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `ratings' for #<Rating::ActiveRecord_Relation:0x00007fc868529580>):
  
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:25:08 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.5ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<Rating::ActiveRecord_Relation:0x00007fc86627b560>):
  
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:26:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
Completed 500 Internal Server Error in 48ms (ActiveRecord: 3.7ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/models/rating.rb:6:in `block in <class:Rating>'
app/controllers/products_controller.rb:11:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:26:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 40ms (ActiveRecord: 2.5ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<Rating::ActiveRecord_Relation:0x00007fc87844e1a0>):
  
app/controllers/products_controller.rb:12:in `show'
  [1m[36mRating Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mRating Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  [1m[36mRating Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:28:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 46ms (Views: 1.1ms | ActiveRecord: 4.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:28:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.9ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:12
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 42ms (Views: 1.9ms | ActiveRecord: 6.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:28:57 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 45ms (ActiveRecord: 5.5ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<ActiveRecord::Relation [#<Rating id: nil, rating: 5>]>):
  
app/controllers/products_controller.rb:12:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:29:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 37ms (ActiveRecord: 3.3ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<ActiveRecord::Relation [#<Rating id: nil, rating: 5>]>):
  
app/controllers/products_controller.rb:12:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:29:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.4ms)


  
  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT  "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ /home/hvd/.rvm/rubies/ruby-2.5.1/lib/ruby/gems/2.5.0/gems/did_you_mean-1.2.0/lib/did_you_mean/core_ext/name_error.rb:8
NoMethodError (undefined method `rating' for #<ActiveRecord::Relation [#<Rating id: nil, rating: 5>]>):
  
app/controllers/products_controller.rb:12:in `show'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:29:37 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings"."rating" FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 36ms (Views: 0.7ms | ActiveRecord: 5.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:29:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 43ms (Views: 0.9ms | ActiveRecord: 3.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:30:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 119ms (Views: 83.6ms | ActiveRecord: 4.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:30:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:30:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:32:41 +0700
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 122199ms (Views: 79.3ms | ActiveRecord: 3.6ms)


Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 115ms (Views: 73.6ms | ActiveRecord: 5.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:32:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:32:43 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 133ms (Views: 84.9ms | ActiveRecord: 5.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:32:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:33:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 98ms (Views: 83.5ms | ActiveRecord: 2.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:33:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 19:33:31 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"o1Kh3/tCi9szR3s67fuM6nGg/6FbI2PXa/hYTBdPOv8IKqubslHG5MGo4MZMjruxvVumcPhkW+hVDdo8H97rcQ==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:25
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 12:33:31.078871"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[35m (303.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:25
Redirected to http://localhost:3000/products/1
Completed 302 Found in 380ms (ActiveRecord: 307.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:33:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 107ms (Views: 93.5ms | ActiveRecord: 2.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:33:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (50.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 130ms (Views: 116.8ms | ActiveRecord: 1.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:35:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3" for 127.0.0.1 at 2018-10-04 19:35:10 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"EOxqzWPI07ktgBOmdXEMy4QTYbLdaCXdj7wv0F2CjBq7lGCJKtueht9viFrUBDuQSOg4Y34vHeKxSa2gVRNdlA==", "old"=>"http://localhost:3000/products/1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:25
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 12:35:10.509530"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[35m (298.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:25
Redirected to http://localhost:3000/products/1
Completed 302 Found in 313ms (ActiveRecord: 300.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 88ms (Views: 77.9ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:35:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2" for 127.0.0.1 at 2018-10-04 19:35:14 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"r/szQvRPozj1G2QWfSSM3IlmovSLcpK6izCrdnEH0LQEgzkGvVzuBwf0/+rcUbuHRZ37JSg1qoW1xSkGeZYBOg==", "old"=>"http://localhost:3000/products/1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:25
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 12:35:14.834191"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[35m (311.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:25
Redirected to http://localhost:3000/products/1
Completed 302 Found in 327ms (ActiveRecord: 313.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:15 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 87ms (Views: 76.9ms | ActiveRecord: 1.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:35:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 19:35:18 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"OSI3hbKTzT3lV6Kt+0C0cpvn8+N/Tf/UkkwgEP+IFA+SWj3B+4CAAhe4OVFaNYMpVxyqMtwKx+usuaJg9xnFgQ==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:25
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 12:35:18.175820"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[35m (365.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:25
Redirected to http://localhost:3000/products/1
Completed 302 Found in 383ms (ActiveRecord: 368.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 94ms (Views: 79.7ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:35:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.9ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:71: syntax error, unexpected keyword_else
'.freeze;         if else 
                     ^~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/show.html.erb:87: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/products/show.html.erb:71: syntax error, unexpected keyword_else
app/views/products/show.html.erb:87: syntax error, unexpected keyword_ensure, expecting end-of-input
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 81ms (Views: 74.2ms | ActiveRecord: 1.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:35:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 19:35:52 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"+/UA9USrTDXuDPP+GQL69EEWwUKJht1NdWE1NvEEwMRQjQqxDbgBChzjaAK4d82vje2YkyrB5XJLlLdG+ZURSg==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:25
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:25
Redirected to http://localhost:3000/products/1
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:35:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 90ms (Views: 80.4ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:35:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:37:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 133ms (Views: 76.8ms | ActiveRecord: 5.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:37:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3" for 127.0.0.1 at 2018-10-04 19:37:33 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"JxIO4ARQQ2iBrpmkZG8MLYjrMpLgNo9L03na0kFEp2OMagSkTUMOV3NBAljFGjt2RBBrQ0Nxt3TtjFiiSdV27Q==", "old"=>"http://localhost:3000/products/1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 12:37:33.379758"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (344.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 384ms (ActiveRecord: 347.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:37:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 91ms (Views: 78.1ms | ActiveRecord: 2.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:37:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 19:37:40 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"SEiD681BZOkXF+yAcqCHVJ1wl290zDXqkR8W86xgURTjMImvhFIp1uX4d3zT1bAPUYvOvteLDdWv6pSDpPGAmg==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 12:37:40.539189"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (335.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 355ms (ActiveRecord: 340.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:37:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 87ms (Views: 74.6ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:37:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2" for 127.0.0.1 at 2018-10-04 19:37:47 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"SuomYDDYjvk8ToQRnlihUGednmPg51cZjpSBGU3YyRDhkiwkecvDxs6hH+0/LZYLq2bHskOgbyawYQNpRUkYng==", "old"=>"http://localhost:3000/products/1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 12:37:47.679481"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (306.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 323ms (ActiveRecord: 310.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:37:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 96ms (Views: 84.7ms | ActiveRecord: 1.3ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:37:48 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 19:37:50 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"60KUCrG00OKoKuZ96oVvosHriFDRL3k6mFpB+ps253xAOp5O+Ked3VrFfYFL8Fj5DRDRgXJoQQWmr8OKk6c28g==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 12:37:50.878794"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (320.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 335ms (ActiveRecord: 323.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:37:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 80ms (Views: 70.9ms | ActiveRecord: 1.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:37:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:38:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.7ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 90ms (Views: 76.5ms | ActiveRecord: 2.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:38:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 19:38:50 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"wKgvlZrsSsdraNVPJ4DPFTMaRQ43Y3DXWWujXaaGxVtr0CXR0/8H+JmHTrOG9fhO/+Ec35QkSOhnniEtrhcU1Q==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 14ms (ActiveRecord: 1.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:38:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 92ms (Views: 79.3ms | ActiveRecord: 2.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:38:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2" for 127.0.0.1 at 2018-10-04 19:38:53 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"D0y+t99haNhhyp8qF8TQWKT7itDJ9J8gg5/pJ7x1tLykNLTzlnIl55MlBNa2secDaADTAWqzpx+9amtXtORlMg==", "old"=>"http://localhost:3000/products/1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 12:38:53.216310"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (279.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 295ms (ActiveRecord: 281.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:38:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 102ms (Views: 92.5ms | ActiveRecord: 1.1ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:38:53 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3" for 127.0.0.1 at 2018-10-04 19:38:56 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"diXxVyY0MH3WL63VwuCggaBQFGN+OuAC1E/GBqFg2gndXfsTbyd9QiTANiljlZfabKtNst192D3qukR2qfELhw==", "old"=>"http://localhost:3000/products/1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 12:38:56.130783"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (356.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 372ms (ActiveRecord: 359.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:38:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 96ms (Views: 84.9ms | ActiveRecord: 2.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:38:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4" for 127.0.0.1 at 2018-10-04 19:39:07 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"dbr9lBxtHiwBdxNsAGdWFt9ddW92vT2UwKH9yKPTCX7ewvfQVX5TE/OYiJChEmFNE6YsvtX6Bav+VH+4q0LY8A==", "old"=>"http://localhost:3000/products/1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 12:39:07.034521"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (329.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 346ms (ActiveRecord: 333.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:39:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 87ms (Views: 75.2ms | ActiveRecord: 1.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:39:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 19:39:10 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"56AidcaMu4vGPLZQjhDWmfJzGNTlww+9FCRArGAlvSFM2Cgxj5/2tDTTLawvZeHCPohBBUaEN4Iq0cLcaLRsrw==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 12:39:10.062138"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (337.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 354ms (ActiveRecord: 339.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:39:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 73.4ms | ActiveRecord: 1.2ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:39:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 19:39:30 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.4ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 109ms (Views: 78.8ms | ActiveRecord: 2.6ms)


Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:39:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/cart.html" for 127.0.0.1 at 2018-10-04 19:39:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/cart.html"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 19:39:32 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (23.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 90ms (Views: 83.7ms | ActiveRecord: 0.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 19:39:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 114ms (Views: 83.7ms | ActiveRecord: 4.4ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 19:39:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 19:39:37 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"XydzVsBEoZ0NzFYskErTm/Xvf7UBTMPn2ivCH9mpEYX0X3kSiVfsov8jzdAxP+TAORQmZKIL+9jk3kBv0TjACw==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:21:in `rating'
Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 19:39:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 19:44:04 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"XydzVsBEoZ0NzFYskErTm/Xvf7UBTMPn2ivCH9mpEYX0X3kSiVfsov8jzdAxP+TAORQmZKIL+9jk3kBv0TjACw==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
Completed 500 Internal Server Error in 33ms (ActiveRecord: 3.5ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:21:in `rating'
Started GET "/" for 127.0.0.1 at 2018-10-04 19:44:09 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 76ms (Views: 66.0ms | ActiveRecord: 1.0ms)


Started GET "/product/7.jpg" for 127.0.0.1 at 2018-10-04 19:44:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:44:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 119ms (Views: 95.7ms | ActiveRecord: 3.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:44:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 19:44:14 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"cHy4ypdzsqXIaPAgbLhMSMg1qhHr7JNSX6GPLtgXFlHbBLKO3mD/mjqHa9zNzXsTBM7zwEirq21hVA1e0IbH3w==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 37ms (ActiveRecord: 2.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:44:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 90ms (Views: 79.7ms | ActiveRecord: 1.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:44:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-04 19:44:17 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"AeWF3ceTMG1+Ppz3XKP1rvF8zeabLzrMmMs/IpjV35OqnY+ZjoB9UozRBwv91sL1PYeUNzhoAvOmPr1SkEQOHQ==", "old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 12:44:17.210863"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (434.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 449ms (ActiveRecord: 438.2ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:44:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 83ms (Views: 76.0ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:44:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:59:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 122ms (Views: 106.7ms | ActiveRecord: 2.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:59:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 19:59:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 104ms (Views: 88.9ms | ActiveRecord: 1.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 19:59:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:00:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.9ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 92ms (Views: 76.4ms | ActiveRecord: 2.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:00:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:00:46 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (23.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 118ms (Views: 109.9ms | ActiveRecord: 1.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:00:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (12.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 133ms (Views: 96.2ms | ActiveRecord: 14.5ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:00:48 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:01:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 90ms (Views: 75.0ms | ActiveRecord: 2.6ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:01:06 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"GpqDHaaQCFYpDvfILg4x3ncZIOBA4ctZ86m4HhqAbB2x4olZ74NFadvhbDSPewaFu+J5MeOm82bNXDpuEhG9kw==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `user_id' for nil:NilClass):
  
app/controllers/products_controller.rb:21:in `rating'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:01:22 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (22.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 134ms (Views: 104.8ms | ActiveRecord: 5.4ms)


Started GET "/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:01:24 +0700
Processing by ProductsController#show as HTML
Started GET "/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:24 +0700
Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:24 +0700
  Parameters: {"id"=>"4"}
  
ActionController::RoutingError (No route matches [GET] "/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 349ms (Views: 62.8ms | ActiveRecord: 4.0ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:01:27 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"aamBLmc00QsS+d3a/W1DmRi5hUyjJZEBnoWSzteHtlzC0YtqLiecNOAWRiZcGHTC1ELcnQBiqT6gcBC+3xZn0g==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Create (1.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 4], ["rating", 5], ["created_at", "2018-10-04 13:01:28.027684"], ["updated_at", "2018-10-04 13:01:28.027684"]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (404.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/4
Completed 302 Found in 447ms (ActiveRecord: 407.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:01:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 81ms (Views: 71.2ms | ActiveRecord: 1.9ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:01:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 84ms (Views: 77.3ms | ActiveRecord: 0.8ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:01:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:03:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 88ms (Views: 80.7ms | ActiveRecord: 0.9ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:03:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-04 20:03:43 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 3 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 99ms (Views: 83.3ms | ActiveRecord: 2.8ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-04 20:03:44 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:03:46 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 102ms (Views: 87.1ms | ActiveRecord: 1.7ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:03:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/2" for 127.0.0.1 at 2018-10-04 20:03:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 2 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (16.5ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 120ms (Views: 106.0ms | ActiveRecord: 2.0ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-04 20:03:48 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-04 20:03:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 3 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (17.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 111ms (Views: 100.0ms | ActiveRecord: 1.4ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-04 20:03:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:03:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (19.9ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 110ms (Views: 98.1ms | ActiveRecord: 1.8ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:03:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:03:58 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"czY0CtXlW4jW/bbSJ/91BkkcjRSZY3c+x2UmMlzromvYTj5OnPYWtyQSLS6GikJdhefUxTokTwH5kKRCVHpz5Q==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 302 Found in 17ms (ActiveRecord: 1.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:03:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 84ms (Views: 74.3ms | ActiveRecord: 1.3ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:03:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 20:04:01 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"BlwfrleOrMb548GVDYlQG+KSUHaGPJtHmoi/wDPC4iKtJBXqHp3h+QsMWmms/GdALmkJpyV7o3ikfT2wO1MzrA==", "old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 13:04:01.632728"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (280.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 302 Found in 300ms (ActiveRecord: 283.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:04:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 82ms (Views: 71.9ms | ActiveRecord: 1.3ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-04 20:04:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/2" for 127.0.0.1 at 2018-10-04 20:04:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 2 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (17.0ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 125ms (Views: 108.5ms | ActiveRecord: 1.7ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-04 20:04:08 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:04:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (3.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 100ms (Views: 83.8ms | ActiveRecord: 4.5ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:04:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 20:04:51 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"63NFkT96Hn3FJkLNlAzNgvzJ5NaxdIOCh9RCMVqE8XNAC0/VdmlTQjfJ2TE1efrZMDK9BxIzu725IcBBUhUg/Q==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 13:04:51.993353"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (303.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 322ms (ActiveRecord: 307.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:04:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 81ms (Views: 72.7ms | ActiveRecord: 0.9ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:04:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:05:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 97ms (Views: 83.9ms | ActiveRecord: 1.8ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:05:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4" for 127.0.0.1 at 2018-10-04 20:05:25 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"iis3GT6JTh836pRJ1uhCHOLAdTji/oini9b38TTnoNEhUz1dd5oDIMUFD7V3nXVHLjss6UG5sJi1I3WBPHZxXw==", "old"=>"http://localhost:3000/products/1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (3.1ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 13:05:25.508620"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (307.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 337ms (ActiveRecord: 315.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:05:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 92ms (Views: 82.5ms | ActiveRecord: 1.4ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:05:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:06:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 91ms (Views: 78.1ms | ActiveRecord: 2.0ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:06:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:06:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (13.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 121ms (Views: 105.9ms | ActiveRecord: 2.6ms)


Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:06:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (259.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (261.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (258.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (276.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (251.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (249.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001093811)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "image" varchar DEFAULT 'product/default-product.jpg', "quantity" integer, "cartegory_id" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001093811_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001093811"]]
  ↳ bin/rails:9
  [1m[35m (285.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (277.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (254.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (286.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (271.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-04 13:08:07.603913"], ["updated_at", "2018-10-04 13:08:07.603913"]]
  ↳ bin/rails:9
  [1m[35m (218.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-04 13:08:12.271392"], ["updated_at", "2018-10-04 13:08:12.271392"], ["password_digest", "$2a$10$M7IOqcAWQe7KhQyUFhN8PeTk9wryi6R6.FXYimFa01XPwTSovpuai"]]
  ↳ db/seeds.rb:70
  [1m[35m (395.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-04 13:08:12.752163"], ["updated_at", "2018-10-04 13:08:12.752163"], ["password_digest", "$2a$10$wZ76CgpFfsGBGpb9ySsxYOBD/2f7DmNnJAjEkSUusUaHTa6Mc71Vi"]]
  ↳ db/seeds.rb:78
  [1m[35m (230.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 0"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 0"], ["description", "none"], ["image", "product/8.jpg"], ["quantity", 8], ["price", 8.0], ["created_at", "2018-10-04 13:08:13.009443"], ["updated_at", "2018-10-04 13:08:13.009443"]]
  ↳ db/seeds.rb:88
  [1m[35m (229.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 1"], ["description", "none"], ["image", "product/6.jpg"], ["quantity", 6], ["price", 6.0], ["created_at", "2018-10-04 13:08:13.244095"], ["updated_at", "2018-10-04 13:08:13.244095"]]
  ↳ db/seeds.rb:88
  [1m[35m (234.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 2"], ["description", "none"], ["image", "product/3.jpg"], ["quantity", 3], ["price", 3.0], ["created_at", "2018-10-04 13:08:13.489723"], ["updated_at", "2018-10-04 13:08:13.489723"]]
  ↳ db/seeds.rb:88
  [1m[35m (235.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 3"], ["description", "none"], ["image", "product/2.jpg"], ["quantity", 2], ["price", 2.0], ["created_at", "2018-10-04 13:08:13.732960"], ["updated_at", "2018-10-04 13:08:13.732960"]]
  ↳ db/seeds.rb:88
  [1m[35m (234.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:95
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mRating Create (1.3ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 1], ["rating", 1], ["created_at", "2018-10-04 13:08:13.994111"], ["updated_at", "2018-10-04 13:08:13.994111"]]
  ↳ db/seeds.rb:95
  [1m[35m (237.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:95
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:96
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mRating Create (2.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 1], ["rating", 1], ["created_at", "2018-10-04 13:08:14.239644"], ["updated_at", "2018-10-04 13:08:14.239644"]]
  ↳ db/seeds.rb:96
  [1m[35m (223.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:96
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:97
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mRating Create (1.4ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 2], ["rating", 2], ["created_at", "2018-10-04 13:08:14.475817"], ["updated_at", "2018-10-04 13:08:14.475817"]]
  ↳ db/seeds.rb:97
  [1m[35m (236.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:97
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:98
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mRating Create (2.7ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 3], ["rating", 3], ["created_at", "2018-10-04 13:08:14.719325"], ["updated_at", "2018-10-04 13:08:14.719325"]]
  ↳ db/seeds.rb:98
  [1m[35m (235.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:98
Started GET "/" for 127.0.0.1 at 2018-10-04 20:08:20 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 109ms (Views: 79.3ms | ActiveRecord: 4.3ms)


Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:08:20 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:08:23 +0700
Processing by ProductsController#show as HTML
Started GET "/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:08:23 +0700
Started GET "/products/product/4.jpg" for 127.0.0.1 at 2018-10-04 20:08:23 +0700
  Parameters: {"id"=>"1"}
  
ActionController::RoutingError (No route matches [GET] "/product/4.jpg"):
  
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
ActionController::RoutingError (No route matches [GET] "/products/product/4.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 388ms (Views: 69.3ms | ActiveRecord: 3.4ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-04 20:08:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 20:08:26 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"lu7LFp2Cjra12CPnNhfb9CVs3L+7TlakG+vGBsPhGd89lsFS1JHDiUc3uBuXYuyv6ZeFbhgJbpslHkR2y3DIUQ==", "old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 13:08:26.747664"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (223.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/1
Completed 302 Found in 270ms (ActiveRecord: 230.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:08:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 88ms (Views: 79.1ms | ActiveRecord: 1.2ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-04 20:08:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:08:29 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (19.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 92ms (Views: 83.1ms | ActiveRecord: 1.9ms)


Started GET "/product/8.jpg" for 127.0.0.1 at 2018-10-04 20:08:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:08:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 89ms (Views: 76.0ms | ActiveRecord: 1.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:08:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:08:36 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"CpSTebybMglixDgax6J0lNLQ2UEhxsx63mHoKZTcAp6h7Jk99Yh/NpAro+Zm10PPHiuAkIKB9EXglGpZnE3TEA==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Create (1.4ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 4], ["rating", 5], ["created_at", "2018-10-04 13:08:36.466589"], ["updated_at", "2018-10-04 13:08:36.466589"]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (409.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
Redirected to http://localhost:3000/products/4
Completed 302 Found in 427ms (ActiveRecord: 411.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:08:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 73.2ms | ActiveRecord: 2.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:08:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:08:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.4ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 69.1ms | ActiveRecord: 2.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:08:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:09:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (15.4ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 146ms (Views: 91.6ms | ActiveRecord: 7.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:09:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:09:33 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (32.8ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 127ms (Views: 103.8ms | ActiveRecord: 1.1ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:09:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:09:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 128ms (Views: 110.4ms | ActiveRecord: 2.9ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-04 20:09:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 20:09:44 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (18.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 207ms (Views: 128.4ms | ActiveRecord: 5.5ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-04 20:09:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:09:48 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (22.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 102ms (Views: 92.5ms | ActiveRecord: 1.5ms)


Started GET "/product/8.jpg" for 127.0.0.1 at 2018-10-04 20:09:48 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:09:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 100ms (Views: 87.9ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:09:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:11:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 93ms (Views: 79.9ms | ActiveRecord: 2.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:11:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:11:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 47ms (Views: 0.9ms | ActiveRecord: 5.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:11:37 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 41ms (Views: 1.3ms | ActiveRecord: 6.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:08 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 47ms (Views: 1.1ms | ActiveRecord: 6.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 45ms (Views: 0.7ms | ActiveRecord: 5.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 48ms (Views: 0.8ms | ActiveRecord: 5.9ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 11ms (Views: 1.5ms | ActiveRecord: 1.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 42ms (Views: 0.8ms | ActiveRecord: 4.4ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 20ms (Views: 0.5ms | ActiveRecord: 1.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:12:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 3.0ms)


  [1m[36mRating Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  [1m[36mRating Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRating Load (2.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" ORDER BY "ratings"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:13:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 44ms (Views: 1.1ms | ActiveRecord: 5.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:14:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 4 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 43ms (Views: 0.7ms | ActiveRecord: 5.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:14:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:37
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4) LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/products_controller.rb:14
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 43ms (Views: 1.5ms | ActiveRecord: 4.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:15:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 121ms (Views: 74.7ms | ActiveRecord: 6.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:15:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 20:15:13 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"AyVox1I7Z98/l28Hl7e0NRGDEs4f4w9eBYkpTxmttFqoXWKDGygq4M149Ps2woNu3XhLH7ykN2E7fKs/ETxl1A==", "old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 13:15:13.627683"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (406.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 302 Found in 453ms (ActiveRecord: 409.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:15:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 93ms (Views: 81.0ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:15:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:15:49 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.9ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 99ms (Views: 91.5ms | ActiveRecord: 0.9ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:15:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:16:01 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 88ms (Views: 81.3ms | ActiveRecord: 1.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:16:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:16:07 +0700
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:16:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  ↳ app/controllers/products_controller.rb:35
  
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (25.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 421ms (Views: 354.6ms | ActiveRecord: 1.5ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:16:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-04 20:16:31 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:16:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (139.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 223ms (Views: 214.8ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 20:18:05 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (25.4ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 126ms (Views: 117.3ms | ActiveRecord: 0.9ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:18:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 132ms (Views: 117.9ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:18:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:18:10 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"XiqfdrPiiPwtGm7ml0qZtg1q+AXQLCaClcBgo1tv1Nj1UpUy+vHFw9/19Ro2P67twZGh1HNrHr2rNeLTU/4FVg==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 13:18:10.549143"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (319.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 302 Found in 341ms (ActiveRecord: 323.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:18:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 101ms (Views: 86.8ms | ActiveRecord: 2.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:18:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:19:45 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"VWg708fN335nKmCy2k4IGFklzX5fEDk6CD9sF8v7zCP+EDGXjt6SQZXF+057Oz9Dld6Ur/xXAQU2yu5nw2odrQ==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 302 Found in 18ms (ActiveRecord: 4.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:19:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 134ms (Views: 116.3ms | ActiveRecord: 3.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:19:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:22:59 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 130ms (Views: 78.5ms | ActiveRecord: 4.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:22:59 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:23:01 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:23:02 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.0ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 20:23:09 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:23:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.9ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 130ms (Views: 76.9ms | ActiveRecord: 5.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:23:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:23:17 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 500 Internal Server Error in 43ms (ActiveRecord: 3.0ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:30:in `rating'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:23:19 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.4ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:30:in `rating'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:24:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 172ms (Views: 114.6ms | ActiveRecord: 9.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:24:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:24:18 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:25:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 142ms (Views: 84.1ms | ActiveRecord: 6.5ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:25:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:25:17 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:25:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:36
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 124ms (Views: 110.0ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:25:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:25:41 +0700
Processing by ProductsController#rating as HTML
  Parameters: {"authenticity_token"=>"fBTZzwF5S8MJw9EZqNotPWPNBulZk6Qz6qapUOOs7iHXbNOLSGoG/PssSuUJrxpmrzZfOPrUnAzUUysg6z0/rw==", "old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:26:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 184ms (Views: 120.3ms | ActiveRecord: 6.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:26:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 20:26:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 13:26:50.041905"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (439.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 200 OK in 507ms (ActiveRecord: 448.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:26:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (2.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (19.2ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 166ms (Views: 146.7ms | ActiveRecord: 3.5ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:26:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:26:54 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 13:26:54.119839"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (320.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
Redirected to http://localhost:3000/products/4
Completed 200 OK in 340ms (ActiveRecord: 326.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:26:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 99ms (Views: 84.5ms | ActiveRecord: 2.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:26:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:27:43 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (2.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 153ms (Views: 97.7ms | ActiveRecord: 8.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:27:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 20:27:45 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:35
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 13:27:46.002068"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (386.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (0.7ms)
Completed 200 OK in 491ms (Views: 23.6ms | ActiveRecord: 394.2ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:29:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (12.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 144ms (Views: 87.3ms | ActiveRecord: 8.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:29:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:29:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (15.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 92ms (Views: 83.8ms | ActiveRecord: 1.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:29:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:29:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 104ms (Views: 92.9ms | ActiveRecord: 1.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:29:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:29:33 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 13:29:33.110946"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (318.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (0.5ms)
Completed 200 OK in 413ms (Views: 21.1ms | ActiveRecord: 324.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 20:34:22 +0700
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (408.0ms)
  Rendered layouts/_header.html.erb (5.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 757ms (Views: 728.5ms | ActiveRecord: 2.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:34:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 131ms (Views: 92.4ms | ActiveRecord: 4.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:34:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 20:34:28 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 13:34:28.426325"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (698.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (0.3ms)
Completed 200 OK in 795ms (Views: 21.7ms | ActiveRecord: 705.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 20:34:39 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:34:39 +0700
  ↳ app/views/static_pages/home.html.erb:80
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendered static_pages/home.html.erb within layouts/application (55.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 198ms (Views: 191.2ms | ActiveRecord: 1.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:35:04 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:35:04 +0700
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:35:04 +0700
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  ↳ lib/controller/product_lib.rb:3
  
  [1m[36mRating Load (1.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
  ↳ lib/controller/product_lib.rb:6
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (22.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 377ms (Views: 325.6ms | ActiveRecord: 4.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:35:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:36:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.4ms)
  Rendered products/show.html.erb within layouts/application (14.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 97ms (Views: 79.5ms | ActiveRecord: 2.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:36:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:36:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.0ms)
  Rendered products/show.html.erb within layouts/application (17.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 92ms (Views: 82.5ms | ActiveRecord: 1.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:36:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:44:12 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.1ms)
  Rendered products/show.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 125ms (Views: 107.9ms | ActiveRecord: 2.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:44:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:44:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (430.0ms)
  Rendered products/show.html.erb within layouts/application (433.1ms)
Completed 500 Internal Server Error in 451ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined local variable or method `size' for #<#<Class:0x00007eff1474a328>:0x00007eff1485e610>):
    5: <% @startoff.times do %>
    6:     <%= image_tag("rating/star-off.png") %>
    7: <% end %>
    8: <%= size %>
  
app/views/products/_product_rating.html.erb:8:in `_app_views_products__product_rating_html_erb___832229839002596745_69816875775720'
app/views/products/show.html.erb:38:in `_app_views_products_show_html_erb___1261531038332270139_69817013041200'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:44:35 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (11.2ms)
  Rendered products/show.html.erb within layouts/application (23.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 121ms (Views: 107.9ms | ActiveRecord: 2.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:44:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:44:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (11.6ms)
  Rendered products/show.html.erb within layouts/application (21.0ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 120ms (Views: 103.6ms | ActiveRecord: 2.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:44:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:45:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (12.1ms)
  Rendered products/show.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 166ms (Views: 153.2ms | ActiveRecord: 1.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:45:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:55:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (0.5ms)
  Rendered products/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 240ms (Views: 223.3ms | ActiveRecord: 3.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:55:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:55:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (1.2ms)
  Rendered products/show.html.erb within layouts/application (16.3ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 117ms (Views: 103.8ms | ActiveRecord: 1.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:55:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:55:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (2.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (516.2ms)
  Rendered products/show.html.erb within layouts/application (523.0ms)
Completed 500 Internal Server Error in 549ms (ActiveRecord: 3.7ms)


  
ActionView::Template::Error (undefined local variable or method `staron' for #<#<Class:0x00007eff1474a328>:0x00007eff0403cfa0>
Did you mean?  @starton):
    11: 
    12: <% for i in 1..5 %>
    13:   
    14: <%= staron %>
    15: <% end %>
  
app/views/products/_rating.html.erb:14:in `block in _app_views_products__rating_html_erb___1784620358596383640_69816874892480'
app/views/products/_rating.html.erb:12:in `_app_views_products__rating_html_erb___1784620358596383640_69816874892480'
app/views/products/show.html.erb:38:in `_app_views_products_show_html_erb___1261531038332270139_69816874560780'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:56:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (1.0ms)
  Rendered products/show.html.erb within layouts/application (17.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 114ms (Views: 98.5ms | ActiveRecord: 2.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:56:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:56:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (0.7ms)
  Rendered products/show.html.erb within layouts/application (16.6ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 102ms (Views: 90.9ms | ActiveRecord: 1.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:56:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 20:56:37 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (10.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (122.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 13:56:37.705251"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (347.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (0.4ms)
Completed 200 OK in 541ms (Views: 20.5ms | ActiveRecord: 481.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:56:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (2.1ms)
  Rendered products/show.html.erb within layouts/application (15.4ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 114ms (Views: 97.6ms | ActiveRecord: 2.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:56:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:57:25 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (420.4ms)
  Rendered products/show.html.erb within layouts/application (424.0ms)
Completed 500 Internal Server Error in 445ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined local variable or method `staron' for #<#<Class:0x00007eff1474a328>:0x00007eff18019de8>
Did you mean?  @starton):
    11: 
    12: <% for i in 1..5 %>
    13:   
    14: <%= staron %>
    15: <% end %>
  
app/views/products/_rating.html.erb:14:in `block in _app_views_products__rating_html_erb___1784620358596383640_69816941580540'
app/views/products/_rating.html.erb:12:in `_app_views_products__rating_html_erb___1784620358596383640_69816941580540'
app/views/products/show.html.erb:38:in `_app_views_products_show_html_erb___1261531038332270139_69817042261200'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:57:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (0.7ms)
  Rendered products/show.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 80ms (Views: 71.1ms | ActiveRecord: 1.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 20:57:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:58:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (398.1ms)
  Rendered products/show.html.erb within layouts/application (405.1ms)
Completed 500 Internal Server Error in 416ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined local variable or method `staron' for #<#<Class:0x00007eff1474a328>:0x00007efefdf84370>
Did you mean?  staron1
               @starton):
     9: <% end %>
    10: 
    11: 
    12: <%= staron %>
    13: <% for i in 1..5 %>
    14: 
    15: <% end %>
  
app/views/products/_rating.html.erb:12:in `_app_views_products__rating_html_erb___1784620358596383640_69816823824340'
app/views/products/show.html.erb:38:in `_app_views_products_show_html_erb___1261531038332270139_69816823850720'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 20:58:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (2.7ms)
  Rendered products/show.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.7ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...uffer.append=( if staron.nil? );@output_buffer.safe_append='
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_rating.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
'.freeze; end 
          ^~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_rating.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_rating.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
          end
          ^~~):
  
app/views/products/_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/products/_rating.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/products/_rating.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
app/views/products/_rating.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
app/views/products/show.html.erb:38:in `_app_views_products_show_html_erb___1261531038332270139_69816823453060'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:00:44 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_rating.html.erb (4.8ms)
  Rendered products/show.html.erb within layouts/application (13.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 130ms (Views: 117.8ms | ActiveRecord: 2.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:00:44 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:01:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.1ms)
  Rendered products/show.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 89ms (Views: 79.6ms | ActiveRecord: 1.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:01:07 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:01:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.9ms)
  Rendered products/_product_rating.html.erb (2.5ms)
  Rendered products/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 115ms (Views: 101.9ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:01:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:02:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.8ms)
  Rendered products/_product_rating.html.erb (1.9ms)
  Rendered products/show.html.erb within layouts/application (21.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 98ms (Views: 82.1ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:02:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:03:12 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.6ms)
  Rendered products/_product_rating.html.erb (1.0ms)
  Rendered products/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 99ms (Views: 82.3ms | ActiveRecord: 3.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:03:12 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:03:21 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (10.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:03:21.415523"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (315.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (1.1ms)
Completed 200 OK in 378ms (Views: 21.2ms | ActiveRecord: 327.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:08:03 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.7ms)
  Rendered products/_product_rating.html.erb (422.1ms)
  Rendered products/show.html.erb within layouts/application (432.5ms)
Completed 500 Internal Server Error in 539ms (ActiveRecord: 7.8ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007eff082aa248>:0x00007eff082a83a8>
Did you mean?  @product_on
               product_url
               @product):
    1: <% for i in 1..5 %>
    2:   <% if i<=product_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-on.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816912189400'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816912189400'
app/views/products/show.html.erb:55:in `_app_views_products_show_html_erb___1261531038332270139_69816909387040'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:09:34 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_product_rating.html.erb (402.1ms)
  Rendered products/show.html.erb within layouts/application (415.2ms)
Completed 500 Internal Server Error in 467ms (ActiveRecord: 5.1ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007efefdf468e0>:0x00007efefdf44e50>
Did you mean?  @product_on
               product_url
               @product):
    1: <% for i in 1..5 %>
    2:   <% if i<=product_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-on.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816822108800'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816822108800'
app/views/products/show.html.erb:55:in `_app_views_products_show_html_erb___1261531038332270139_69816823724140'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:10:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.3ms)
  Rendered products/_product_rating.html.erb (451.9ms)
  Rendered products/show.html.erb within layouts/application (462.6ms)
Completed 500 Internal Server Error in 510ms (ActiveRecord: 3.8ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007eff1017bce8>:0x00007eff10179f10>
Did you mean?  product_url
               @product):
    1: <% for i in 1..5 %>
    2:   <% if i<=product_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-on.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816976396420'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816976396420'
app/views/products/show.html.erb:55:in `_app_views_products_show_html_erb___1261531038332270139_69816975926060'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:10:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.1ms)
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
Completed 200 OK in 50ms (Views: 15.0ms | ActiveRecord: 2.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:10:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.0ms)
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:10:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.1ms)
  [1m[36mRating Load (1.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
Completed 200 OK in 12ms (Views: 3.1ms | ActiveRecord: 2.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:11:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.7ms)
  Rendered products/_product_rating.html.erb (377.6ms)
  Rendered products/show.html.erb within layouts/application (388.3ms)
Completed 500 Internal Server Error in 439ms (ActiveRecord: 3.7ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007eff04708820>:0x00007eff046feb68>
Did you mean?  @product_on
               product_url
               @product):
    1: <% for i in 1..5 %>
    2:   <% if i<=product_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-on.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816877696480'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816877696480'
app/views/products/show.html.erb:55:in `_app_views_products_show_html_erb___1261531038332270139_69816878123180'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:11:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.4ms)
  Rendered products/_product_rating.html.erb (6.5ms)
  Rendered products/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 107ms (Views: 94.6ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:11:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:12:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.4ms)
  Rendered products/_product_rating.html.erb (433.7ms)
  Rendered products/show.html.erb within layouts/application (446.1ms)
Completed 500 Internal Server Error in 465ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007eff04708820>:0x00007eff04a2f3f0>
Did you mean?  @product_on
               product_url
               @product):
    1: <% for i in 1..5 %>
    2:   <% if i <= product_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-on.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816880076720'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816880076720'
app/views/products/show.html.erb:55:in `_app_views_products_show_html_erb___1261531038332270139_69816879775460'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:12:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.7ms)
  Rendered products/_product_rating.html.erb (463.1ms)
  Rendered products/show.html.erb within layouts/application (471.0ms)
Completed 500 Internal Server Error in 490ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined local variable or method `p_on' for #<#<Class:0x00007eff04708820>:0x00007eff100e0ea0>):
    1: <% for i in 1..5 %>
    2:   <% if i <= p_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-on.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816976334340'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816976334340'
app/views/products/show.html.erb:55:in `_app_views_products_show_html_erb___1261531038332270139_69816975560160'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:13:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (1.0ms)
  Rendered products/_user_rating.html.erb (12.8ms)
  Rendered products/show.html.erb within layouts/application (19.9ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 94ms (Views: 83.2ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:13:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:13:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (392.7ms)
Completed 500 Internal Server Error in 448ms (ActiveRecord: 6.5ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007eff040a1c98>:0x00007eff04097e28>
Did you mean?  product_url
               @product):
    26:     <div class="col-sm-5 pd-right">
    27:       <h4><i class="fa fa-check" aria-hidden="true" Style="color:green"></i> <%= @product.name %></h4>
    28:       <div class="start" id="product_rating">
    29:         <%= render partial: "product_rating", locals: {product_on: product_on} %>
    30:       </div>
    31:       <div class="gia"><i class="fa fa-money" aria-hidden="true"></i> <%= @product.price %></div>
    32:       <span class="pd_click">
  
app/views/products/show.html.erb:29:in `_app_views_products_show_html_erb___1261531038332270139_69816874767120'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:14:08 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.3ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendered products/show.html.erb within layouts/application (22.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 117ms (Views: 80.7ms | ActiveRecord: 3.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:14:08 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:14:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  Rendering html template
  Rendered html template (0.2ms)
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
Completed 200 OK in 50ms (Views: 2.5ms | ActiveRecord: 3.4ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:14:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.8ms)
  Rendered products/_user_rating.html.erb (3.0ms)
  Rendered products/show.html.erb within layouts/application (13.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 114ms (Views: 74.6ms | ActiveRecord: 3.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:14:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:14:39 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:14:39.862860"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (364.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (0.4ms)
Completed 200 OK in 478ms (Views: 22.4ms | ActiveRecord: 368.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:15:26 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.9ms)
  Rendered products/_user_rating.html.erb (6.9ms)
  Rendered products/show.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 164ms (Views: 93.3ms | ActiveRecord: 6.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:15:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:15:29 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:15:29.974508"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (372.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (0.4ms)
Completed 200 OK in 473ms (Views: 23.4ms | ActiveRecord: 376.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:16:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (9.5ms)
  Rendered products/_user_rating.html.erb (6.2ms)
  Rendered products/show.html.erb within layouts/application (22.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (1.6ms)
Completed 200 OK in 120ms (Views: 105.0ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:16:48 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:16:50 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:16:50.525019"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (326.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (425.2ms)
  Rendered products/rating.js.erb (447.4ms)
Completed 500 Internal Server Error in 833ms (ActiveRecord: 331.6ms)


  
ActionView::Template::Error (undefined local variable or method `product_on' for #<#<Class:0x00007eff14730040>:0x00007efefe4f7000>
Did you mean?  @product_on
               product_url
               @product):
    1: <% for i in 1..5 %>
    2:   <% if i <= product_on %>
    3:     <%= image_tag("rating/star-on.png") %>
    4:   <% else %>
    5:     <%= image_tag("rating/star-off.png") %>
  
app/views/products/_product_rating.html.erb:2:in `block in _app_views_products__product_rating_html_erb___832229839002596745_69816826687260'
app/views/products/_product_rating.html.erb:1:in `_app_views_products__product_rating_html_erb___832229839002596745_69816826687260'
app/views/products/rating.js.erb:1:in `_app_views_products_rating_js_erb__2947880105089423829_69816826707200'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:16:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.1ms)
  Rendered products/_user_rating.html.erb (5.7ms)
  Rendered products/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 87ms (Views: 79.2ms | ActiveRecord: 0.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:16:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:17:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.5ms)
  Rendered products/_user_rating.html.erb (5.9ms)
  Rendered products/show.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 95ms (Views: 83.4ms | ActiveRecord: 1.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:17:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 21:17:33 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:17:33.539271"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (334.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (1.2ms)
Completed 500 Internal Server Error in 412ms (ActiveRecord: 337.3ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:1: syntax error, unexpected ')', expecting '}'
...als: {product_on: @product_on );@output_buffer.safe_append='...
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:4: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
          ^~~~~~
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:6: syntax error, unexpected keyword_end, expecting ')'
          end
          ^~~):
  
app/views/products/rating.js.erb:1: syntax error, unexpected ')', expecting '}'
app/views/products/rating.js.erb:4: syntax error, unexpected keyword_ensure, expecting ')'
app/views/products/rating.js.erb:6: syntax error, unexpected keyword_end, expecting ')'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:18:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (5.6ms)
  Rendered products/show.html.erb within layouts/application (14.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 89ms (Views: 80.4ms | ActiveRecord: 1.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:18:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:18:12 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:18:12.908042"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (331.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/rating.js.erb (28.0ms)
Completed 200 OK in 426ms (Views: 50.2ms | ActiveRecord: 336.2ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:19:04 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.1ms)
  Rendered products/_user_rating.html.erb (2.4ms)
  Rendered products/show.html.erb within layouts/application (17.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.7ms)
Completed 200 OK in 94ms (Views: 82.7ms | ActiveRecord: 1.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:19:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:19:06 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:19:06.608135"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (355.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.9ms)
  Rendered products/rating.js.erb (29.8ms)
Completed 200 OK in 442ms (Views: 49.4ms | ActiveRecord: 360.8ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 21:19:08 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:19:08.761050"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (320.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/rating.js.erb (31.2ms)
Completed 200 OK in 416ms (Views: 57.0ms | ActiveRecord: 325.2ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 21:19:16 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:19:16.406586"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (260.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.8ms)
  Rendered products/rating.js.erb (26.2ms)
Completed 200 OK in 332ms (Views: 45.4ms | ActiveRecord: 263.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:19:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.8ms)
  Rendered products/_user_rating.html.erb (4.1ms)
  Rendered products/show.html.erb within layouts/application (13.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 107ms (Views: 97.2ms | ActiveRecord: 1.5ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:19:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:19:47 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:19:47.172970"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (306.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.5ms)
  Rendered products/rating.js.erb (26.4ms)
Completed 200 OK in 403ms (Views: 51.4ms | ActiveRecord: 311.6ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:19:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.9ms)
  Rendered products/rating.js.erb (24.7ms)
Completed 200 OK in 85ms (Views: 47.1ms | ActiveRecord: 2.5ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:20:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.7ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/show.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 95ms (Views: 84.3ms | ActiveRecord: 1.5ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:20:00 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:20:02 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:20:02.991719"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (356.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.2ms)
  Rendered products/rating.js.erb (30.7ms)
Completed 200 OK in 452ms (Views: 53.8ms | ActiveRecord: 361.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:20:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.8ms)
  Rendered products/_user_rating.html.erb (6.2ms)
  Rendered products/show.html.erb within layouts/application (20.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 108ms (Views: 94.3ms | ActiveRecord: 2.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:20:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:20:26 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:20:26.785329"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (351.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.5ms)
  Rendered products/rating.js.erb (26.5ms)
Completed 200 OK in 436ms (Views: 46.6ms | ActiveRecord: 356.2ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:21:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.1ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 93ms (Views: 80.7ms | ActiveRecord: 2.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:21:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:21:19 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:21:19.491749"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (380.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.1ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (52.0ms)
Completed 200 OK in 498ms (Views: 76.3ms | ActiveRecord: 385.2ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:21:23 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:21:23.678427"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (227.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (5.5ms)
  Rendered products/rating.js.erb (56.8ms)
Completed 200 OK in 338ms (Views: 77.3ms | ActiveRecord: 231.4ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:21:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.3ms)
  Rendered products/_user_rating.html.erb (3.6ms)
  Rendered products/show.html.erb within layouts/application (16.9ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 99ms (Views: 86.3ms | ActiveRecord: 2.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:21:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 21:21:32 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:21:32.193585"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (339.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.1ms)
  Rendered products/_user_rating.html.erb (5.3ms)
  Rendered products/rating.js.erb (53.3ms)
Completed 200 OK in 457ms (Views: 74.8ms | ActiveRecord: 344.1ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D3&point=5" for 127.0.0.1 at 2018-10-04 21:21:33 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:21:33.724435"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (241.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/rating.js.erb (47.6ms)
Completed 200 OK in 361ms (Views: 74.0ms | ActiveRecord: 244.5ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D3%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:21:35 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D3&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:21:35.383185"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (263.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.4ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/rating.js.erb (47.1ms)
Completed 200 OK in 376ms (Views: 69.5ms | ActiveRecord: 267.0ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F4%252526point%25253D3%2526point%253D5%26point%3D1&point=3" for 127.0.0.1 at 2018-10-04 21:21:36 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D3%26point%3D5&point=1", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:21:36.825046"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (243.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.5ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/rating.js.erb (54.8ms)
Completed 200 OK in 358ms (Views: 72.3ms | ActiveRecord: 249.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:23:22 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.1ms)
  Rendered products/_user_rating.html.erb (5.8ms)
  Rendered products/show.html.erb within layouts/application (18.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 97ms (Views: 83.2ms | ActiveRecord: 1.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:23:22 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:23:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.5ms)
  Rendered products/_user_rating.html.erb (6.1ms)
  Rendered products/show.html.erb within layouts/application (22.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 126ms (Views: 108.3ms | ActiveRecord: 3.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:23:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:23:31 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:23:31.243938"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (306.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.8ms)
  Rendered products/_user_rating.html.erb (5.8ms)
  Rendered products/rating.js.erb (51.4ms)
Completed 200 OK in 419ms (Views: 73.7ms | ActiveRecord: 311.3ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:23:33 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:23:33.168860"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (247.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.2ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/rating.js.erb (53.4ms)
Completed 200 OK in 363ms (Views: 78.1ms | ActiveRecord: 251.3ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:24:29 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.9ms)
  Rendered products/_user_rating.html.erb (4.0ms)
  Rendered products/show.html.erb within layouts/application (14.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 107ms (Views: 92.6ms | ActiveRecord: 1.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:24:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:24:31 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:24:31.878473"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (494.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (7.7ms)
  Rendered products/rating.js.erb (54.0ms)
Completed 200 OK in 611ms (Views: 76.3ms | ActiveRecord: 498.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:25:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.7ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/show.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 90ms (Views: 82.1ms | ActiveRecord: 0.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:25:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:25:27 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:25:27.216563"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (375.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/rating.js.erb (52.4ms)
Completed 200 OK in 484ms (Views: 75.0ms | ActiveRecord: 379.3ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:25:28 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:25:28.929335"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (245.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.9ms)
  Rendered products/_user_rating.html.erb (5.6ms)
  Rendered products/rating.js.erb (48.3ms)
Completed 200 OK in 358ms (Views: 73.1ms | ActiveRecord: 250.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:28:54 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.9ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/show.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 105ms (Views: 91.6ms | ActiveRecord: 2.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:28:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:28:58 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:28:58.016994"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (334.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.2ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendering html template
  Rendered html template (0.0ms)
  Rendered products/rating.js.erb (59.2ms)
Completed 200 OK in 460ms (Views: 80.6ms | ActiveRecord: 339.2ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:29:02 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:29:02.589700"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (241.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendering html template
  Rendered html template (0.2ms)
  Rendered products/rating.js.erb (45.9ms)
Completed 200 OK in 353ms (Views: 66.6ms | ActiveRecord: 246.5ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:29:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.6ms)
  Rendered products/_user_rating.html.erb (2.5ms)
  Rendered products/show.html.erb within layouts/application (17.4ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 101ms (Views: 87.4ms | ActiveRecord: 2.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:29:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:29:42 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:29:42.050350"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (341.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (1.3ms)
Completed 500 Internal Server Error in 404ms (ActiveRecord: 345.5ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:3: syntax error, unexpected $undefined
...uffer.append=( j render html: \"Cảm ơn bạn đã đánh ...
...                              ^):
  
app/views/products/rating.js.erb:3: syntax error, unexpected $undefined
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:29:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.8ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 98ms (Views: 84.7ms | ActiveRecord: 2.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:29:56 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:29:58 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:29:58.615326"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (410.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/rating.js.erb (1.0ms)
Completed 500 Internal Server Error in 477ms (ActiveRecord: 414.3ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:3: syntax error, unexpected $undefined
...uffer.append=( j render html: \"Cảm ơn bạn đã đánh ...
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:8: unterminated string meets end of file
          end
             ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/rating.js.erb:8: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/products/rating.js.erb:3: syntax error, unexpected $undefined
app/views/products/rating.js.erb:8: unterminated string meets end of file
app/views/products/rating.js.erb:8: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:30:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 101ms (Views: 88.8ms | ActiveRecord: 1.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:30:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:30:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (2.9ms)
  Rendered products/show.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 102ms (Views: 90.3ms | ActiveRecord: 2.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:30:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 21:30:20 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:30:20.171662"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (315.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (6.9ms)
  Rendered products/rating.js.erb (55.3ms)
Completed 200 OK in 431ms (Views: 80.1ms | ActiveRecord: 320.4ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:30:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.3ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (17.2ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 110ms (Views: 96.6ms | ActiveRecord: 1.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:30:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:30:38 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:30:38.704998"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (330.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.8ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/rating.js.erb (50.6ms)
Completed 200 OK in 439ms (Views: 71.8ms | ActiveRecord: 334.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:30:53 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (4.0ms)
  Rendered products/show.html.erb within layouts/application (18.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 102ms (Views: 86.9ms | ActiveRecord: 2.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:30:53 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:30:56 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:30:56.114838"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (344.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (9.1ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/rating.js.erb (54.5ms)
Completed 200 OK in 465ms (Views: 77.6ms | ActiveRecord: 351.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:31:01 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (3.7ms)
  Rendered products/show.html.erb within layouts/application (17.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 107ms (Views: 88.5ms | ActiveRecord: 2.7ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:31:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:31:03 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:31:04.011849"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (341.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.0ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/rating.js.erb (48.8ms)
Completed 200 OK in 450ms (Views: 68.1ms | ActiveRecord: 346.5ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:31:19 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.6ms)
  Rendered products/_user_rating.html.erb (5.3ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 98ms (Views: 86.7ms | ActiveRecord: 1.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:31:20 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:31:21 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:31:21.770510"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (321.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (51.6ms)
Completed 200 OK in 449ms (Views: 73.6ms | ActiveRecord: 329.1ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 21:31:23 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:31:23.106613"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (249.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.8ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/rating.js.erb (58.0ms)
Completed 200 OK in 372ms (Views: 84.6ms | ActiveRecord: 254.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:32:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.0ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/show.html.erb within layouts/application (16.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 96ms (Views: 81.6ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:32:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:32:09 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:32:09.377554"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (225.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.8ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendered products/rating.js.erb (60.0ms)
Completed 200 OK in 353ms (Views: 82.3ms | ActiveRecord: 230.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:32:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.2ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/show.html.erb within layouts/application (19.2ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 98ms (Views: 84.5ms | ActiveRecord: 2.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:32:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:33:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (5.0ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 94ms (Views: 82.4ms | ActiveRecord: 2.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:33:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:33:20 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:33:20.156991"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (319.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.4ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/rating.js.erb (54.8ms)
Completed 200 OK in 441ms (Views: 80.7ms | ActiveRecord: 323.2ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:34:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.9ms)
  Rendered products/_user_rating.html.erb (3.6ms)
  Rendered products/show.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 105ms (Views: 91.1ms | ActiveRecord: 1.8ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:34:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:34:27 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:34:27.691522"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (225.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.6ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/rating.js.erb (43.3ms)
Completed 200 OK in 333ms (Views: 67.7ms | ActiveRecord: 230.7ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:34:30 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendered products/show.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 114ms (Views: 103.5ms | ActiveRecord: 1.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:34:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:34:35 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/show.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 103ms (Views: 88.3ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:34:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:34:37 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:34:37.846812"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (311.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.4ms)
  Rendered products/_user_rating.html.erb (4.2ms)
  Rendered products/rating.js.erb (52.8ms)
Completed 200 OK in 432ms (Views: 79.0ms | ActiveRecord: 315.8ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D2&point=4" for 127.0.0.1 at 2018-10-04 21:34:40 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:34:40.875573"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (247.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (6.6ms)
  Rendered products/rating.js.erb (53.6ms)
Completed 200 OK in 364ms (Views: 77.5ms | ActiveRecord: 253.0ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D2%26point%3D4&point=5" for 127.0.0.1 at 2018-10-04 21:34:42 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D2&point=4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:34:42.393893"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (243.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (2.6ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/rating.js.erb (51.1ms)
Completed 200 OK in 358ms (Views: 69.2ms | ActiveRecord: 251.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:35:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.6ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/show.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 98ms (Views: 82.0ms | ActiveRecord: 2.2ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:35:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=2" for 127.0.0.1 at 2018-10-04 21:36:01 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:36:01.405360"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (325.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.4ms)
  Rendered products/_user_rating.html.erb (8.5ms)
  Rendered products/rating.js.erb (52.0ms)
Completed 200 OK in 444ms (Views: 72.9ms | ActiveRecord: 331.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:36:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.2ms)
  Rendered products/_user_rating.html.erb (6.4ms)
  Rendered products/show.html.erb within layouts/application (19.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 123ms (Views: 107.5ms | ActiveRecord: 3.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:36:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:36:13 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:36:13.731804"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (335.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.3ms)
  Rendered products/_user_rating.html.erb (7.2ms)
  Rendered products/rating.js.erb (55.1ms)
Completed 200 OK in 445ms (Views: 77.1ms | ActiveRecord: 339.6ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D4&point=3" for 127.0.0.1 at 2018-10-04 21:37:03 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:37:03.039905"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (245.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.0ms)
  Rendered products/_user_rating.html.erb (3.7ms)
  Rendered products/rating.js.erb (46.2ms)
Completed 200 OK in 361ms (Views: 69.6ms | ActiveRecord: 253.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:37:44 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.3ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/show.html.erb within layouts/application (19.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 519ms (Views: 500.1ms | ActiveRecord: 4.0ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:37:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 21:37:47 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:37:47.250494"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (444.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.2ms)
  Rendered products/_user_rating.html.erb (5.5ms)
  Rendered products/rating.js.erb (51.2ms)
Completed 200 OK in 565ms (Views: 74.3ms | ActiveRecord: 452.2ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:37:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (5.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:37:49.433895"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (247.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.8ms)
  Rendered products/_user_rating.html.erb (4.6ms)
  Rendered products/rating.js.erb (46.6ms)
Completed 200 OK in 364ms (Views: 72.3ms | ActiveRecord: 256.4ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D5%26point%3D1&point=2" for 127.0.0.1 at 2018-10-04 21:37:51 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=1", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:37:51.164488"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (241.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.7ms)
  Rendered products/_user_rating.html.erb (4.1ms)
  Rendered products/rating.js.erb (54.4ms)
Completed 200 OK in 362ms (Views: 72.4ms | ActiveRecord: 247.6ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F4%252526point%25253D5%2526point%253D1%26point%3D2&point=4" for 127.0.0.1 at 2018-10-04 21:37:52 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D5%26point%3D1&point=2", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:37:52.169458"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (264.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (11.4ms)
  Rendered products/_user_rating.html.erb (3.0ms)
  Rendered products/rating.js.erb (57.5ms)
Completed 200 OK in 395ms (Views: 83.5ms | ActiveRecord: 269.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:38:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (9.1ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendered products/show.html.erb within layouts/application (20.3ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 254ms (Views: 242.0ms | ActiveRecord: 1.4ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:38:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 21:38:42 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:38:42.944574"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (466.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.6ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/rating.js.erb (61.2ms)
Completed 200 OK in 595ms (Views: 85.4ms | ActiveRecord: 471.6ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D3&point=5" for 127.0.0.1 at 2018-10-04 21:38:44 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:38:44.557850"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (247.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.7ms)
  Rendered products/_user_rating.html.erb (2.7ms)
  Rendered products/rating.js.erb (53.1ms)
Completed 200 OK in 367ms (Views: 77.3ms | ActiveRecord: 252.0ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D3%26point%3D5&point=2" for 127.0.0.1 at 2018-10-04 21:38:45 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D3&point=5", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:38:45.979981"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (252.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (11.0ms)
  Rendered products/_user_rating.html.erb (4.1ms)
  Rendered products/rating.js.erb (61.3ms)
Completed 200 OK in 386ms (Views: 85.7ms | ActiveRecord: 260.2ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F4%252526point%25253D3%2526point%253D5%26point%3D2&point=5" for 127.0.0.1 at 2018-10-04 21:38:47 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D3%26point%3D5&point=2", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:38:47.498738"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (260.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (5.5ms)
  Rendered products/rating.js.erb (55.2ms)
Completed 200 OK in 382ms (Views: 80.6ms | ActiveRecord: 263.7ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F4%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F4%25252526point%2525253D3%252526point%25253D5%2526point%253D2%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:38:48 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F4%252526point%25253D3%2526point%253D5%26point%3D2&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:38:48.923259"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (273.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.9ms)
  Rendered products/_user_rating.html.erb (5.0ms)
  Rendered products/rating.js.erb (61.2ms)
Completed 200 OK in 410ms (Views: 88.0ms | ActiveRecord: 280.0ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F4%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproduct_rating%252525252F4%252525253Fold%252525253Dhttp%25252525253A%25252525252F%25252525252Flocalhost%25252525253A3000%25252525252Fproducts%25252525252F4%2525252526point%252525253D3%25252526point%2525253D5%252526point%25253D2%2526point%253D5%26point%3D1&point=2" for 127.0.0.1 at 2018-10-04 21:38:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F4%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F4%25252526point%2525253D3%252526point%25253D5%2526point%253D2%26point%3D5&point=1", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:38:49.926146"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (242.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.5ms)
  Rendered products/_user_rating.html.erb (6.4ms)
  Rendered products/rating.js.erb (54.8ms)
Completed 200 OK in 365ms (Views: 79.9ms | ActiveRecord: 247.4ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:39:03 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (9.8ms)
  Rendered products/_user_rating.html.erb (5.0ms)
  Rendered products/show.html.erb within layouts/application (21.9ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 110ms (Views: 103.4ms | ActiveRecord: 0.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:39:03 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:39:05 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:39:05.417766"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (372.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.5ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/rating.js.erb (48.5ms)
Completed 200 OK in 490ms (Views: 72.0ms | ActiveRecord: 377.1ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D4&point=5" for 127.0.0.1 at 2018-10-04 21:39:06 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:39:06.521899"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (271.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.4ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/rating.js.erb (55.7ms)
Completed 200 OK in 413ms (Views: 92.2ms | ActiveRecord: 275.8ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:40:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.6ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 275ms (Views: 260.8ms | ActiveRecord: 2.1ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:40:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-04 21:40:41 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:40:41.040111"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (437.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.9ms)
  Rendered products/_user_rating.html.erb (6.6ms)
  Rendered products/rating.js.erb (53.7ms)
Completed 200 OK in 562ms (Views: 75.9ms | ActiveRecord: 444.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:40:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (3.7ms)
  Rendered products/show.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 262ms (Views: 247.7ms | ActiveRecord: 1.9ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:40:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3" for 127.0.0.1 at 2018-10-04 21:40:52 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:40:52.663816"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (461.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/rating.js.erb (52.6ms)
Completed 200 OK in 579ms (Views: 77.0ms | ActiveRecord: 466.8ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D3&point=3" for 127.0.0.1 at 2018-10-04 21:40:58 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=3", "point"=>"3", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.0ms)
  Rendered products/_user_rating.html.erb (5.6ms)
  Rendered products/rating.js.erb (53.9ms)
Completed 200 OK in 111ms (Views: 74.4ms | ActiveRecord: 2.9ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D3%26point%3D3&point=4" for 127.0.0.1 at 2018-10-04 21:41:00 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D3&point=3", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:41:00.247757"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (278.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.5ms)
  Rendered products/_user_rating.html.erb (5.7ms)
  Rendered products/rating.js.erb (53.4ms)
Completed 200 OK in 396ms (Views: 76.2ms | ActiveRecord: 281.9ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F4%252526point%25253D3%2526point%253D3%26point%3D4&point=5" for 127.0.0.1 at 2018-10-04 21:41:01 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D3%26point%3D3&point=4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:41:01.376553"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (273.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_user_rating.html.erb (5.5ms)
  Rendered products/rating.js.erb (55.9ms)
Completed 200 OK in 392ms (Views: 77.8ms | ActiveRecord: 278.7ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F4%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F4%25252526point%2525253D3%252526point%25253D3%2526point%253D4%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:41:02 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F4%252526point%25253D3%2526point%253D3%26point%3D4&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:41:02.895054"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (249.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (5.7ms)
  Rendered products/rating.js.erb (49.7ms)
Completed 200 OK in 360ms (Views: 71.6ms | ActiveRecord: 253.7ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F4%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproduct_rating%252525252F4%252525253Fold%252525253Dhttp%25252525253A%25252525252F%25252525252Flocalhost%25252525253A3000%25252525252Fproducts%25252525252F4%2525252526point%252525253D3%25252526point%2525253D3%252526point%25253D4%2526point%253D5%26point%3D1&point=5" for 127.0.0.1 at 2018-10-04 21:41:10 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F4%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F4%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F4%25252526point%2525253D3%252526point%25253D3%2526point%253D4%26point%3D5&point=1", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:41:10.850849"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (250.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (7.8ms)
  Rendered products/rating.js.erb (55.2ms)
Completed 200 OK in 370ms (Views: 78.3ms | ActiveRecord: 255.1ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-04 21:41:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.7ms)
  Rendered products/_user_rating.html.erb (2.5ms)
  Rendered products/show.html.erb within layouts/application (14.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 103ms (Views: 88.8ms | ActiveRecord: 2.6ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:41:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=1" for 127.0.0.1 at 2018-10-04 21:41:15 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:41:15.828806"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (312.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.5ms)
  Rendered products/_user_rating.html.erb (5.8ms)
  Rendered products/rating.js.erb (60.9ms)
Completed 200 OK in 439ms (Views: 86.8ms | ActiveRecord: 317.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 21:41:20 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (8.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (43.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 129ms (Views: 105.3ms | ActiveRecord: 9.0ms)


Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 21:41:20 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-04 21:41:22 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.8ms)
  Rendered products/_user_rating.html.erb (5.7ms)
  Rendered products/show.html.erb within layouts/application (20.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 112ms (Views: 98.9ms | ActiveRecord: 1.9ms)


Started GET "/products/product/8.jpg" for 127.0.0.1 at 2018-10-04 21:41:22 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-04 21:41:24 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (9.0ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (54.5ms)
Completed 200 OK in 117ms (Views: 80.2ms | ActiveRecord: 3.0ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:41:26 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (4.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:41:27.007911"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (348.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/rating.js.erb (48.4ms)
Completed 200 OK in 454ms (Views: 68.5ms | ActiveRecord: 354.5ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D5%26point%3D1&point=2" for 127.0.0.1 at 2018-10-04 21:41:29 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D5&point=1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:41:29.250984"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (271.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (17.8ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/rating.js.erb (64.5ms)
Completed 200 OK in 406ms (Views: 85.5ms | ActiveRecord: 277.1ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F1%252526point%25253D5%2526point%253D1%26point%3D2&point=3" for 127.0.0.1 at 2018-10-04 21:41:31 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D5%26point%3D1&point=2", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:41:31.791612"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (248.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (4.0ms)
  Rendered products/rating.js.erb (55.0ms)
Completed 200 OK in 369ms (Views: 76.8ms | ActiveRecord: 251.6ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F1%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F1%25252526point%2525253D5%252526point%25253D1%2526point%253D2%26point%3D3&point=5" for 127.0.0.1 at 2018-10-04 21:41:33 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F1%252526point%25253D5%2526point%253D1%26point%3D2&point=3", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:41:33.482995"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (261.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_user_rating.html.erb (5.0ms)
  Rendered products/rating.js.erb (53.9ms)
Completed 200 OK in 375ms (Views: 77.9ms | ActiveRecord: 263.9ms)


Started GET "/product/8.jpg" for 127.0.0.1 at 2018-10-04 21:41:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/8.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/2" for 127.0.0.1 at 2018-10-04 21:41:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.2ms)
  Rendered products/_user_rating.html.erb (5.0ms)
  Rendered products/show.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 114ms (Views: 100.8ms | ActiveRecord: 1.6ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-04 21:41:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F2&point=5" for 127.0.0.1 at 2018-10-04 21:41:40 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/2", "point"=>"5", "id"=>"2"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Create (2.4ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 2], ["rating", 5], ["created_at", "2018-10-04 14:41:40.201327"], ["updated_at", "2018-10-04 14:41:40.201327"]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (214.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (3.0ms)
  Rendered products/rating.js.erb (53.0ms)
Completed 200 OK in 351ms (Views: 75.9ms | ActiveRecord: 220.5ms)


Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F2%26point%3D5&point=4" for 127.0.0.1 at 2018-10-04 21:41:42 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F2&point=5", "point"=>"4", "id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:41:42.924976"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (255.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.4ms)
  Rendered products/_user_rating.html.erb (5.1ms)
  Rendered products/rating.js.erb (52.1ms)
Completed 200 OK in 379ms (Views: 80.0ms | ActiveRecord: 261.8ms)


Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F2%2526point%253D5%26point%3D4&point=1" for 127.0.0.1 at 2018-10-04 21:41:45 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F2%26point%3D5&point=4", "point"=>"1", "id"=>"2"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:41:45.261698"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (248.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.5ms)
  Rendered products/_user_rating.html.erb (5.6ms)
  Rendered products/rating.js.erb (58.9ms)
Completed 200 OK in 368ms (Views: 83.9ms | ActiveRecord: 252.5ms)


Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F2%252526point%25253D5%2526point%253D4%26point%3D1&point=2" for 127.0.0.1 at 2018-10-04 21:41:46 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F2%2526point%253D5%26point%3D4&point=1", "point"=>"2", "id"=>"2"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-04 14:41:46.997233"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (264.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.2ms)
  Rendered products/_user_rating.html.erb (7.1ms)
  Rendered products/rating.js.erb (49.8ms)
Completed 200 OK in 376ms (Views: 74.9ms | ActiveRecord: 269.1ms)


Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F2%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F2%25252526point%2525253D5%252526point%25253D4%2526point%253D1%26point%3D2&point=3" for 127.0.0.1 at 2018-10-04 21:41:48 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F2%252526point%25253D5%2526point%253D4%26point%3D1&point=2", "point"=>"3", "id"=>"2"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:41:48.795937"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (262.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.9ms)
  Rendered products/_user_rating.html.erb (5.4ms)
  Rendered products/rating.js.erb (54.2ms)
Completed 200 OK in 379ms (Views: 78.3ms | ActiveRecord: 266.3ms)


Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F2%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproduct_rating%252525252F2%252525253Fold%252525253Dhttp%25252525253A%25252525252F%25252525252Flocalhost%25252525253A3000%25252525252Fproducts%25252525252F2%2525252526point%252525253D5%25252526point%2525253D4%252526point%25253D1%2526point%253D2%26point%3D3&point=4" for 127.0.0.1 at 2018-10-04 21:41:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F2%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F2%25252526point%2525253D5%252526point%25253D4%2526point%253D1%26point%3D2&point=3", "point"=>"4", "id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-04 14:41:49.598468"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (249.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.3ms)
  Rendered products/_user_rating.html.erb (5.2ms)
  Rendered products/rating.js.erb (57.1ms)
Completed 200 OK in 370ms (Views: 79.3ms | ActiveRecord: 254.1ms)


Started POST "/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F2%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproduct_rating%252525252F2%252525253Fold%252525253Dhttp%25252525253A%25252525252F%25252525252Flocalhost%25252525253A3000%25252525252Fproduct_rating%25252525252F2%25252525253Fold%25252525253Dhttp%2525252525253A%2525252525252F%2525252525252Flocalhost%2525252525253A3000%2525252525252Fproducts%2525252525252F2%252525252526point%25252525253D5%2525252526point%252525253D4%25252526point%2525253D1%252526point%25253D2%2526point%253D3%26point%3D4&point=5" for 127.0.0.1 at 2018-10-04 21:41:50 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/2?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F2%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F2%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F2%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F2%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproduct_rating%252525252F2%252525253Fold%252525253Dhttp%25252525253A%25252525252F%25252525252Flocalhost%25252525253A3000%25252525252Fproducts%25252525252F2%2525252526point%252525253D5%25252526point%2525253D4%252526point%25253D1%2526point%253D2%26point%3D3&point=4", "point"=>"5", "id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 2], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (3.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:41:50.751523"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (332.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 2]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 2)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (4.1ms)
  Rendered products/rating.js.erb (51.5ms)
Completed 200 OK in 446ms (Views: 75.7ms | ActiveRecord: 337.9ms)


Started GET "/product/6.jpg" for 127.0.0.1 at 2018-10-04 21:41:53 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-04 21:41:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (4.1ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 116ms (Views: 106.9ms | ActiveRecord: 1.3ms)


Started GET "/products/product/3.jpg" for 127.0.0.1 at 2018-10-04 21:41:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/3.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5" for 127.0.0.1 at 2018-10-04 21:41:57 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/3", "point"=>"5", "id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:21
  [1m[36mRating Create (3.1ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 3], ["rating", 5], ["created_at", "2018-10-04 14:41:57.426423"], ["updated_at", "2018-10-04 14:41:57.426423"]]
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (312.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:21
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.4ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/rating.js.erb (53.3ms)
Completed 200 OK in 436ms (Views: 79.0ms | ActiveRecord: 317.5ms)


Started GET "/products/3" for 127.0.0.1 at 2018-10-04 21:42:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.3ms)
  Rendered products/_user_rating.html.erb (4.2ms)
  Rendered products/show.html.erb within layouts/application (17.2ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 242ms (Views: 226.1ms | ActiveRecord: 1.9ms)


Started GET "/products/product/3.jpg" for 127.0.0.1 at 2018-10-04 21:42:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/3.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=3" for 127.0.0.1 at 2018-10-04 21:42:30 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/3", "point"=>"3", "id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:42:30.666906"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (464.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (6.2ms)
  Rendered products/rating.js.erb (59.2ms)
Completed 200 OK in 593ms (Views: 82.7ms | ActiveRecord: 469.0ms)


Started GET "/products/3" for 127.0.0.1 at 2018-10-04 21:42:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.9ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/show.html.erb within layouts/application (16.5ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 96ms (Views: 87.6ms | ActiveRecord: 0.9ms)


Started GET "/products/product/3.jpg" for 127.0.0.1 at 2018-10-04 21:42:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/3.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5" for 127.0.0.1 at 2018-10-04 21:42:34 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/3", "point"=>"5", "id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:42:34.092272"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (306.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.0ms)
  Rendered products/_user_rating.html.erb (4.2ms)
  Rendered products/rating.js.erb (52.7ms)
Completed 200 OK in 430ms (Views: 77.5ms | ActiveRecord: 312.3ms)


Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F3%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F3%26point%3D5&point=1" for 127.0.0.1 at 2018-10-04 21:42:35 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5", "point"=>"1", "id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-04 14:42:35.485350"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (256.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.2ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/rating.js.erb (54.3ms)
Completed 200 OK in 381ms (Views: 74.5ms | ActiveRecord: 261.9ms)


Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F3%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F3%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F3%2526point%253D5%26point%3D1&point=3" for 127.0.0.1 at 2018-10-04 21:42:36 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F3%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F3%26point%3D5&point=1", "point"=>"3", "id"=>"3"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-04 14:42:36.559134"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (256.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.4ms)
  Rendered products/_user_rating.html.erb (2.9ms)
  Rendered products/rating.js.erb (56.2ms)
Completed 200 OK in 383ms (Views: 85.7ms | ActiveRecord: 261.4ms)


Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F3%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F3%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F3%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F3%252526point%25253D5%2526point%253D1%26point%3D3&point=5" for 127.0.0.1 at 2018-10-04 21:42:37 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F3%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F3%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F3%2526point%253D5%26point%3D1&point=3", "point"=>"5", "id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (2.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 14:42:37.715520"], ["id", 7]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (253.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (3.5ms)
  Rendered products/rating.js.erb (52.3ms)
Completed 200 OK in 364ms (Views: 70.7ms | ActiveRecord: 258.6ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 21:42:41 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (26.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 108ms (Views: 100.1ms | ActiveRecord: 1.6ms)


Started GET "/product/3.jpg" for 127.0.0.1 at 2018-10-04 21:42:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/3.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-04 22:04:05 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.4ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendered products/show.html.erb within layouts/application (18.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 113ms (Views: 98.0ms | ActiveRecord: 5.3ms)


Started GET "/products/product/2.jpg" for 127.0.0.1 at 2018-10-04 22:04:05 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-04 22:04:08 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:33
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:17
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:24
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-04 15:04:08.356217"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (405.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:12
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.6ms)
  Rendered products/_user_rating.html.erb (5.9ms)
  Rendered products/rating.js.erb (53.5ms)
Completed 200 OK in 522ms (Views: 77.1ms | ActiveRecord: 408.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 22:04:19 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
Started GET "/product/2.jpg" for 127.0.0.1 at 2018-10-04 22:04:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/2.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  Rendered static_pages/home.html.erb within layouts/application (51.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 237ms (Views: 229.2ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:40:53 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (11.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (8.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (1012.0ms)
  Rendered layouts/_header.html.erb (5.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 3034ms (Views: 2896.4ms | ActiveRecord: 22.6ms)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:70
  [1m[36mUser Exists (14.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:70
  [1m[36mUser Create (29.0ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-06 13:41:47.261782"], ["updated_at", "2018-10-06 13:41:47.261782"], ["password_digest", "$2a$10$QVTj4VllkLbhbVM6A8rte.zBY6mJxsU1CvWPJZYxGRvcc2bj6mGSm"]]
  ↳ db/seeds.rb:70
  [1m[35m (296.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:70
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:78
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:78
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-06 13:41:47.673422"], ["updated_at", "2018-10-06 13:41:47.673422"], ["password_digest", "$2a$10$Eh8cWAedfzsDtzuVhupbHeFqXqaxQuwDHkwJKJvFVC3TrbPHKxRZu"]]
  ↳ db/seeds.rb:78
  [1m[35m (209.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:78
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 1"], ["description", "none"], ["image", "product/5.jpg"], ["quantity", 5], ["price", 5.0], ["created_at", "2018-10-06 13:41:47.927856"], ["updated_at", "2018-10-06 13:41:47.927856"]]
  ↳ db/seeds.rb:88
  [1m[35m (229.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 2"], ["description", "none"], ["image", "product/3.jpg"], ["quantity", 3], ["price", 3.0], ["created_at", "2018-10-06 13:41:48.163164"], ["updated_at", "2018-10-06 13:41:48.163164"]]
  ↳ db/seeds.rb:88
  [1m[35m (282.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (2.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 3"], ["description", "none"], ["image", "product/6.jpg"], ["quantity", 6], ["price", 6.0], ["created_at", "2018-10-06 13:41:48.458676"], ["updated_at", "2018-10-06 13:41:48.458676"]]
  ↳ db/seeds.rb:88
  [1m[35m (206.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:88
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "sp 4"], ["LIMIT", 1]]
  ↳ db/seeds.rb:88
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "sp 4"], ["description", "none"], ["image", "product/7.jpg"], ["quantity", 7], ["price", 7.0], ["created_at", "2018-10-06 13:41:48.675263"], ["updated_at", "2018-10-06 13:41:48.675263"]]
  ↳ db/seeds.rb:88
  [1m[35m (227.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:88
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:95
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:95
  [1m[36mRating Create (17.6ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 1], ["rating", 1], ["created_at", "2018-10-06 13:41:49.007834"], ["updated_at", "2018-10-06 13:41:49.007834"]]
  ↳ db/seeds.rb:95
  [1m[35m (216.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:95
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:96
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:96
  [1m[36mRating Create (2.3ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 1], ["rating", 1], ["created_at", "2018-10-06 13:41:49.249773"], ["updated_at", "2018-10-06 13:41:49.249773"]]
  ↳ db/seeds.rb:96
  [1m[35m (226.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:96
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:97
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:97
  [1m[36mRating Create (1.4ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 2], ["rating", 2], ["created_at", "2018-10-06 13:41:49.487142"], ["updated_at", "2018-10-06 13:41:49.487142"]]
  ↳ db/seeds.rb:97
  [1m[35m (242.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:97
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:98
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ db/seeds.rb:98
  [1m[36mRating Create (1.1ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["product_id", 3], ["rating", 3], ["created_at", "2018-10-06 13:41:49.738477"], ["updated_at", "2018-10-06 13:41:49.738477"]]
  ↳ db/seeds.rb:98
  [1m[35m (221.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:98
Started GET "/" for 127.0.0.1 at 2018-10-06 20:41:53 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 111ms (Views: 68.5ms | ActiveRecord: 1.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 20:41:58 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 111ms (Views: 79.9ms | ActiveRecord: 3.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 20:41:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 20:42:01 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 13:42:01.914776"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (449.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.4ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (43.9ms)
Completed 200 OK in 616ms (Views: 65.3ms | ActiveRecord: 456.2ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D5&point=2" for 127.0.0.1 at 2018-10-06 20:42:04 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-06 13:42:04.178388"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (280.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.1ms)
  Rendered products/_user_rating.html.erb (6.5ms)
  Rendered products/rating.js.erb (48.0ms)
Completed 200 OK in 391ms (Views: 70.0ms | ActiveRecord: 284.0ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D5%26point%3D2&point=4" for 127.0.0.1 at 2018-10-06 20:42:06 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D5&point=2", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 13:42:06.146111"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (275.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.4ms)
  Rendered products/_user_rating.html.erb (4.6ms)
  Rendered products/rating.js.erb (53.8ms)
Completed 200 OK in 393ms (Views: 72.3ms | ActiveRecord: 280.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 20:42:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.6ms)
  Rendered products/_user_rating.html.erb (2.9ms)
  Rendered products/show.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 74ms (Views: 58.3ms | ActiveRecord: 2.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 20:42:08 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 20:42:09 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (4.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 13:42:09.649939"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (291.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.2ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/rating.js.erb (51.7ms)
Completed 200 OK in 405ms (Views: 71.7ms | ActiveRecord: 298.4ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D5&point=1" for 127.0.0.1 at 2018-10-06 20:42:11 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (2.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 13:42:11.125996"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (278.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.3ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/rating.js.erb (40.0ms)
Completed 200 OK in 380ms (Views: 62.2ms | ActiveRecord: 283.0ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D5%26point%3D1&point=3" for 127.0.0.1 at 2018-10-06 20:42:13 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D5&point=1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-06 13:42:13.074800"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (261.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (2.9ms)
  Rendered products/_user_rating.html.erb (2.4ms)
  Rendered products/rating.js.erb (41.6ms)
Completed 200 OK in 364ms (Views: 66.0ms | ActiveRecord: 265.0ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F1%252526point%25253D5%2526point%253D1%26point%3D3&point=5" for 127.0.0.1 at 2018-10-06 20:42:14 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D5%26point%3D1&point=3", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 13:42:14.400343"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (238.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.1ms)
  Rendered products/_user_rating.html.erb (3.6ms)
  Rendered products/rating.js.erb (48.4ms)
Completed 200 OK in 352ms (Views: 69.5ms | ActiveRecord: 243.1ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F1%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F1%25252526point%2525253D5%252526point%25253D1%2526point%253D3%26point%3D5&point=1" for 127.0.0.1 at 2018-10-06 20:42:16 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F1%252526point%25253D5%2526point%253D1%26point%3D3&point=5", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 13:42:16.558075"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (278.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.6ms)
  Rendered products/_user_rating.html.erb (6.0ms)
  Rendered products/rating.js.erb (47.0ms)
Completed 200 OK in 396ms (Views: 71.0ms | ActiveRecord: 284.6ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F1%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproduct_rating%252525252F1%252525253Fold%252525253Dhttp%25252525253A%25252525252F%25252525252Flocalhost%25252525253A3000%25252525252Fproducts%25252525252F1%2525252526point%252525253D5%25252526point%2525253D1%252526point%25253D3%2526point%253D5%26point%3D1&point=5" for 127.0.0.1 at 2018-10-06 20:42:17 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproduct_rating%2525252F1%2525253Fold%2525253Dhttp%252525253A%252525252F%252525252Flocalhost%252525253A3000%252525252Fproducts%252525252F1%25252526point%2525253D5%252526point%25253D1%2526point%253D3%26point%3D5&point=1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (2.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 13:42:17.962740"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (266.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (5.4ms)
  Rendered products/rating.js.erb (54.1ms)
Completed 200 OK in 383ms (Views: 75.5ms | ActiveRecord: 272.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:42:32 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (18.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 91ms (Views: 83.0ms | ActiveRecord: 0.9ms)


Started GET "/product/5.jpg" for 127.0.0.1 at 2018-10-06 20:42:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/cart.html" for 127.0.0.1 at 2018-10-06 20:42:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/cart.html"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-06 20:42:45 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (18.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 79ms (Views: 72.7ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:43:11 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.3ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 231ms (Views: 192.1ms | ActiveRecord: 6.6ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:43:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.6ms)
  Rendered products/_user_rating.html.erb (5.1ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 91ms (Views: 78.4ms | ActiveRecord: 1.6ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:43:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-06 20:43:16 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Create (1.5ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 4], ["rating", 5], ["created_at", "2018-10-06 13:43:16.070734"], ["updated_at", "2018-10-06 13:43:16.070734"]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (234.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.5ms)
  Rendered products/_user_rating.html.erb (3.5ms)
  Rendered products/rating.js.erb (51.0ms)
Completed 200 OK in 383ms (Views: 72.4ms | ActiveRecord: 240.4ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=1" for 127.0.0.1 at 2018-10-06 20:43:19 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (2.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 13:43:19.076286"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (286.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.9ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/rating.js.erb (50.0ms)
Completed 200 OK in 404ms (Views: 72.6ms | ActiveRecord: 291.2ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:43:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.5ms)
  Rendered products/_user_rating.html.erb (4.5ms)
  Rendered products/show.html.erb within layouts/application (14.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 76ms (Views: 64.7ms | ActiveRecord: 2.0ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:43:20 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:43:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (12.1ms)
  Rendered products/_user_rating.html.erb (6.3ms)
  Rendered products/show.html.erb within layouts/application (24.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 118ms (Views: 102.8ms | ActiveRecord: 3.2ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:43:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:43:37 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/show.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 79ms (Views: 67.0ms | ActiveRecord: 1.6ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:43:37 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=4" for 127.0.0.1 at 2018-10-06 20:43:39 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 13:43:39.591108"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (350.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.5ms)
  Rendered products/_user_rating.html.erb (5.1ms)
  Rendered products/rating.js.erb (48.0ms)
Completed 200 OK in 465ms (Views: 70.5ms | ActiveRecord: 354.9ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:43:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.1ms)
  Rendered products/_user_rating.html.erb (6.2ms)
  Rendered products/show.html.erb within layouts/application (19.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 86ms (Views: 78.1ms | ActiveRecord: 1.1ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:43:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:44:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.8ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/show.html.erb within layouts/application (16.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 68.7ms | ActiveRecord: 2.0ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:44:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-06 20:44:10 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.4ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/show.html.erb within layouts/application (26.0ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 96ms (Views: 84.3ms | ActiveRecord: 1.7ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-06 20:44:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-06 20:45:21 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.1ms)
  Rendered products/_user_rating.html.erb (4.9ms)
  Rendered products/show.html.erb within layouts/application (132.9ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 250ms (Views: 188.4ms | ActiveRecord: 5.0ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-06 20:45:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/3?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F3&point=5" for 127.0.0.1 at 2018-10-06 20:45:24 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/3", "point"=>"5", "id"=>"3"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 3], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:20
  [1m[36mRating Create (1.5ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["product_id", 3], ["rating", 5], ["created_at", "2018-10-06 13:45:24.526457"], ["updated_at", "2018-10-06 13:45:24.526457"]]
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (353.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:20
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.8ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (48.6ms)
Completed 200 OK in 493ms (Views: 70.4ms | ActiveRecord: 359.2ms)


Started GET "/products/3" for 127.0.0.1 at 2018-10-06 20:45:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.6ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/show.html.erb within layouts/application (20.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 132ms (Views: 117.1ms | ActiveRecord: 2.1ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-06 20:45:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/3" for 127.0.0.1 at 2018-10-06 20:47:08 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 3]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 3)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (14.4ms)
  Rendered products/_user_rating.html.erb (4.2ms)
  Rendered products/show.html.erb within layouts/application (150.5ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 276ms (Views: 203.0ms | ActiveRecord: 4.8ms)


Started GET "/products/product/6.jpg" for 127.0.0.1 at 2018-10-06 20:47:08 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-06 20:47:09 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (21.3ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 83ms (Views: 75.9ms | ActiveRecord: 1.1ms)


Started GET "/product/6.jpg" for 127.0.0.1 at 2018-10-06 20:47:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/6.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/suggestions" for 127.0.0.1 at 2018-10-06 20:47:11 +0700
Processing by SuggestionsController#new as HTML
  Rendering suggestions/new.html.erb within layouts/application
  Rendered suggestions/new.html.erb within layouts/application (21.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 92ms (Views: 60.2ms | ActiveRecord: 2.6ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-06 20:47:26 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:47:26 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 66ms (Views: 60.8ms | ActiveRecord: 0.6ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-06 20:47:28 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:47:28 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (11.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 54ms (Views: 45.1ms | ActiveRecord: 1.3ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-06 20:47:29 +0700
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:59
Redirected to http://localhost:3000/
Filter chain halted as :load_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:47:29 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (22.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 79ms (Views: 63.1ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 20:54:07 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (256.7ms)
  Rendered layouts/_header.html.erb (4.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 741ms (Views: 702.4ms | ActiveRecord: 3.4ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:54:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (4.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.9ms)
  Rendered products/_user_rating.html.erb (6.5ms)
  Rendered products/show.html.erb within layouts/application (29.8ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 165ms (Views: 111.4ms | ActiveRecord: 11.4ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:54:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-06 20:54:12 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 13:54:12.237583"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (887.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.7ms)
  Rendered products/_user_rating.html.erb (6.3ms)
  Rendered products/rating.js.erb (66.9ms)
Completed 200 OK in 1063ms (Views: 93.3ms | ActiveRecord: 893.5ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=2" for 127.0.0.1 at 2018-10-06 20:54:14 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5", "point"=>"2", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-06 13:54:14.460127"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (331.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.3ms)
  Rendered products/_user_rating.html.erb (6.7ms)
  Rendered products/rating.js.erb (48.5ms)
Completed 200 OK in 444ms (Views: 73.1ms | ActiveRecord: 334.8ms)


Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F4%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F4%2526point%253D5%26point%3D2&point=1" for 127.0.0.1 at 2018-10-06 20:54:16 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F4%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F4%26point%3D5&point=2", "point"=>"1", "id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 13:54:16.497876"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (250.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.0ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/rating.js.erb (51.5ms)
Completed 200 OK in 370ms (Views: 75.4ms | ActiveRecord: 255.0ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-06 20:55:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.6ms)
  Rendered products/_user_rating.html.erb (5.7ms)
  Rendered products/show.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 108ms (Views: 63.4ms | ActiveRecord: 5.0ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 20:55:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/4?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F4&point=5" for 127.0.0.1 at 2018-10-06 20:55:15 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/4", "point"=>"5", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 4], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 13:55:15.873779"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (385.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.0ms)
  Rendered products/_user_rating.html.erb (2.5ms)
  Rendered products/rating.js.erb (50.3ms)
Completed 200 OK in 528ms (Views: 74.6ms | ActiveRecord: 389.9ms)


Started GET "/products/4" for 127.0.0.1 at 2018-10-06 21:13:20 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 4]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 4)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (656.2ms)
  Rendered products/_user_rating.html.erb (3.7ms)
  Rendered products/show.html.erb within layouts/application (763.4ms)
  Rendered layouts/_header.html.erb (8.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 947ms (Views: 897.0ms | ActiveRecord: 4.1ms)


Started GET "/products/product/7.jpg" for 127.0.0.1 at 2018-10-06 21:13:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-06 21:13:23 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (32.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 127ms (Views: 109.8ms | ActiveRecord: 2.2ms)


Started GET "/product/7.jpg" for 127.0.0.1 at 2018-10-06 21:13:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/product/7.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-10-06 21:15:18 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (16.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 128ms (Views: 122.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 21:16:32 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (23.6ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 134ms (Views: 127.2ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 21:16:45 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 146ms (Views: 131.4ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 21:16:47 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (17.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 75ms (Views: 65.7ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-06 21:16:48 +0700
Processing by StaticPagesController#home as HTML
DEPRECATION WARNING: Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): "count(order_details.product_id) DESC". Non-attribute arguments will be disallowed in Rails 6.0. This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql(). (called from block in <class:Product> at /mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/models/product.rb:9)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:4
  Rendering static_pages/home.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" INNER JOIN "order_details" ON "order_details"."product_id" = "products"."id" GROUP BY order_details.product_id ORDER BY count(order_details.product_id) DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/views/static_pages/home.html.erb:80
  Rendered static_pages/home.html.erb within layouts/application (24.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 88ms (Views: 79.9ms | ActiveRecord: 1.6ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:16:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.6ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 93ms (Views: 75.1ms | ActiveRecord: 2.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:16:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:16:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.8ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (14.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 71ms (Views: 61.1ms | ActiveRecord: 1.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:16:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:17:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.3ms)
  Rendered products/_user_rating.html.erb (3.5ms)
  Rendered products/show.html.erb within layouts/application (17.4ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 148ms (Views: 135.1ms | ActiveRecord: 2.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:17:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:17:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.9ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/show.html.erb within layouts/application (19.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 70.3ms | ActiveRecord: 1.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:17:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:18:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.5ms)
  Rendered products/_user_rating.html.erb (4.6ms)
  Rendered products/show.html.erb within layouts/application (19.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 205ms (Views: 191.3ms | ActiveRecord: 1.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:18:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:19:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.1ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (18.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 129ms (Views: 121.4ms | ActiveRecord: 1.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:19:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:20:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.9ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 118ms (Views: 106.9ms | ActiveRecord: 1.8ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:20:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:21:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/show.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 115ms (Views: 101.3ms | ActiveRecord: 2.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:21:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:29:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.4ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/show.html.erb within layouts/application (15.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 238ms (Views: 222.2ms | ActiveRecord: 2.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:29:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:31:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.2ms)
  Rendered products/_user_rating.html.erb (5.8ms)
  Rendered products/show.html.erb within layouts/application (14.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 121ms (Views: 109.4ms | ActiveRecord: 1.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:31:00 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:31:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/show.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 129ms (Views: 119.5ms | ActiveRecord: 1.8ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:31:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:31:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.0ms)
  Rendered products/_user_rating.html.erb (4.0ms)
  Rendered products/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 117ms (Views: 107.8ms | ActiveRecord: 1.2ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:31:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:33:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.2ms)
  Rendered products/_user_rating.html.erb (2.7ms)
  Rendered products/show.html.erb within layouts/application (13.5ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.4ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:6: syntax error, unexpected ',', expecting ')'
...ng/star-on.png",title: "#{i}"), class: "user_rating" );@outp...
...                              ^):
  
app/views/products/_user_rating.html.erb:6: syntax error, unexpected ',', expecting ')'
app/views/products/show.html.erb:64:in `_app_views_products_show_html_erb__4400523355968528685_69845068049360'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:33:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.6ms)
  Rendered products/_user_rating.html.erb (1.1ms)
  Rendered products/show.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 2.1ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:6: syntax error, unexpected ',', expecting ')'
...ng/star-on.png",title: "#{i}"), {class: "user_rating"} );@ou...
...                              ^):
  
app/views/products/_user_rating.html.erb:6: syntax error, unexpected ',', expecting ')'
app/views/products/show.html.erb:64:in `_app_views_products_show_html_erb__4400523355968528685_69845093851760'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:34:35 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.9ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 75ms (Views: 64.3ms | ActiveRecord: 1.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:34:35 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:35:41 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.7ms)
  Rendered products/_user_rating.html.erb (1.2ms)
  Rendered products/show.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.0ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_end
...#{i}", class: "user_rating")) );@output_buffer.safe_append='
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/products/_user_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_end
app/views/products/_user_rating.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
app/views/products/show.html.erb:64:in `_app_views_products_show_html_erb__4400523355968528685_69845068869620'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:35:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.2ms)
  Rendered products/_user_rating.html.erb (1.6ms)
  Rendered products/show.html.erb within layouts/application (9.1ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.0ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_end
...#{i}", class: "user_rating")) );@output_buffer.safe_append='
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/products/_user_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_end
app/views/products/_user_rating.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
app/views/products/show.html.erb:64:in `_app_views_products_show_html_erb__4400523355968528685_69845093933780'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:35:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (1.5ms)
  Rendered products/show.html.erb within layouts/application (14.2ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.1ms)


  
SyntaxError (/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_end
...#{i}", class: "user_rating")) );@output_buffer.safe_append='
...                              ^
/mnt/01D4358212FE18D0/FramGia/Com/5Project1/3src/ecommerce_53/app/views/products/_user_rating.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
          ^~~~~~):
  
app/views/products/_user_rating.html.erb:12: syntax error, unexpected ')', expecting keyword_end
app/views/products/_user_rating.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
app/views/products/show.html.erb:64:in `_app_views_products_show_html_erb__4400523355968528685_69845076596800'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:36:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/show.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 139ms (Views: 126.3ms | ActiveRecord: 1.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:36:00 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:36:52 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.3ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 141ms (Views: 130.4ms | ActiveRecord: 1.9ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:36:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/rating/star-off.png" for 127.0.0.1 at 2018-10-06 21:36:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/rating/star-off.png"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:37:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (10.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (25.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (12.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (26.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (80.1ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/show.html.erb within layouts/application (220.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1448ms (Views: 1224.0ms | ActiveRecord: 74.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:37:46 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/rating/star-off.png" for 127.0.0.1 at 2018-10-06 21:37:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/rating/star-off.png"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:38:27 +0700
  [1m[35m (13.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/hvd/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (840.8ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/show.html.erb within layouts/application (2301.3ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 2712ms (Views: 2548.7ms | ActiveRecord: 7.2ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:38:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/images/rating/star-off.png" for 127.0.0.1 at 2018-10-06 21:38:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/images/rating/star-off.png"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/images/rating/star-off.png" for 127.0.0.1 at 2018-10-06 21:38:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/images/rating/star-off.png"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/images/rating/star-off.png" for 127.0.0.1 at 2018-10-06 21:39:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/images/rating/star-off.png"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:39:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (2.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.4ms)
  Rendered products/_user_rating.html.erb (4.7ms)
  Rendered products/show.html.erb within layouts/application (20.9ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 161ms (Views: 146.1ms | ActiveRecord: 4.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:39:13 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:40:02 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (2.9ms)
  Rendered products/_user_rating.html.erb (6.5ms)
  Rendered products/show.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 129ms (Views: 116.6ms | ActiveRecord: 1.8ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:40:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:40:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.1ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/show.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 144ms (Views: 131.2ms | ActiveRecord: 2.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:40:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:43:06 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/show.html.erb within layouts/application (16.8ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 151ms (Views: 137.9ms | ActiveRecord: 2.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:43:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:43:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (10.5ms)
  Rendered products/_user_rating.html.erb (2.4ms)
  Rendered products/show.html.erb within layouts/application (17.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 114ms (Views: 100.1ms | ActiveRecord: 2.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:43:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:44:36 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.0ms)
  Rendered products/_user_rating.html.erb (4.0ms)
  Rendered products/show.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 122ms (Views: 108.8ms | ActiveRecord: 2.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:44:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:44:41 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.8ms)
  Rendered products/_user_rating.html.erb (2.5ms)
  Rendered products/show.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 122ms (Views: 108.3ms | ActiveRecord: 3.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:44:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:45:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.2ms)
  Rendered products/_user_rating.html.erb (6.2ms)
  Rendered products/show.html.erb within layouts/application (19.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 165ms (Views: 155.0ms | ActiveRecord: 2.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:45:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:46:38 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.1ms)
  Rendered products/_user_rating.html.erb (4.6ms)
  Rendered products/show.html.erb within layouts/application (16.4ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 129ms (Views: 115.4ms | ActiveRecord: 2.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:46:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:48:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.4ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/show.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 131ms (Views: 117.1ms | ActiveRecord: 2.2ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:48:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:48:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.2ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 123ms (Views: 109.9ms | ActiveRecord: 1.9ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:48:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:49:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.7ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/show.html.erb within layouts/application (15.2ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (1.6ms)
Completed 200 OK in 140ms (Views: 125.1ms | ActiveRecord: 3.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:49:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:50:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.9ms)
  Rendered products/_user_rating.html.erb (3.8ms)
  Rendered products/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 140ms (Views: 127.4ms | ActiveRecord: 2.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:50:12 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:51:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.0ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/show.html.erb within layouts/application (14.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 134ms (Views: 121.6ms | ActiveRecord: 2.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:51:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:51:45 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.5ms)
  Rendered products/_user_rating.html.erb (6.6ms)
  Rendered products/show.html.erb within layouts/application (15.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 129ms (Views: 116.3ms | ActiveRecord: 2.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:51:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:52:04 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (2.6ms)
  Rendered products/show.html.erb within layouts/application (15.2ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 154ms (Views: 134.9ms | ActiveRecord: 3.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:52:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:52:19 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.4ms)
  Rendered products/_user_rating.html.erb (6.4ms)
  Rendered products/show.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 158ms (Views: 147.2ms | ActiveRecord: 1.7ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:52:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:53:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (3.7ms)
  Rendered products/_user_rating.html.erb (7.3ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 138ms (Views: 127.7ms | ActiveRecord: 2.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:53:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:53:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.7ms)
  Rendered products/_user_rating.html.erb (4.1ms)
  Rendered products/show.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 91ms (Views: 76.0ms | ActiveRecord: 4.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:53:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:55:59 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 134ms (Views: 120.8ms | ActiveRecord: 2.3ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:55:59 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-06 21:56:02 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.6ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 14:56:02.357346"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (528.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.8ms)
  Rendered products/_user_rating.html.erb (3.1ms)
  Rendered products/rating.js.erb (48.0ms)
Completed 200 OK in 771ms (Views: 69.3ms | ActiveRecord: 541.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:56:04 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.4ms)
  Rendered products/_user_rating.html.erb (5.7ms)
  Rendered products/show.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 109ms (Views: 93.9ms | ActiveRecord: 2.8ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:56:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:57:18 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.0ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/show.html.erb within layouts/application (16.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 137ms (Views: 124.1ms | ActiveRecord: 1.9ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:57:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:59:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.9ms)
  Rendered products/_user_rating.html.erb (3.7ms)
  Rendered products/show.html.erb within layouts/application (19.5ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 137ms (Views: 129.3ms | ActiveRecord: 1.2ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:59:00 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:59:20 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/show.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 132ms (Views: 126.1ms | ActiveRecord: 0.8ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:59:20 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 21:59:43 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.3ms)
  Rendered products/_user_rating.html.erb (3.8ms)
  Rendered products/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 128ms (Views: 114.0ms | ActiveRecord: 3.7ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 21:59:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4" for 127.0.0.1 at 2018-10-06 22:00:30 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (2.3ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 15:00:30.267056"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (197.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (6.4ms)
  Rendered products/rating.js.erb (62.9ms)
Completed 200 OK in 346ms (Views: 91.9ms | ActiveRecord: 204.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:00:43 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (6.1ms)
  Rendered products/show.html.erb within layouts/application (21.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 87ms (Views: 81.0ms | ActiveRecord: 0.7ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:00:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:01:28 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (12.1ms)
  Rendered products/_user_rating.html.erb (4.2ms)
  Rendered products/show.html.erb within layouts/application (22.4ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 163ms (Views: 146.6ms | ActiveRecord: 3.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:01:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2" for 127.0.0.1 at 2018-10-06 22:01:36 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-06 15:01:36.793767"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (408.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (4.8ms)
  Rendered products/rating.js.erb (55.0ms)
Completed 200 OK in 526ms (Views: 78.1ms | ActiveRecord: 411.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:01:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.0ms)
  Rendered products/_user_rating.html.erb (10.7ms)
  Rendered products/show.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 99ms (Views: 87.3ms | ActiveRecord: 1.5ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:01:49 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4" for 127.0.0.1 at 2018-10-06 22:01:55 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 15:01:55.089858"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (297.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.9ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/rating.js.erb (50.9ms)
Completed 200 OK in 407ms (Views: 72.7ms | ActiveRecord: 301.0ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:02:24 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.7ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/show.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 89ms (Views: 75.9ms | ActiveRecord: 2.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:02:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:02:40 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.0ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:02:40.068830"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (296.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.4ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/rating.js.erb (46.5ms)
Completed 200 OK in 404ms (Views: 72.9ms | ActiveRecord: 300.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:04:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (47.9ms)
  Rendered products/_user_rating.html.erb (4.7ms)
  Rendered products/show.html.erb within layouts/application (57.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 168ms (Views: 153.9ms | ActiveRecord: 2.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:04:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:04:20 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.0ms)
  Rendered products/_user_rating.html.erb (4.7ms)
  Rendered products/rating.js.erb (49.0ms)
Completed 200 OK in 99ms (Views: 71.1ms | ActiveRecord: 2.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:06:11 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.8ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/show.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 78ms (Views: 71.3ms | ActiveRecord: 1.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:06:12 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:06:15 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.8ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/rating.js.erb (48.2ms)
Completed 200 OK in 105ms (Views: 68.7ms | ActiveRecord: 2.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:06:17 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.7ms)
  Rendered products/_user_rating.html.erb (2.3ms)
  Rendered products/show.html.erb within layouts/application (13.3ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 76ms (Views: 63.4ms | ActiveRecord: 2.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:06:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4" for 127.0.0.1 at 2018-10-06 22:06:25 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 15:06:25.513692"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (198.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.8ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (46.9ms)
Completed 200 OK in 312ms (Views: 71.2ms | ActiveRecord: 203.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:11:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (4.7ms)
  Rendered products/show.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 132ms (Views: 122.5ms | ActiveRecord: 1.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:11:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:12:22 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.0ms)
  Rendered products/_user_rating.html.erb (6.1ms)
  Rendered products/show.html.erb within layouts/application (18.7ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 145ms (Views: 133.2ms | ActiveRecord: 2.2ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:12:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:12:33 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.8ms)
  Rendered products/_user_rating.html.erb (3.3ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 132ms (Views: 118.4ms | ActiveRecord: 1.9ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:12:33 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:13:14 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.2ms)
  Rendered products/_user_rating.html.erb (4.7ms)
  Rendered products/show.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 155ms (Views: 139.9ms | ActiveRecord: 3.9ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:13:14 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-06 22:13:17 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 15:13:17.684551"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (491.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.0ms)
  Rendered products/_user_rating.html.erb (5.6ms)
  Rendered products/rating.js.erb (51.9ms)
Completed 200 OK in 606ms (Views: 76.7ms | ActiveRecord: 494.7ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:14:31 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (4.9ms)
  Rendered products/_user_rating.html.erb (4.5ms)
  Rendered products/show.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 131ms (Views: 119.3ms | ActiveRecord: 2.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:14:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:14:34 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:14:34.789454"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (435.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (7.0ms)
  Rendered products/_user_rating.html.erb (3.8ms)
  Rendered products/rating.js.erb (49.9ms)
Completed 200 OK in 547ms (Views: 73.4ms | ActiveRecord: 438.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:15:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (7.9ms)
  Rendered products/_user_rating.html.erb (13.3ms)
  Rendered products/show.html.erb within layouts/application (26.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 89ms (Views: 75.2ms | ActiveRecord: 2.1ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:15:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3" for 127.0.0.1 at 2018-10-06 22:15:42 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-06 15:15:42.482302"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (356.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.7ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/rating.js.erb (47.9ms)
Completed 200 OK in 464ms (Views: 71.1ms | ActiveRecord: 361.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:16:23 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (9.3ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/show.html.erb within layouts/application (20.0ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 110ms (Views: 96.1ms | ActiveRecord: 1.5ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:16:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:16:25 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.9ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:16:25.912886"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (320.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.2ms)
  Rendered products/_user_rating.html.erb (2.9ms)
  Rendered products/rating.js.erb (49.7ms)
Completed 200 OK in 432ms (Views: 72.8ms | ActiveRecord: 324.4ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=1" for 127.0.0.1 at 2018-10-06 22:16:29 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.7ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 15:16:29.136739"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (245.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.1ms)
  Rendered products/_user_rating.html.erb (4.7ms)
  Rendered products/rating.js.erb (53.1ms)
Completed 200 OK in 352ms (Views: 74.2ms | ActiveRecord: 248.5ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:16:31 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (2.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:16:31.827835"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (251.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.5ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/rating.js.erb (58.2ms)
Completed 200 OK in 367ms (Views: 80.7ms | ActiveRecord: 255.8ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:17:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (9.9ms)
  Rendered products/_user_rating.html.erb (2.5ms)
  Rendered products/show.html.erb within layouts/application (17.2ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 81ms (Views: 68.8ms | ActiveRecord: 2.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:17:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=3" for 127.0.0.1 at 2018-10-06 22:17:34 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"3", "id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 3], ["updated_at", "2018-10-06 15:17:34.096472"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (357.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.2ms)
  Rendered products/_user_rating.html.erb (3.4ms)
  Rendered products/rating.js.erb (54.1ms)
Completed 200 OK in 475ms (Views: 76.6ms | ActiveRecord: 362.3ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:17:40 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.6ms)
  Rendered products/_user_rating.html.erb (5.1ms)
  Rendered products/show.html.erb within layouts/application (21.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 110ms (Views: 93.9ms | ActiveRecord: 1.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:17:40 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
=======
    86:             <p class="citem">$ <%= product.price %></p>
  
app/views/static_pages/home.html.erb:83:in `block (2 levels) in _app_views_static_pages_home_html_erb__1597360343490400933_70350474717300'
app/views/static_pages/home.html.erb:82:in `block in _app_views_static_pages_home_html_erb__1597360343490400933_70350474717300'
app/views/static_pages/home.html.erb:80:in `each'
app/views/static_pages/home.html.erb:80:in `_app_views_static_pages_home_html_erb__1597360343490400933_70350474717300'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (78.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (97.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (89.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (69.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (55.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (36.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001044227)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "quantity" integer, "category" varchar, "price" integer, "rate" float DEFAULT 0.0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001044227_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001044227"]]
  ↳ bin/rails:9
  [1m[35m (60.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrders (20181002020211)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020211_create_orders.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (6.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020211"]]
  ↳ bin/rails:9
  [1m[35m (97.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "poroduct_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (72.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPictureToProducts (20181002040452)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "products" ADD "picture" varchar[0m
  ↳ db/migrate/20181002040452_add_picture_to_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002040452"]]
  ↳ bin/rails:9
  [1m[35m (54.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-04 01:50:41.366939"], ["updated_at", "2018-10-04 01:50:41.366939"]]
  ↳ bin/rails:9
  [1m[35m (50.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:2
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:2
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-04 01:50:44.137011"], ["updated_at", "2018-10-04 01:50:44.137011"], ["password_digest", "$2a$10$9VYYj90pnvRQk6TcmjInTO1ITBnOzPh4O0TUEYIr5bSh2Z5vAg48C"]]
  ↳ db/seeds.rb:2
  [1m[35m (76.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:2
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:10
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:10
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-04 01:50:44.280533"], ["updated_at", "2018-10-04 01:50:44.280533"], ["password_digest", "$2a$10$r1GhW2z.nsaMAN0KqoozKuZNCsjSfgimzFo8oAxEWqvdKwRAlq142"]]
  ↳ db/seeds.rb:10
  [1m[35m (64.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:10
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-1@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kayleen Dare"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-1@railstutorial.org"], ["created_at", "2018-10-04 01:50:44.458314"], ["updated_at", "2018-10-04 01:50:44.458314"], ["password_digest", "$2a$10$1CvaJbPhOhUyB4gNXqNSFu8AWX9cKaJoUUvALBUgXI6MTVldIeY9y"]]
  ↳ db/seeds.rb:26
  [1m[35m (44.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-2@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Buster Lebsack"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-2@railstutorial.org"], ["created_at", "2018-10-04 01:50:44.568037"], ["updated_at", "2018-10-04 01:50:44.568037"], ["password_digest", "$2a$10$kEUxHcj/P8ix5tDqT6D3OOB0lJavID8KhUhoI95bkBS0aA/YpCqNe"]]
  ↳ db/seeds.rb:26
  [1m[35m (58.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-3@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Tanner Wyman"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-3@railstutorial.org"], ["created_at", "2018-10-04 01:50:44.691283"], ["updated_at", "2018-10-04 01:50:44.691283"], ["password_digest", "$2a$10$znhPPcLoOfA4QAM7/mudS.Eam1XblXq06YavPrODsLYQsSBFM6tDO"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-4@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Marcelino Koepp"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-4@railstutorial.org"], ["created_at", "2018-10-04 01:50:44.814706"], ["updated_at", "2018-10-04 01:50:44.814706"], ["password_digest", "$2a$10$5XWmxITVuuBQFX2weejERePTXV67JjrDbangSOQdxFlzUYdq57ZJO"]]
  ↳ db/seeds.rb:26
  [1m[35m (59.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-5@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Leo Fay I"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-5@railstutorial.org"], ["created_at", "2018-10-04 01:50:44.938436"], ["updated_at", "2018-10-04 01:50:44.938436"], ["password_digest", "$2a$10$g.9iRjlhoXm3xafy0QikiuGWJfA33cQ4bF0pVbwE0mxMI67p/euxW"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-6@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Erin Gaylord"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-6@railstutorial.org"], ["created_at", "2018-10-04 01:50:45.054920"], ["updated_at", "2018-10-04 01:50:45.054920"], ["password_digest", "$2a$10$aHgmHUK8Hb3OTWaXYaV2uOm86UH8sq7UDAjyvh9BUue.B93J7SKI2"]]
  ↳ db/seeds.rb:26
  [1m[35m (58.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-7@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Benny Rosenbaum"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-7@railstutorial.org"], ["created_at", "2018-10-04 01:50:45.177477"], ["updated_at", "2018-10-04 01:50:45.177477"], ["password_digest", "$2a$10$VIGZOxomjmk.vlGwCn0lZe8azTqeSEacumnPQE75ga5iIXxhFrj0K"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-8@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Markus Gutmann"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-8@railstutorial.org"], ["created_at", "2018-10-04 01:50:45.292937"], ["updated_at", "2018-10-04 01:50:45.292937"], ["password_digest", "$2a$10$bOU2SiT8MxGxTvRqU4Z75eQnpBccKGVTOU0Gi8fx80WtO7gdLiY/O"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-9@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Romona Goldner DDS"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-9@railstutorial.org"], ["created_at", "2018-10-04 01:50:45.409132"], ["updated_at", "2018-10-04 01:50:45.409132"], ["password_digest", "$2a$10$T0lW8goiOL3gJrauHYTbJ.GzCvQxJaKX7BFxx/1eAXLRW2S3hXhhm"]]
  ↳ db/seeds.rb:26
  [1m[35m (41.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-10@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kasey Nienow DVM"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-10@railstutorial.org"], ["created_at", "2018-10-04 01:50:45.517579"], ["updated_at", "2018-10-04 01:50:45.517579"], ["password_digest", "$2a$10$2YXgnISs2/AcQI5Hy3dYhuEPXMhhUwv8EfC9MxD3zlnuqPUutufQy"]]
  ↳ db/seeds.rb:26
  [1m[35m (57.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 1"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 1000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.586396"], ["updated_at", "2018-10-04 01:50:45.586396"]]
  ↳ db/seeds.rb:42
  [1m[35m (87.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 2"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 2000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.676555"], ["updated_at", "2018-10-04 01:50:45.676555"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 3"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 3000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.736260"], ["updated_at", "2018-10-04 01:50:45.736260"]]
  ↳ db/seeds.rb:42
  [1m[35m (68.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 4"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 4"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 4000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.810138"], ["updated_at", "2018-10-04 01:50:45.810138"]]
  ↳ db/seeds.rb:42
  [1m[35m (52.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 5"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 5"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 5000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.867268"], ["updated_at", "2018-10-04 01:50:45.867268"]]
  ↳ db/seeds.rb:42
  [1m[35m (69.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 6"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 6"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 6000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.941355"], ["updated_at", "2018-10-04 01:50:45.941355"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 7"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 7"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 7000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:45.998812"], ["updated_at", "2018-10-04 01:50:45.998812"]]
  ↳ db/seeds.rb:42
  [1m[35m (79.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 8"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 8"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 8000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:46.080910"], ["updated_at", "2018-10-04 01:50:46.080910"]]
  ↳ db/seeds.rb:42
  [1m[35m (46.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 9"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 9"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 9000000], ["rate", 4.5], ["created_at", "2018-10-04 01:50:46.129740"], ["updated_at", "2018-10-04 01:50:46.129740"]]
  ↳ db/seeds.rb:42
  [1m[35m (63.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
Started GET "/" for 127.0.0.1 at 2018-10-04 08:50:53 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:16
  Rendered layouts/_header.html.erb (10.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 106ms (Views: 93.6ms | ActiveRecord: 1.2ms)


Started GET "/products/9" for 127.0.0.1 at 2018-10-04 08:51:00 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:38
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (30.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:16
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 66.5ms | ActiveRecord: 0.3ms)


Started GET "/products/product/default-product.jpg" for 127.0.0.1 at 2018-10-04 08:51:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/default-product.jpg"):
>>>>>>> Product Init
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
<<<<<<< HEAD
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:17:41 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (0.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:17:41.949337"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (308.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.5ms)
  Rendered products/_user_rating.html.erb (3.9ms)
  Rendered products/rating.js.erb (54.0ms)
Completed 200 OK in 422ms (Views: 77.9ms | ActiveRecord: 312.1ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:17:47 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (6.6ms)
  Rendered products/_user_rating.html.erb (5.0ms)
  Rendered products/show.html.erb within layouts/application (17.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 96ms (Views: 86.3ms | ActiveRecord: 1.5ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:17:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
=======
Started DELETE "/logout" for 127.0.0.1 at 2018-10-04 08:51:54 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EOCH7U11vfpCwrXsXAE8Dpv5IPdYTgRvBf4dqvGI3DCU2SN3oUbRNz+pljba/2gSu8GMS/Tj0Utvl/xKhmWv8A=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:42
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 08:51:54 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 56ms (Views: 51.9ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2018-10-04 08:51:56 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 65ms (Views: 61.5ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at 2018-10-04 08:51:59 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered users/_form.html.erb (20.1ms)
  Rendered users/new.html.erb within layouts/application (23.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 87ms (Views: 83.7ms | ActiveRecord: 0.0ms)


Started GET "/cart.html" for 127.0.0.1 at 2018-10-04 08:52:00 +0700
  
ActionController::RoutingError (No route matches [GET] "/cart.html"):
>>>>>>> Product Init
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
<<<<<<< HEAD
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2" for 127.0.0.1 at 2018-10-06 22:17:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-06 15:17:49.592160"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (319.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (6.3ms)
  Rendered products/_user_rating.html.erb (3.2ms)
  Rendered products/rating.js.erb (48.4ms)
Completed 200 OK in 430ms (Views: 70.4ms | ActiveRecord: 324.4ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:17:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.2ms)
  Rendered products/_user_rating.html.erb (5.1ms)
  Rendered products/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 80ms (Views: 71.5ms | ActiveRecord: 1.4ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:17:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=4" for 127.0.0.1 at 2018-10-06 22:17:58 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 15:17:58.507601"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (661.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.9ms)
  Rendered products/_user_rating.html.erb (4.3ms)
  Rendered products/rating.js.erb (50.7ms)
Completed 200 OK in 764ms (Views: 69.1ms | ActiveRecord: 665.9ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:18:09 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (5.7ms)
  Rendered products/_user_rating.html.erb (5.3ms)
  Rendered products/show.html.erb within layouts/application (18.1ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 77ms (Views: 65.5ms | ActiveRecord: 2.6ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:18:09 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
=======
Started GET "/signup" for 127.0.0.1 at 2018-10-04 08:52:02 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered users/_form.html.erb (3.1ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 34ms (Views: 31.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 08:52:03 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 44ms (Views: 39.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 08:53:32 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 08:53:32 +0700
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 41ms (Views: 36.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-10-04 11:09:05 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/nvmintue/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
>>>>>>> Product Init
  
activerecord (5.2.1) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
<<<<<<< HEAD
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=5" for 127.0.0.1 at 2018-10-06 22:18:11 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.8ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:18:11.529356"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (352.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (3.5ms)
  Rendered products/_user_rating.html.erb (5.9ms)
  Rendered products/rating.js.erb (48.8ms)
Completed 200 OK in 464ms (Views: 73.3ms | ActiveRecord: 356.5ms)


Started GET "/products/1" for 127.0.0.1 at 2018-10-06 22:19:39 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product_rating.html.erb (8.1ms)
  Rendered products/_user_rating.html.erb (2.4ms)
  Rendered products/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 88ms (Views: 74.2ms | ActiveRecord: 2.0ms)


Started GET "/products/product/5.jpg" for 127.0.0.1 at 2018-10-06 22:19:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/products/product/5.jpg"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2" for 127.0.0.1 at 2018-10-06 22:19:41 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/products/1", "point"=>"2", "id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.1ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 2], ["updated_at", "2018-10-06 15:19:41.515401"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (334.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.2ms)
  Rendered products/_user_rating.html.erb (6.1ms)
  Rendered products/rating.js.erb (49.6ms)
Completed 200 OK in 443ms (Views: 74.9ms | ActiveRecord: 338.3ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D2&point=5" for 127.0.0.1 at 2018-10-06 22:19:45 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproducts%2F1&point=2", "point"=>"5", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.4ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 5], ["updated_at", "2018-10-06 15:19:45.564729"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (233.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.7ms)
  Rendered products/_user_rating.html.erb (2.8ms)
  Rendered products/rating.js.erb (37.9ms)
Completed 200 OK in 328ms (Views: 56.9ms | ActiveRecord: 237.6ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D2%26point%3D5&point=1" for 127.0.0.1 at 2018-10-06 22:19:48 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproducts%252F1%26point%3D2&point=5", "point"=>"1", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.5ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 1], ["updated_at", "2018-10-06 15:19:48.101671"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (229.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (5.4ms)
  Rendered products/_user_rating.html.erb (4.4ms)
  Rendered products/rating.js.erb (57.6ms)
Completed 200 OK in 349ms (Views: 83.2ms | ActiveRecord: 233.4ms)


Started POST "/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproduct_rating%25252F1%25253Fold%25253Dhttp%2525253A%2525252F%2525252Flocalhost%2525253A3000%2525252Fproducts%2525252F1%252526point%25253D2%2526point%253D5%26point%3D1&point=4" for 127.0.0.1 at 2018-10-06 22:19:49 +0700
Processing by ProductsController#rating as JS
  Parameters: {"old"=>"http://localhost:3000/product_rating/1?old=http%3A%2F%2Flocalhost%3A3000%2Fproduct_rating%2F1%3Fold%3Dhttp%253A%252F%252Flocalhost%253A3000%252Fproduct_rating%252F1%253Fold%253Dhttp%25253A%25252F%25252Flocalhost%25253A3000%25252Fproducts%25252F1%2526point%253D2%26point%3D5&point=1", "point"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:32
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ? AND "ratings"."user_id" = ? LIMIT ?[0m  [["product_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[36mRating Update (1.2ms)[0m  [1m[33mUPDATE "ratings" SET "rating" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["rating", 4], ["updated_at", "2018-10-06 15:19:49.946093"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (270.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:3
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = ?[0m  [["product_id", 1]]
  ↳ lib/controller/product_lib.rb:6
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE (user_id = 1 and product_id = 1)[0m
  ↳ app/controllers/products_controller.rb:11
  Rendering products/rating.js.erb
  Rendered products/_product_rating.html.erb (4.5ms)
  Rendered products/_user_rating.html.erb (3.7ms)
  Rendered products/rating.js.erb (50.2ms)
Completed 200 OK in 395ms (Views: 75.6ms | ActiveRecord: 274.9ms)
=======
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (80.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (98.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateUsers (20180928060628)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "role" integer DEFAULT 0, "name" varchar, "phone" varchar, "address" varchar, "email" varchar, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20180928060628_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928060628"]]
  ↳ bin/rails:9
  [1m[35m (66.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddIndexToUsersEmail (20180928062023)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20180928062023_add_index_to_users_email.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928062023"]]
  ↳ bin/rails:9
  [1m[35m (77.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPasswordDigestToUsers (20180928063001)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  ↳ db/migrate/20180928063001_add_password_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928063001"]]
  ↳ bin/rails:9
  [1m[35m (71.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddRememberDigestToUsers (20180928095841)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_digest" varchar[0m
  ↳ db/migrate/20180928095841_add_remember_digest_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180928095841"]]
  ↳ bin/rails:9
  [1m[35m (35.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateProducts (20181001044227)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "quantity" integer, "category" varchar, "price" integer, "rate" float DEFAULT 0.0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181001044227_create_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181001044227"]]
  ↳ bin/rails:9
  [1m[35m (63.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "poroduct_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (81.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddPictureToProducts (20181002040452)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "products" ADD "picture" varchar[0m
  ↳ db/migrate/20181002040452_add_picture_to_products.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002040452"]]
  ↳ bin/rails:9
  [1m[35m (48.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-04 04:09:22.638638"], ["updated_at", "2018-10-04 04:09:22.638638"]]
  ↳ bin/rails:9
  [1m[35m (52.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:2
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "nvminhtue@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:2
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Minh Tue"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "nvminhtue@gmail.com"], ["created_at", "2018-10-04 04:09:30.338914"], ["updated_at", "2018-10-04 04:09:30.338914"], ["password_digest", "$2a$10$g8EcHaIxIV31AHYTkUVEcOh/UyNmZghfl4RrxmD8NIoehywxuA31i"]]
  ↳ db/seeds.rb:2
  [1m[35m (77.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:2
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:10
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "dong@gmail.com"], ["LIMIT", 1]]
  ↳ db/seeds.rb:10
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["role", 1], ["name", "Ha Van Dong"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "dong@gmail.com"], ["created_at", "2018-10-04 04:09:30.480829"], ["updated_at", "2018-10-04 04:09:30.480829"], ["password_digest", "$2a$10$w9yaxBQsCkqcCE1tWaOfdeWlgWHIRH4EAEun1cSAv.lFuuKz5YlNO"]]
  ↳ db/seeds.rb:10
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:10
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-1@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Candance Marquardt"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-1@railstutorial.org"], ["created_at", "2018-10-04 04:09:30.664644"], ["updated_at", "2018-10-04 04:09:30.664644"], ["password_digest", "$2a$10$fHkR5sWtYq9N1rrX9T5dveikuzEJfClgH1nRBmdV57Gv.QIEz6fzG"]]
  ↳ db/seeds.rb:26
  [1m[35m (56.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-2@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Jc Bartoletti"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-2@railstutorial.org"], ["created_at", "2018-10-04 04:09:30.786502"], ["updated_at", "2018-10-04 04:09:30.786502"], ["password_digest", "$2a$10$.sC6xslQzPq7kOYciPrCDenvdWN4SsAapyLHkCrOt1b5cFxga7iAC"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-3@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Bryce Gusikowski"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-3@railstutorial.org"], ["created_at", "2018-10-04 04:09:30.904288"], ["updated_at", "2018-10-04 04:09:30.904288"], ["password_digest", "$2a$10$PGqBus07XOxlA7DdC4pG1.O1t0XAkWjAk4/qzTydhGviTQeK8SPs6"]]
  ↳ db/seeds.rb:26
  [1m[35m (56.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-4@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mrs. Wilber Crona"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-4@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.026110"], ["updated_at", "2018-10-04 04:09:31.026110"], ["password_digest", "$2a$10$e2tkbmH6KXJ/qfFGYJ7qbe2It9x9nMn8xuZjT1q4jdmItDxooxKuC"]]
  ↳ db/seeds.rb:26
  [1m[35m (86.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-5@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Theresia Hansen"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-5@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.179666"], ["updated_at", "2018-10-04 04:09:31.179666"], ["password_digest", "$2a$10$WDIw6VFJwKlI76fHjREnM.I7ThdS4eEMV.VKXB2fn4ZSJvcblRz8S"]]
  ↳ db/seeds.rb:26
  [1m[35m (52.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-6@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Merideth Leannon"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-6@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.297431"], ["updated_at", "2018-10-04 04:09:31.297431"], ["password_digest", "$2a$10$xyGJ8sQ6jIx.ZoZwOABmhOzCr17C1Svw3kMZF4BqmWiYdKyVu0rKS"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-7@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mr. Justine Beier"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-7@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.414890"], ["updated_at", "2018-10-04 04:09:31.414890"], ["password_digest", "$2a$10$IszoVVPKnU7tDiGW2yIXS.vMEoOA1IxPnIzxJuS1WRx81ZMrQFTBO"]]
  ↳ db/seeds.rb:26
  [1m[35m (48.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-8@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Pat Rodriguez"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-8@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.528290"], ["updated_at", "2018-10-04 04:09:31.528290"], ["password_digest", "$2a$10$q28K4pLU58bPN.wR.sD4ueTlhmDHhM8SXKSj0w.fULYss6DYz/kAm"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-9@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Wonda Dicki"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-9@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.645797"], ["updated_at", "2018-10-04 04:09:31.645797"], ["password_digest", "$2a$10$5UTvvmpg9Qx9xV4OnhkDU.Usfx3ajPzi.8fEl9CEnE09GgSAI7hkm"]]
  ↳ db/seeds.rb:26
  [1m[35m (56.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:26
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example-10@railstutorial.org"], ["LIMIT", 1]]
  ↳ db/seeds.rb:26
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "phone", "address", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ms. Gregoria Schroeder"], ["phone", "0905507959"], ["address", "16 Ly Thuong Kiet"], ["email", "example-10@railstutorial.org"], ["created_at", "2018-10-04 04:09:31.767322"], ["updated_at", "2018-10-04 04:09:31.767322"], ["password_digest", "$2a$10$ag/.5HvDGZV.pLD8Q798Dur.h8AnRN76EDjID4alSspOmk42qPwAm"]]
  ↳ db/seeds.rb:26
  [1m[35m (50.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:26
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 1"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 1"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 1000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:31.829000"], ["updated_at", "2018-10-04 04:09:31.829000"]]
  ↳ db/seeds.rb:42
  [1m[35m (68.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 2"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 2"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 2000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:31.900687"], ["updated_at", "2018-10-04 04:09:31.900687"]]
  ↳ db/seeds.rb:42
  [1m[35m (56.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 3"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 3"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 3000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:31.961135"], ["updated_at", "2018-10-04 04:09:31.961135"]]
  ↳ db/seeds.rb:42
  [1m[35m (72.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 4"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 4"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 4000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:32.038056"], ["updated_at", "2018-10-04 04:09:32.038056"]]
  ↳ db/seeds.rb:42
  [1m[35m (51.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 5"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 5"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 5000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:32.093070"], ["updated_at", "2018-10-04 04:09:32.093070"]]
  ↳ db/seeds.rb:42
  [1m[35m (70.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 6"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 6"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 6000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:32.167198"], ["updated_at", "2018-10-04 04:09:32.167198"]]
  ↳ db/seeds.rb:42
  [1m[35m (153.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 7"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 7"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 7000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:32.323939"], ["updated_at", "2018-10-04 04:09:32.323939"]]
  ↳ db/seeds.rb:42
  [1m[35m (54.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 8"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 8"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 8000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:32.383594"], ["updated_at", "2018-10-04 04:09:32.383594"]]
  ↳ db/seeds.rb:42
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ db/seeds.rb:42
  [1m[36mProduct Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Product 9"], ["LIMIT", 1]]
  ↳ db/seeds.rb:42
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "category", "price", "rate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Product 9"], ["description", "description"], ["image", "product/default-product.jpg"], ["category", "None"], ["price", 9000000], ["rate", 4.5], ["created_at", "2018-10-04 04:09:32.455825"], ["updated_at", "2018-10-04 04:09:32.455825"]]
  ↳ db/seeds.rb:42
  [1m[35m (53.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ db/seeds.rb:42
Started GET "/" for 127.0.0.1 at 2018-10-04 11:10:21 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /home/nvmintue/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#home as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."created_at" DESC LIMIT ?[0m  [["LIMIT", 12]]
  ↳ app/controllers/static_pages_controller.rb:3
  Rendering static_pages/home.html.erb within layouts/application
  Rendered static_pages/home.html.erb within layouts/application (229.0ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 353ms (Views: 312.0ms | ActiveRecord: 1.2ms)
>>>>>>> Product Init
>>>>>>> Product Init


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateOrderDetails (20181002020319)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_id" integer, "quantity" integer, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002020319_create_order_details.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002020319"]]
  ↳ bin/rails:9
  [1m[35m (81.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateRatings (20181002071758)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "product_id" integer, "rating" integer DEFAULT 0, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181002071758_create_ratings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181002071758"]]
  ↳ bin/rails:9
  [1m[35m (92.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateSuggestions (20181003010220)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "suggestions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar, "description" varchar, "cartegory_id" integer, "image" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181003010220_create_suggestions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181003010220"]]
  ↳ bin/rails:9
  [1m[35m (84.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateCategories (20181005060958)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "parent_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20181005060958_create_categories.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20181005060958"]]
  ↳ bin/rails:9
  [1m[35m (102.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
